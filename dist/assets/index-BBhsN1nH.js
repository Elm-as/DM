function vy(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var id={exports:{}},_a={},ad={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function L1(){if(Rg)return Fe;Rg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function j(E,V,ie){this.props=E,this.context=V,this.refs=N,this.updater=ie||b}j.prototype.isReactComponent={},j.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function A(){}A.prototype=j.prototype;function C(E,V,ie){this.props=E,this.context=V,this.refs=N,this.updater=ie||b}var k=C.prototype=new A;k.constructor=C,S(k,j.prototype),k.isPureReactComponent=!0;var L=Array.isArray,R=Object.prototype.hasOwnProperty,D={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function H(E,V,ie){var xe,Ae={},Se=null,De=null;if(V!=null)for(xe in V.ref!==void 0&&(De=V.ref),V.key!==void 0&&(Se=""+V.key),V)R.call(V,xe)&&!z.hasOwnProperty(xe)&&(Ae[xe]=V[xe]);var je=arguments.length-2;if(je===1)Ae.children=ie;else if(1<je){for(var Le=Array(je),Ye=0;Ye<je;Ye++)Le[Ye]=arguments[Ye+2];Ae.children=Le}if(E&&E.defaultProps)for(xe in je=E.defaultProps,je)Ae[xe]===void 0&&(Ae[xe]=je[xe]);return{$$typeof:t,type:E,key:Se,ref:De,props:Ae,_owner:D.current}}function Z(E,V){return{$$typeof:t,type:E.type,key:V,ref:E.ref,props:E.props,_owner:E._owner}}function re(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ge(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ie){return V[ie]})}var ee=/\/+/g;function he(E,V){return typeof E=="object"&&E!==null&&E.key!=null?ge(""+E.key):V.toString(36)}function le(E,V,ie,xe,Ae){var Se=typeof E;(Se==="undefined"||Se==="boolean")&&(E=null);var De=!1;if(E===null)De=!0;else switch(Se){case"string":case"number":De=!0;break;case"object":switch(E.$$typeof){case t:case e:De=!0}}if(De)return De=E,Ae=Ae(De),E=xe===""?"."+he(De,0):xe,L(Ae)?(ie="",E!=null&&(ie=E.replace(ee,"$&/")+"/"),le(Ae,V,ie,"",function(Ye){return Ye})):Ae!=null&&(re(Ae)&&(Ae=Z(Ae,ie+(!Ae.key||De&&De.key===Ae.key?"":(""+Ae.key).replace(ee,"$&/")+"/")+E)),V.push(Ae)),1;if(De=0,xe=xe===""?".":xe+":",L(E))for(var je=0;je<E.length;je++){Se=E[je];var Le=xe+he(Se,je);De+=le(Se,V,ie,Le,Ae)}else if(Le=y(E),typeof Le=="function")for(E=Le.call(E),je=0;!(Se=E.next()).done;)Se=Se.value,Le=xe+he(Se,je++),De+=le(Se,V,ie,Le,Ae);else if(Se==="object")throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return De}function ye(E,V,ie){if(E==null)return E;var xe=[],Ae=0;return le(E,xe,"","",function(Se){return V.call(ie,Se,Ae++)}),xe}function _e(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(ie){(E._status===0||E._status===-1)&&(E._status=1,E._result=ie)},function(ie){(E._status===0||E._status===-1)&&(E._status=2,E._result=ie)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var fe={current:null},X={transition:null},M={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:X,ReactCurrentOwner:D};function P(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:ye,forEach:function(E,V,ie){ye(E,function(){V.apply(this,arguments)},ie)},count:function(E){var V=0;return ye(E,function(){V++}),V},toArray:function(E){return ye(E,function(V){return V})||[]},only:function(E){if(!re(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Fe.Component=j,Fe.Fragment=r,Fe.Profiler=o,Fe.PureComponent=C,Fe.StrictMode=s,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Fe.act=P,Fe.cloneElement=function(E,V,ie){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var xe=S({},E.props),Ae=E.key,Se=E.ref,De=E._owner;if(V!=null){if(V.ref!==void 0&&(Se=V.ref,De=D.current),V.key!==void 0&&(Ae=""+V.key),E.type&&E.type.defaultProps)var je=E.type.defaultProps;for(Le in V)R.call(V,Le)&&!z.hasOwnProperty(Le)&&(xe[Le]=V[Le]===void 0&&je!==void 0?je[Le]:V[Le])}var Le=arguments.length-2;if(Le===1)xe.children=ie;else if(1<Le){je=Array(Le);for(var Ye=0;Ye<Le;Ye++)je[Ye]=arguments[Ye+2];xe.children=je}return{$$typeof:t,type:E.type,key:Ae,ref:Se,props:xe,_owner:De}},Fe.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},Fe.createElement=H,Fe.createFactory=function(E){var V=H.bind(null,E);return V.type=E,V},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(E){return{$$typeof:d,render:E}},Fe.isValidElement=re,Fe.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:_e}},Fe.memo=function(E,V){return{$$typeof:p,type:E,compare:V===void 0?null:V}},Fe.startTransition=function(E){var V=X.transition;X.transition={};try{E()}finally{X.transition=V}},Fe.unstable_act=P,Fe.useCallback=function(E,V){return fe.current.useCallback(E,V)},Fe.useContext=function(E){return fe.current.useContext(E)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(E){return fe.current.useDeferredValue(E)},Fe.useEffect=function(E,V){return fe.current.useEffect(E,V)},Fe.useId=function(){return fe.current.useId()},Fe.useImperativeHandle=function(E,V,ie){return fe.current.useImperativeHandle(E,V,ie)},Fe.useInsertionEffect=function(E,V){return fe.current.useInsertionEffect(E,V)},Fe.useLayoutEffect=function(E,V){return fe.current.useLayoutEffect(E,V)},Fe.useMemo=function(E,V){return fe.current.useMemo(E,V)},Fe.useReducer=function(E,V,ie){return fe.current.useReducer(E,V,ie)},Fe.useRef=function(E){return fe.current.useRef(E)},Fe.useState=function(E){return fe.current.useState(E)},Fe.useSyncExternalStore=function(E,V,ie){return fe.current.useSyncExternalStore(E,V,ie)},Fe.useTransition=function(){return fe.current.useTransition()},Fe.version="18.3.1",Fe}var Og;function zh(){return Og||(Og=1,ad.exports=L1()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function I1(){if(Dg)return _a;Dg=1;var t=zh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var g,x={},y=null,b=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(x[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)x[g]===void 0&&(x[g]=f[g]);return{$$typeof:e,type:d,key:y,ref:b,props:x,_owner:o.current}}return _a.Fragment=r,_a.jsx=c,_a.jsxs=c,_a}var Lg;function M1(){return Lg||(Lg=1,id.exports=I1()),id.exports}var a=M1(),_=zh();const ct=lc(_),F1=vy({__proto__:null,default:ct},[_]);var vl={},od={exports:{}},tr={},ld={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function z1(){return Ig||(Ig=1,(function(t){function e(X,M){var P=X.length;X.push(M);e:for(;0<P;){var E=P-1>>>1,V=X[E];if(0<o(V,M))X[E]=M,X[P]=V,P=E;else break e}}function r(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var M=X[0],P=X.pop();if(P!==M){X[0]=P;e:for(var E=0,V=X.length,ie=V>>>1;E<ie;){var xe=2*(E+1)-1,Ae=X[xe],Se=xe+1,De=X[Se];if(0>o(Ae,P))Se<V&&0>o(De,Ae)?(X[E]=De,X[Se]=P,E=Se):(X[E]=Ae,X[xe]=P,E=xe);else if(Se<V&&0>o(De,P))X[E]=De,X[Se]=P,E=Se;else break e}}return M}function o(X,M){var P=X.sortIndex-M.sortIndex;return P!==0?P:X.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,x=null,y=3,b=!1,S=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(X){for(var M=r(p);M!==null;){if(M.callback===null)s(p);else if(M.startTime<=X)s(p),M.sortIndex=M.expirationTime,e(f,M);else break;M=r(p)}}function L(X){if(N=!1,k(X),!S)if(r(f)!==null)S=!0,_e(R);else{var M=r(p);M!==null&&fe(L,M.startTime-X)}}function R(X,M){S=!1,N&&(N=!1,A(H),H=-1),b=!0;var P=y;try{for(k(M),x=r(f);x!==null&&(!(x.expirationTime>M)||X&&!ge());){var E=x.callback;if(typeof E=="function"){x.callback=null,y=x.priorityLevel;var V=E(x.expirationTime<=M);M=t.unstable_now(),typeof V=="function"?x.callback=V:x===r(f)&&s(f),k(M)}else s(f);x=r(f)}if(x!==null)var ie=!0;else{var xe=r(p);xe!==null&&fe(L,xe.startTime-M),ie=!1}return ie}finally{x=null,y=P,b=!1}}var D=!1,z=null,H=-1,Z=5,re=-1;function ge(){return!(t.unstable_now()-re<Z)}function ee(){if(z!==null){var X=t.unstable_now();re=X;var M=!0;try{M=z(!0,X)}finally{M?he():(D=!1,z=null)}}else D=!1}var he;if(typeof C=="function")he=function(){C(ee)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ye=le.port2;le.port1.onmessage=ee,he=function(){ye.postMessage(null)}}else he=function(){j(ee,0)};function _e(X){z=X,D||(D=!0,he())}function fe(X,M){H=j(function(){X(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,_e(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var M=3;break;default:M=y}var P=y;y=M;try{return X()}finally{y=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,M){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var P=y;y=X;try{return M()}finally{y=P}},t.unstable_scheduleCallback=function(X,M,P){var E=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?E+P:E):P=E,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=P+V,X={id:g++,callback:M,priorityLevel:X,startTime:P,expirationTime:V,sortIndex:-1},P>E?(X.sortIndex=P,e(p,X),r(f)===null&&X===r(p)&&(N?(A(H),H=-1):N=!0,fe(L,P-E))):(X.sortIndex=V,e(f,X),S||b||(S=!0,_e(R))),X},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(X){var M=y;return function(){var P=y;y=M;try{return X.apply(this,arguments)}finally{y=P}}}})(cd)),cd}var Mg;function V1(){return Mg||(Mg=1,ld.exports=z1()),ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function U1(){if(Fg)return tr;Fg=1;var t=zh(),e=V1();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function y(n){return f.call(x,n)?!0:f.call(g,n)?!1:p.test(n)?x[n]=!0:(g[n]=!0,!1)}function b(n,i,u,h){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,i,u,h){if(i===null||typeof i>"u"||b(n,i,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(n,i,u,h,m,v,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];j[i]=new N(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(A,C);j[i]=new N(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(A,C);j[i]=new N(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(A,C);j[i]=new N(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,i,u,h){var m=j.hasOwnProperty(i)?j[i]:null;(m!==null?m.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,u,m,h)&&(u=null),h||m===null?y(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):m.mustUseProperty?n[m.propertyName]=u===null?m.type===3?!1:"":u:(i=m.attributeName,h=m.attributeNamespace,u===null?n.removeAttribute(i):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?n.setAttributeNS(h,i,u):n.setAttribute(i,u))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),ge=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),X=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var P=Object.assign,E;function V(n){if(E===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);E=i&&i[1]||""}return`
`+E+n}var ie=!1;function xe(n,i){if(!n||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var h=W}Reflect.construct(n,[],i)}else{try{i.call()}catch(W){h=W}n.call(i.prototype)}else{try{throw Error()}catch(W){h=W}n()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=h.stack.split(`
`),w=m.length-1,T=v.length-1;1<=w&&0<=T&&m[w]!==v[T];)T--;for(;1<=w&&0<=T;w--,T--)if(m[w]!==v[T]){if(w!==1||T!==1)do if(w--,T--,0>T||m[w]!==v[T]){var I=`
`+m[w].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=w&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?V(n):""}function Ae(n){switch(n.tag){case 5:return V(n.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function Se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case D:return"Portal";case Z:return"Profiler";case H:return"StrictMode";case he:return"Suspense";case le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ge:return(n.displayName||"Context")+".Consumer";case re:return(n._context.displayName||"Context")+".Provider";case ee:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ye:return i=n.displayName||null,i!==null?i:Se(n.type)||"Memo";case _e:i=n._payload,n=n._init;try{return Se(n(i))}catch{}}return null}function De(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ye(n){var i=Le(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){h=""+w,v.call(this,w)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function vt(n){n._valueTracker||(n._valueTracker=Ye(n))}function Wt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),h="";return n&&(h=Le(n)?n.checked?"true":"false":n.value),n=h,n!==u?(i.setValue(n),!0):!1}function en(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function tn(n,i){var u=i.checked;return P({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function bn(n,i){var u=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;u=je(i.value!=null?i.value:u),n._wrapperState={initialChecked:h,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function as(n,i){i=i.checked,i!=null&&k(n,"checked",i,!1)}function hr(n,i){as(n,i);var u=je(i.value),h=i.type;if(u!=null)h==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?kr(n,i.type,u):i.hasOwnProperty("defaultValue")&&kr(n,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function os(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function kr(n,i,u){(i!=="number"||en(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var O=Array.isArray;function $(n,i,u,h){if(n=n.options,i){i={};for(var m=0;m<u.length;m++)i["$"+u[m]]=!0;for(u=0;u<n.length;u++)m=i.hasOwnProperty("$"+n[u].value),n[u].selected!==m&&(n[u].selected=m),m&&h&&(n[u].defaultSelected=!0)}else{for(u=""+je(u),i=null,m=0;m<n.length;m++){if(n[m].value===u){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function G(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return P({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ae(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(O(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:je(u)}}function q(n,i){var u=je(i.value),h=je(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),h!=null&&(n.defaultValue=""+h)}function K(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function se(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?se(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Oe,dt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,h,m){MSApp.execUnsafeLocalFunction(function(){return n(i,u,h,m)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Oe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ot(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(n){ls.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ct[i]=Ct[n]})});function Vr(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Ct.hasOwnProperty(n)&&Ct[n]?(""+i).trim():i+"px"}function Sr(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=Vr(u,i[u],h);u==="float"&&(u="cssFloat"),h?n.setProperty(u,m):n[u]=m}}var cs=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(n,i){if(i){if(cs[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function rn(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function Vi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wc=null,Vs=null,Us=null;function Xf(n){if(n=la(n)){if(typeof wc!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Oo(i),wc(n.stateNode,n.type,i))}}function Jf(n){Vs?Us?Us.push(n):Us=[n]:Vs=n}function Qf(){if(Vs){var n=Vs,i=Us;if(Us=Vs=null,Xf(n),i)for(n=0;n<i.length;n++)Xf(i[n])}}function Yf(n,i){return n(i)}function Zf(){}var jc=!1;function ep(n,i,u){if(jc)return n(i,u);jc=!0;try{return Yf(n,i,u)}finally{jc=!1,(Vs!==null||Us!==null)&&(Zf(),Qf())}}function Ui(n,i){var u=n.stateNode;if(u===null)return null;var h=Oo(u);if(h===null)return null;u=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var _c=!1;if(d)try{var $i={};Object.defineProperty($i,"passive",{get:function(){_c=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{_c=!1}function Vw(n,i,u,h,m,v,w,T,I){var W=Array.prototype.slice.call(arguments,3);try{i.apply(u,W)}catch(Q){this.onError(Q)}}var Bi=!1,uo=null,ho=!1,kc=null,Uw={onError:function(n){Bi=!0,uo=n}};function $w(n,i,u,h,m,v,w,T,I){Bi=!1,uo=null,Vw.apply(Uw,arguments)}function Bw(n,i,u,h,m,v,w,T,I){if($w.apply(this,arguments),Bi){if(Bi){var W=uo;Bi=!1,uo=null}else throw Error(r(198));ho||(ho=!0,kc=W)}}function us(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function tp(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function rp(n){if(us(n)!==n)throw Error(r(188))}function qw(n){var i=n.alternate;if(!i){if(i=us(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,h=i;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return rp(m),n;if(v===h)return rp(m),i;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=m,h=v;else{for(var w=!1,T=m.child;T;){if(T===u){w=!0,u=m,h=v;break}if(T===h){w=!0,h=m,u=v;break}T=T.sibling}if(!w){for(T=v.child;T;){if(T===u){w=!0,u=v,h=m;break}if(T===h){w=!0,h=v,u=m;break}T=T.sibling}if(!w)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function np(n){return n=qw(n),n!==null?sp(n):null}function sp(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=sp(n);if(i!==null)return i;n=n.sibling}return null}var ip=e.unstable_scheduleCallback,ap=e.unstable_cancelCallback,Ww=e.unstable_shouldYield,Hw=e.unstable_requestPaint,ht=e.unstable_now,Kw=e.unstable_getCurrentPriorityLevel,Sc=e.unstable_ImmediatePriority,op=e.unstable_UserBlockingPriority,fo=e.unstable_NormalPriority,Gw=e.unstable_LowPriority,lp=e.unstable_IdlePriority,po=null,Br=null;function Xw(n){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(po,n,void 0,(n.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Yw,Jw=Math.log,Qw=Math.LN2;function Yw(n){return n>>>=0,n===0?32:31-(Jw(n)/Qw|0)|0}var mo=64,go=4194304;function qi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xo(n,i){var u=n.pendingLanes;if(u===0)return 0;var h=0,m=n.suspendedLanes,v=n.pingedLanes,w=u&268435455;if(w!==0){var T=w&~m;T!==0?h=qi(T):(v&=w,v!==0&&(h=qi(v)))}else w=u&~m,w!==0?h=qi(w):v!==0&&(h=qi(v));if(h===0)return 0;if(i!==0&&i!==h&&(i&m)===0&&(m=h&-h,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((h&4)!==0&&(h|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)u=31-Nr(i),m=1<<u,h|=n[u],i&=~m;return h}function Zw(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ej(n,i){for(var u=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes;0<v;){var w=31-Nr(v),T=1<<w,I=m[w];I===-1?((T&u)===0||(T&h)!==0)&&(m[w]=Zw(T,i)):I<=i&&(n.expiredLanes|=T),v&=~T}}function Nc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function cp(){var n=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),n}function Ec(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function Wi(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Nr(i),n[i]=u}function tj(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<u;){var m=31-Nr(u),v=1<<m;i[m]=0,h[m]=-1,n[m]=-1,u&=~v}}function Cc(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var h=31-Nr(u),m=1<<h;m&i|n[h]&i&&(n[h]|=i),u&=~m}}var Be=0;function up(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var dp,Pc,hp,fp,pp,Tc=!1,vo=[],wn=null,jn=null,_n=null,Hi=new Map,Ki=new Map,kn=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mp(n,i){switch(n){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Hi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(i.pointerId)}}function Gi(n,i,u,h,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},i!==null&&(i=la(i),i!==null&&Pc(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function nj(n,i,u,h,m){switch(i){case"focusin":return wn=Gi(wn,n,i,u,h,m),!0;case"dragenter":return jn=Gi(jn,n,i,u,h,m),!0;case"mouseover":return _n=Gi(_n,n,i,u,h,m),!0;case"pointerover":var v=m.pointerId;return Hi.set(v,Gi(Hi.get(v)||null,n,i,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Ki.set(v,Gi(Ki.get(v)||null,n,i,u,h,m)),!0}return!1}function gp(n){var i=ds(n.target);if(i!==null){var u=us(i);if(u!==null){if(i=u.tag,i===13){if(i=tp(u),i!==null){n.blockedOn=i,pp(n.priority,function(){hp(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yo(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Rc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var h=new u.constructor(u.type,u);$r=h,u.target.dispatchEvent(h),$r=null}else return i=la(u),i!==null&&Pc(i),n.blockedOn=u,!1;i.shift()}return!0}function xp(n,i,u){yo(n)&&u.delete(i)}function sj(){Tc=!1,wn!==null&&yo(wn)&&(wn=null),jn!==null&&yo(jn)&&(jn=null),_n!==null&&yo(_n)&&(_n=null),Hi.forEach(xp),Ki.forEach(xp)}function Xi(n,i){n.blockedOn===i&&(n.blockedOn=null,Tc||(Tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sj)))}function Ji(n){function i(m){return Xi(m,n)}if(0<vo.length){Xi(vo[0],n);for(var u=1;u<vo.length;u++){var h=vo[u];h.blockedOn===n&&(h.blockedOn=null)}}for(wn!==null&&Xi(wn,n),jn!==null&&Xi(jn,n),_n!==null&&Xi(_n,n),Hi.forEach(i),Ki.forEach(i),u=0;u<kn.length;u++)h=kn[u],h.blockedOn===n&&(h.blockedOn=null);for(;0<kn.length&&(u=kn[0],u.blockedOn===null);)gp(u),u.blockedOn===null&&kn.shift()}var $s=L.ReactCurrentBatchConfig,bo=!0;function ij(n,i,u,h){var m=Be,v=$s.transition;$s.transition=null;try{Be=1,Ac(n,i,u,h)}finally{Be=m,$s.transition=v}}function aj(n,i,u,h){var m=Be,v=$s.transition;$s.transition=null;try{Be=4,Ac(n,i,u,h)}finally{Be=m,$s.transition=v}}function Ac(n,i,u,h){if(bo){var m=Rc(n,i,u,h);if(m===null)Xc(n,i,h,wo,u),mp(n,h);else if(nj(m,n,i,u,h))h.stopPropagation();else if(mp(n,h),i&4&&-1<rj.indexOf(n)){for(;m!==null;){var v=la(m);if(v!==null&&dp(v),v=Rc(n,i,u,h),v===null&&Xc(n,i,h,wo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Xc(n,i,h,null,u)}}var wo=null;function Rc(n,i,u,h){if(wo=null,n=Vi(h),n=ds(n),n!==null)if(i=us(n),i===null)n=null;else if(u=i.tag,u===13){if(n=tp(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return wo=n,null}function vp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kw()){case Sc:return 1;case op:return 4;case fo:case Gw:return 16;case lp:return 536870912;default:return 16}default:return 16}}var Sn=null,Oc=null,jo=null;function yp(){if(jo)return jo;var n,i=Oc,u=i.length,h,m="value"in Sn?Sn.value:Sn.textContent,v=m.length;for(n=0;n<u&&i[n]===m[n];n++);var w=u-n;for(h=1;h<=w&&i[u-h]===m[v-h];h++);return jo=m.slice(n,1<h?1-h:void 0)}function _o(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ko(){return!0}function bp(){return!1}function ir(n){function i(u,h,m,v,w){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(u=n[T],this[T]=u?u(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ko:bp,this.isPropagationStopped=bp,this}return P(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),i}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=ir(Bs),Qi=P({},Bs,{view:0,detail:0}),oj=ir(Qi),Lc,Ic,Yi,So=P({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yi&&(Yi&&n.type==="mousemove"?(Lc=n.screenX-Yi.screenX,Ic=n.screenY-Yi.screenY):Ic=Lc=0,Yi=n),Lc)},movementY:function(n){return"movementY"in n?n.movementY:Ic}}),wp=ir(So),lj=P({},So,{dataTransfer:0}),cj=ir(lj),uj=P({},Qi,{relatedTarget:0}),Mc=ir(uj),dj=P({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),hj=ir(dj),fj=P({},Bs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pj=ir(fj),mj=P({},Bs,{data:0}),jp=ir(mj),gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yj(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=vj[n])?!!i[n]:!1}function Fc(){return yj}var bj=P({},Qi,{key:function(n){if(n.key){var i=gj[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_o(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(n){return n.type==="keypress"?_o(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_o(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wj=ir(bj),jj=P({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=ir(jj),_j=P({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),kj=ir(_j),Sj=P({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nj=ir(Sj),Ej=P({},So,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cj=ir(Ej),Pj=[9,13,27,32],zc=d&&"CompositionEvent"in window,Zi=null;d&&"documentMode"in document&&(Zi=document.documentMode);var Tj=d&&"TextEvent"in window&&!Zi,kp=d&&(!zc||Zi&&8<Zi&&11>=Zi),Sp=" ",Np=!1;function Ep(n,i){switch(n){case"keyup":return Pj.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qs=!1;function Aj(n,i){switch(n){case"compositionend":return Cp(i);case"keypress":return i.which!==32?null:(Np=!0,Sp);case"textInput":return n=i.data,n===Sp&&Np?null:n;default:return null}}function Rj(n,i){if(qs)return n==="compositionend"||!zc&&Ep(n,i)?(n=yp(),jo=Oc=Sn=null,qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kp&&i.locale!=="ko"?null:i.data;default:return null}}var Oj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Oj[n.type]:i==="textarea"}function Tp(n,i,u,h){Jf(h),i=To(i,"onChange"),0<i.length&&(u=new Dc("onChange","change",null,u,h),n.push({event:u,listeners:i}))}var ea=null,ta=null;function Dj(n){Gp(n,0)}function No(n){var i=Xs(n);if(Wt(i))return n}function Lj(n,i){if(n==="change")return i}var Ap=!1;if(d){var Vc;if(d){var Uc="oninput"in document;if(!Uc){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Uc=typeof Rp.oninput=="function"}Vc=Uc}else Vc=!1;Ap=Vc&&(!document.documentMode||9<document.documentMode)}function Op(){ea&&(ea.detachEvent("onpropertychange",Dp),ta=ea=null)}function Dp(n){if(n.propertyName==="value"&&No(ta)){var i=[];Tp(i,ta,n,Vi(n)),ep(Dj,i)}}function Ij(n,i,u){n==="focusin"?(Op(),ea=i,ta=u,ea.attachEvent("onpropertychange",Dp)):n==="focusout"&&Op()}function Mj(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return No(ta)}function Fj(n,i){if(n==="click")return No(i)}function zj(n,i){if(n==="input"||n==="change")return No(i)}function Vj(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Er=typeof Object.is=="function"?Object.is:Vj;function ra(n,i){if(Er(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),h=Object.keys(i);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(i,m)||!Er(n[m],i[m]))return!1}return!0}function Lp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ip(n,i){var u=Lp(n);n=0;for(var h;u;){if(u.nodeType===3){if(h=n+u.textContent.length,n<=i&&h>=i)return{node:u,offset:i-n};n=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Lp(u)}}function Mp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Mp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Fp(){for(var n=window,i=en();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=en(n.document)}return i}function $c(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Uj(n){var i=Fp(),u=n.focusedElem,h=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Mp(u.ownerDocument.documentElement,u)){if(h!==null&&$c(u)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!n.extend&&v>h&&(m=h,h=v,v=m),m=Ip(u,v);var w=Ip(u,h);m&&w&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),n.removeAllRanges(),v>h?(n.addRange(i),n.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $j=d&&"documentMode"in document&&11>=document.documentMode,Ws=null,Bc=null,na=null,qc=!1;function zp(n,i,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qc||Ws==null||Ws!==en(h)||(h=Ws,"selectionStart"in h&&$c(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),na&&ra(na,h)||(na=h,h=To(Bc,"onSelect"),0<h.length&&(i=new Dc("onSelect","select",null,i,u),n.push({event:i,listeners:h}),i.target=Ws)))}function Eo(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Hs={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},Wc={},Vp={};d&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Co(n){if(Wc[n])return Wc[n];if(!Hs[n])return n;var i=Hs[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in Vp)return Wc[n]=i[u];return n}var Up=Co("animationend"),$p=Co("animationiteration"),Bp=Co("animationstart"),qp=Co("transitionend"),Wp=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(n,i){Wp.set(n,i),l(i,[n])}for(var Hc=0;Hc<Hp.length;Hc++){var Kc=Hp[Hc],Bj=Kc.toLowerCase(),qj=Kc[0].toUpperCase()+Kc.slice(1);Nn(Bj,"on"+qj)}Nn(Up,"onAnimationEnd"),Nn($p,"onAnimationIteration"),Nn(Bp,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(qp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wj=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Kp(n,i,u){var h=n.type||"unknown-event";n.currentTarget=u,Bw(h,i,void 0,n),n.currentTarget=null}function Gp(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var h=n[u],m=h.event;h=h.listeners;e:{var v=void 0;if(i)for(var w=h.length-1;0<=w;w--){var T=h[w],I=T.instance,W=T.currentTarget;if(T=T.listener,I!==v&&m.isPropagationStopped())break e;Kp(m,T,W),v=I}else for(w=0;w<h.length;w++){if(T=h[w],I=T.instance,W=T.currentTarget,T=T.listener,I!==v&&m.isPropagationStopped())break e;Kp(m,T,W),v=I}}}if(ho)throw n=kc,ho=!1,kc=null,n}function Ge(n,i){var u=i[tu];u===void 0&&(u=i[tu]=new Set);var h=n+"__bubble";u.has(h)||(Xp(i,n,2,!1),u.add(h))}function Gc(n,i,u){var h=0;i&&(h|=4),Xp(u,n,h,i)}var Po="_reactListening"+Math.random().toString(36).slice(2);function ia(n){if(!n[Po]){n[Po]=!0,s.forEach(function(u){u!=="selectionchange"&&(Wj.has(u)||Gc(u,!1,n),Gc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Po]||(i[Po]=!0,Gc("selectionchange",!1,i))}}function Xp(n,i,u,h){switch(vp(i)){case 1:var m=ij;break;case 4:m=aj;break;default:m=Ac}u=m.bind(null,i,u,n),m=void 0,!_c||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(i,u,{capture:!0,passive:m}):n.addEventListener(i,u,!0):m!==void 0?n.addEventListener(i,u,{passive:m}):n.addEventListener(i,u,!1)}function Xc(n,i,u,h,m){var v=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var T=h.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(w===4)for(w=h.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===m||I.nodeType===8&&I.parentNode===m))return;w=w.return}for(;T!==null;){if(w=ds(T),w===null)return;if(I=w.tag,I===5||I===6){h=v=w;continue e}T=T.parentNode}}h=h.return}ep(function(){var W=v,Q=Vi(u),Y=[];e:{var J=Wp.get(n);if(J!==void 0){var ce=Dc,pe=n;switch(n){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":ce=wj;break;case"focusin":pe="focus",ce=Mc;break;case"focusout":pe="blur",ce=Mc;break;case"beforeblur":case"afterblur":ce=Mc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=kj;break;case Up:case $p:case Bp:ce=hj;break;case qp:ce=Nj;break;case"scroll":ce=oj;break;case"wheel":ce=Cj;break;case"copy":case"cut":case"paste":ce=pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=_p}var me=(i&4)!==0,ft=!me&&n==="scroll",U=me?J!==null?J+"Capture":null:J;me=[];for(var F=W,B;F!==null;){B=F;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,U!==null&&(te=Ui(F,U),te!=null&&me.push(aa(F,te,B)))),ft)break;F=F.return}0<me.length&&(J=new ce(J,pe,null,u,Q),Y.push({event:J,listeners:me}))}}if((i&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",J&&u!==$r&&(pe=u.relatedTarget||u.fromElement)&&(ds(pe)||pe[nn]))break e;if((ce||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=W,pe=pe?ds(pe):null,pe!==null&&(ft=us(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=W),ce!==pe)){if(me=wp,te="onMouseLeave",U="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(me=_p,te="onPointerLeave",U="onPointerEnter",F="pointer"),ft=ce==null?J:Xs(ce),B=pe==null?J:Xs(pe),J=new me(te,F+"leave",ce,u,Q),J.target=ft,J.relatedTarget=B,te=null,ds(Q)===W&&(me=new me(U,F+"enter",pe,u,Q),me.target=B,me.relatedTarget=ft,te=me),ft=te,ce&&pe)t:{for(me=ce,U=pe,F=0,B=me;B;B=Ks(B))F++;for(B=0,te=U;te;te=Ks(te))B++;for(;0<F-B;)me=Ks(me),F--;for(;0<B-F;)U=Ks(U),B--;for(;F--;){if(me===U||U!==null&&me===U.alternate)break t;me=Ks(me),U=Ks(U)}me=null}else me=null;ce!==null&&Jp(Y,J,ce,me,!1),pe!==null&&ft!==null&&Jp(Y,ft,pe,me,!0)}}e:{if(J=W?Xs(W):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var be=Lj;else if(Pp(J))if(Ap)be=zj;else{be=Mj;var Ee=Ij}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(be=Fj);if(be&&(be=be(n,W))){Tp(Y,be,u,Q);break e}Ee&&Ee(n,J,W),n==="focusout"&&(Ee=J._wrapperState)&&Ee.controlled&&J.type==="number"&&kr(J,"number",J.value)}switch(Ee=W?Xs(W):window,n){case"focusin":(Pp(Ee)||Ee.contentEditable==="true")&&(Ws=Ee,Bc=W,na=null);break;case"focusout":na=Bc=Ws=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,zp(Y,u,Q);break;case"selectionchange":if($j)break;case"keydown":case"keyup":zp(Y,u,Q)}var Ce;if(zc)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else qs?Ep(n,u)&&(Re="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(kp&&u.locale!=="ko"&&(qs||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&qs&&(Ce=yp()):(Sn=Q,Oc="value"in Sn?Sn.value:Sn.textContent,qs=!0)),Ee=To(W,Re),0<Ee.length&&(Re=new jp(Re,n,null,u,Q),Y.push({event:Re,listeners:Ee}),Ce?Re.data=Ce:(Ce=Cp(u),Ce!==null&&(Re.data=Ce)))),(Ce=Tj?Aj(n,u):Rj(n,u))&&(W=To(W,"onBeforeInput"),0<W.length&&(Q=new jp("onBeforeInput","beforeinput",null,u,Q),Y.push({event:Q,listeners:W}),Q.data=Ce))}Gp(Y,i)})}function aa(n,i,u){return{instance:n,listener:i,currentTarget:u}}function To(n,i){for(var u=i+"Capture",h=[];n!==null;){var m=n,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ui(n,u),v!=null&&h.unshift(aa(n,v,m)),v=Ui(n,i),v!=null&&h.push(aa(n,v,m))),n=n.return}return h}function Ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Jp(n,i,u,h,m){for(var v=i._reactName,w=[];u!==null&&u!==h;){var T=u,I=T.alternate,W=T.stateNode;if(I!==null&&I===h)break;T.tag===5&&W!==null&&(T=W,m?(I=Ui(u,v),I!=null&&w.unshift(aa(u,I,T))):m||(I=Ui(u,v),I!=null&&w.push(aa(u,I,T)))),u=u.return}w.length!==0&&n.push({event:i,listeners:w})}var Hj=/\r\n?/g,Kj=/\u0000|\uFFFD/g;function Qp(n){return(typeof n=="string"?n:""+n).replace(Hj,`
`).replace(Kj,"")}function Ao(n,i,u){if(i=Qp(i),Qp(n)!==i&&u)throw Error(r(425))}function Ro(){}var Jc=null,Qc=null;function Yc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,Gj=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Xj=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(n){return Yp.resolve(null).then(n).catch(Jj)}:Zc;function Jj(n){setTimeout(function(){throw n})}function eu(n,i){var u=i,h=0;do{var m=u.nextSibling;if(n.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){n.removeChild(m),Ji(i);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Ji(i)}function En(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Zp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),qr="__reactFiber$"+Gs,oa="__reactProps$"+Gs,nn="__reactContainer$"+Gs,tu="__reactEvents$"+Gs,Qj="__reactListeners$"+Gs,Yj="__reactHandles$"+Gs;function ds(n){var i=n[qr];if(i)return i;for(var u=n.parentNode;u;){if(i=u[nn]||u[qr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=Zp(n);n!==null;){if(u=n[qr])return u;n=Zp(n)}return i}n=u,u=n.parentNode}return null}function la(n){return n=n[qr]||n[nn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Oo(n){return n[oa]||null}var ru=[],Js=-1;function Cn(n){return{current:n}}function Xe(n){0>Js||(n.current=ru[Js],ru[Js]=null,Js--)}function He(n,i){Js++,ru[Js]=n.current,n.current=i}var Pn={},Ft=Cn(Pn),Jt=Cn(!1),hs=Pn;function Qs(n,i){var u=n.type.contextTypes;if(!u)return Pn;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=i[v];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function Qt(n){return n=n.childContextTypes,n!=null}function Do(){Xe(Jt),Xe(Ft)}function em(n,i,u){if(Ft.current!==Pn)throw Error(r(168));He(Ft,i),He(Jt,u)}function tm(n,i,u){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in i))throw Error(r(108,De(n)||"Unknown",m));return P({},u,h)}function Lo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pn,hs=Ft.current,He(Ft,n),He(Jt,Jt.current),!0}function rm(n,i,u){var h=n.stateNode;if(!h)throw Error(r(169));u?(n=tm(n,i,hs),h.__reactInternalMemoizedMergedChildContext=n,Xe(Jt),Xe(Ft),He(Ft,n)):Xe(Jt),He(Jt,u)}var sn=null,Io=!1,nu=!1;function nm(n){sn===null?sn=[n]:sn.push(n)}function Zj(n){Io=!0,nm(n)}function Tn(){if(!nu&&sn!==null){nu=!0;var n=0,i=Be;try{var u=sn;for(Be=1;n<u.length;n++){var h=u[n];do h=h(!0);while(h!==null)}sn=null,Io=!1}catch(m){throw sn!==null&&(sn=sn.slice(n+1)),ip(Sc,Tn),m}finally{Be=i,nu=!1}}return null}var Ys=[],Zs=0,Mo=null,Fo=0,fr=[],pr=0,fs=null,an=1,on="";function ps(n,i){Ys[Zs++]=Fo,Ys[Zs++]=Mo,Mo=n,Fo=i}function sm(n,i,u){fr[pr++]=an,fr[pr++]=on,fr[pr++]=fs,fs=n;var h=an;n=on;var m=32-Nr(h)-1;h&=~(1<<m),u+=1;var v=32-Nr(i)+m;if(30<v){var w=m-m%5;v=(h&(1<<w)-1).toString(32),h>>=w,m-=w,an=1<<32-Nr(i)+m|u<<m|h,on=v+n}else an=1<<v|u<<m|h,on=n}function su(n){n.return!==null&&(ps(n,1),sm(n,1,0))}function iu(n){for(;n===Mo;)Mo=Ys[--Zs],Ys[Zs]=null,Fo=Ys[--Zs],Ys[Zs]=null;for(;n===fs;)fs=fr[--pr],fr[pr]=null,on=fr[--pr],fr[pr]=null,an=fr[--pr],fr[pr]=null}var ar=null,or=null,Ze=!1,Cr=null;function im(n,i){var u=vr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function am(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,ar=n,or=En(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,ar=n,or=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=fs!==null?{id:an,overflow:on}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=vr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,ar=n,or=null,!0):!1;default:return!1}}function au(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ou(n){if(Ze){var i=or;if(i){var u=i;if(!am(n,i)){if(au(n))throw Error(r(418));i=En(u.nextSibling);var h=ar;i&&am(n,i)?im(h,u):(n.flags=n.flags&-4097|2,Ze=!1,ar=n)}}else{if(au(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ze=!1,ar=n}}}function om(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ar=n}function zo(n){if(n!==ar)return!1;if(!Ze)return om(n),Ze=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Yc(n.type,n.memoizedProps)),i&&(i=or)){if(au(n))throw lm(),Error(r(418));for(;i;)im(n,i),i=En(i.nextSibling)}if(om(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){or=En(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}or=null}}else or=ar?En(n.stateNode.nextSibling):null;return!0}function lm(){for(var n=or;n;)n=En(n.nextSibling)}function ei(){or=ar=null,Ze=!1}function lu(n){Cr===null?Cr=[n]:Cr.push(n)}var e1=L.ReactCurrentBatchConfig;function ca(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var h=u.stateNode}if(!h)throw Error(r(147,n));var m=h,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(w){var T=m.refs;w===null?delete T[v]:T[v]=w},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function Vo(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function cm(n){var i=n._init;return i(n._payload)}function um(n){function i(U,F){if(n){var B=U.deletions;B===null?(U.deletions=[F],U.flags|=16):B.push(F)}}function u(U,F){if(!n)return null;for(;F!==null;)i(U,F),F=F.sibling;return null}function h(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(U,F){return U=Fn(U,F),U.index=0,U.sibling=null,U}function v(U,F,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<F?(U.flags|=2,F):B):(U.flags|=2,F)):(U.flags|=1048576,F)}function w(U){return n&&U.alternate===null&&(U.flags|=2),U}function T(U,F,B,te){return F===null||F.tag!==6?(F=Zu(B,U.mode,te),F.return=U,F):(F=m(F,B),F.return=U,F)}function I(U,F,B,te){var be=B.type;return be===z?Q(U,F,B.props.children,te,B.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&cm(be)===F.type)?(te=m(F,B.props),te.ref=ca(U,F,B),te.return=U,te):(te=ul(B.type,B.key,B.props,null,U.mode,te),te.ref=ca(U,F,B),te.return=U,te)}function W(U,F,B,te){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=ed(B,U.mode,te),F.return=U,F):(F=m(F,B.children||[]),F.return=U,F)}function Q(U,F,B,te,be){return F===null||F.tag!==7?(F=js(B,U.mode,te,be),F.return=U,F):(F=m(F,B),F.return=U,F)}function Y(U,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Zu(""+F,U.mode,B),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return B=ul(F.type,F.key,F.props,null,U.mode,B),B.ref=ca(U,null,F),B.return=U,B;case D:return F=ed(F,U.mode,B),F.return=U,F;case _e:var te=F._init;return Y(U,te(F._payload),B)}if(O(F)||M(F))return F=js(F,U.mode,B,null),F.return=U,F;Vo(U,F)}return null}function J(U,F,B,te){var be=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return be!==null?null:T(U,F,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return B.key===be?I(U,F,B,te):null;case D:return B.key===be?W(U,F,B,te):null;case _e:return be=B._init,J(U,F,be(B._payload),te)}if(O(B)||M(B))return be!==null?null:Q(U,F,B,te,null);Vo(U,B)}return null}function ce(U,F,B,te,be){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(B)||null,T(F,U,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return U=U.get(te.key===null?B:te.key)||null,I(F,U,te,be);case D:return U=U.get(te.key===null?B:te.key)||null,W(F,U,te,be);case _e:var Ee=te._init;return ce(U,F,B,Ee(te._payload),be)}if(O(te)||M(te))return U=U.get(B)||null,Q(F,U,te,be,null);Vo(F,te)}return null}function pe(U,F,B,te){for(var be=null,Ee=null,Ce=F,Re=F=0,At=null;Ce!==null&&Re<B.length;Re++){Ce.index>Re?(At=Ce,Ce=null):At=Ce.sibling;var Ue=J(U,Ce,B[Re],te);if(Ue===null){Ce===null&&(Ce=At);break}n&&Ce&&Ue.alternate===null&&i(U,Ce),F=v(Ue,F,Re),Ee===null?be=Ue:Ee.sibling=Ue,Ee=Ue,Ce=At}if(Re===B.length)return u(U,Ce),Ze&&ps(U,Re),be;if(Ce===null){for(;Re<B.length;Re++)Ce=Y(U,B[Re],te),Ce!==null&&(F=v(Ce,F,Re),Ee===null?be=Ce:Ee.sibling=Ce,Ee=Ce);return Ze&&ps(U,Re),be}for(Ce=h(U,Ce);Re<B.length;Re++)At=ce(Ce,U,Re,B[Re],te),At!==null&&(n&&At.alternate!==null&&Ce.delete(At.key===null?Re:At.key),F=v(At,F,Re),Ee===null?be=At:Ee.sibling=At,Ee=At);return n&&Ce.forEach(function(zn){return i(U,zn)}),Ze&&ps(U,Re),be}function me(U,F,B,te){var be=M(B);if(typeof be!="function")throw Error(r(150));if(B=be.call(B),B==null)throw Error(r(151));for(var Ee=be=null,Ce=F,Re=F=0,At=null,Ue=B.next();Ce!==null&&!Ue.done;Re++,Ue=B.next()){Ce.index>Re?(At=Ce,Ce=null):At=Ce.sibling;var zn=J(U,Ce,Ue.value,te);if(zn===null){Ce===null&&(Ce=At);break}n&&Ce&&zn.alternate===null&&i(U,Ce),F=v(zn,F,Re),Ee===null?be=zn:Ee.sibling=zn,Ee=zn,Ce=At}if(Ue.done)return u(U,Ce),Ze&&ps(U,Re),be;if(Ce===null){for(;!Ue.done;Re++,Ue=B.next())Ue=Y(U,Ue.value,te),Ue!==null&&(F=v(Ue,F,Re),Ee===null?be=Ue:Ee.sibling=Ue,Ee=Ue);return Ze&&ps(U,Re),be}for(Ce=h(U,Ce);!Ue.done;Re++,Ue=B.next())Ue=ce(Ce,U,Re,Ue.value,te),Ue!==null&&(n&&Ue.alternate!==null&&Ce.delete(Ue.key===null?Re:Ue.key),F=v(Ue,F,Re),Ee===null?be=Ue:Ee.sibling=Ue,Ee=Ue);return n&&Ce.forEach(function(O1){return i(U,O1)}),Ze&&ps(U,Re),be}function ft(U,F,B,te){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case R:e:{for(var be=B.key,Ee=F;Ee!==null;){if(Ee.key===be){if(be=B.type,be===z){if(Ee.tag===7){u(U,Ee.sibling),F=m(Ee,B.props.children),F.return=U,U=F;break e}}else if(Ee.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&cm(be)===Ee.type){u(U,Ee.sibling),F=m(Ee,B.props),F.ref=ca(U,Ee,B),F.return=U,U=F;break e}u(U,Ee);break}else i(U,Ee);Ee=Ee.sibling}B.type===z?(F=js(B.props.children,U.mode,te,B.key),F.return=U,U=F):(te=ul(B.type,B.key,B.props,null,U.mode,te),te.ref=ca(U,F,B),te.return=U,U=te)}return w(U);case D:e:{for(Ee=B.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){u(U,F.sibling),F=m(F,B.children||[]),F.return=U,U=F;break e}else{u(U,F);break}else i(U,F);F=F.sibling}F=ed(B,U.mode,te),F.return=U,U=F}return w(U);case _e:return Ee=B._init,ft(U,F,Ee(B._payload),te)}if(O(B))return pe(U,F,B,te);if(M(B))return me(U,F,B,te);Vo(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(u(U,F.sibling),F=m(F,B),F.return=U,U=F):(u(U,F),F=Zu(B,U.mode,te),F.return=U,U=F),w(U)):u(U,F)}return ft}var ti=um(!0),dm=um(!1),Uo=Cn(null),$o=null,ri=null,cu=null;function uu(){cu=ri=$o=null}function du(n){var i=Uo.current;Xe(Uo),n._currentValue=i}function hu(n,i,u){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===u)break;n=n.return}}function ni(n,i){$o=n,cu=ri=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Yt=!0),n.firstContext=null)}function mr(n){var i=n._currentValue;if(cu!==n)if(n={context:n,memoizedValue:i,next:null},ri===null){if($o===null)throw Error(r(308));ri=n,$o.dependencies={lanes:0,firstContext:n}}else ri=ri.next=n;return i}var ms=null;function fu(n){ms===null?ms=[n]:ms.push(n)}function hm(n,i,u,h){var m=i.interleaved;return m===null?(u.next=u,fu(i)):(u.next=m.next,m.next=u),i.interleaved=u,ln(n,h)}function ln(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var An=!1;function pu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function cn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Rn(n,i,u){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var m=h.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),h.pending=i,ln(n,u)}return m=h.interleaved,m===null?(i.next=i,fu(h)):(i.next=m.next,m.next=i),h.interleaved=i,ln(n,u)}function Bo(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,u|=h,i.lanes=u,Cc(n,u)}}function pm(n,i){var u=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=w:v=v.next=w,u=u.next}while(u!==null);v===null?m=v=i:v=v.next=i}else m=v=i;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function qo(n,i,u,h){var m=n.updateQueue;An=!1;var v=m.firstBaseUpdate,w=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var I=T,W=I.next;I.next=null,w===null?v=W:w.next=W,w=I;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==w&&(T===null?Q.firstBaseUpdate=W:T.next=W,Q.lastBaseUpdate=I))}if(v!==null){var Y=m.baseState;w=0,Q=W=I=null,T=v;do{var J=T.lane,ce=T.eventTime;if((h&J)===J){Q!==null&&(Q=Q.next={eventTime:ce,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var pe=n,me=T;switch(J=i,ce=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Y=pe.call(ce,Y,J);break e}Y=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,J=typeof pe=="function"?pe.call(ce,Y,J):pe,J==null)break e;Y=P({},Y,J);break e;case 2:An=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,J=m.effects,J===null?m.effects=[T]:J.push(T))}else ce={eventTime:ce,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(W=Q=ce,I=Y):Q=Q.next=ce,w|=J;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;J=T,T=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(Q===null&&(I=Y),m.baseState=I,m.firstBaseUpdate=W,m.lastBaseUpdate=Q,i=m.shared.interleaved,i!==null){m=i;do w|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);vs|=w,n.lanes=w,n.memoizedState=Y}}function mm(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var ua={},Wr=Cn(ua),da=Cn(ua),ha=Cn(ua);function gs(n){if(n===ua)throw Error(r(174));return n}function mu(n,i){switch(He(ha,i),He(da,n),He(Wr,ua),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ne(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ne(i,n)}Xe(Wr),He(Wr,i)}function si(){Xe(Wr),Xe(da),Xe(ha)}function gm(n){gs(ha.current);var i=gs(Wr.current),u=Ne(i,n.type);i!==u&&(He(da,n),He(Wr,u))}function gu(n){da.current===n&&(Xe(Wr),Xe(da))}var nt=Cn(0);function Wo(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xu=[];function vu(){for(var n=0;n<xu.length;n++)xu[n]._workInProgressVersionPrimary=null;xu.length=0}var Ho=L.ReactCurrentDispatcher,yu=L.ReactCurrentBatchConfig,xs=0,st=null,kt=null,Pt=null,Ko=!1,fa=!1,pa=0,t1=0;function zt(){throw Error(r(321))}function bu(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!Er(n[u],i[u]))return!1;return!0}function wu(n,i,u,h,m,v){if(xs=v,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ho.current=n===null||n.memoizedState===null?i1:a1,n=u(h,m),fa){v=0;do{if(fa=!1,pa=0,25<=v)throw Error(r(301));v+=1,Pt=kt=null,i.updateQueue=null,Ho.current=o1,n=u(h,m)}while(fa)}if(Ho.current=Jo,i=kt!==null&&kt.next!==null,xs=0,Pt=kt=st=null,Ko=!1,i)throw Error(r(300));return n}function ju(){var n=pa!==0;return pa=0,n}function Hr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function gr(){if(kt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=kt.next;var i=Pt===null?st.memoizedState:Pt.next;if(i!==null)Pt=i,kt=n;else{if(n===null)throw Error(r(310));kt=n,n={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pt===null?st.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function ma(n,i){return typeof i=="function"?i(n):i}function _u(n){var i=gr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var h=kt,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var w=m.next;m.next=v.next,v.next=w}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var T=w=null,I=null,W=v;do{var Q=W.lane;if((xs&Q)===Q)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:n(h,W.action);else{var Y={lane:Q,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(T=I=Y,w=h):I=I.next=Y,st.lanes|=Q,vs|=Q}W=W.next}while(W!==null&&W!==v);I===null?w=h:I.next=T,Er(h,i.memoizedState)||(Yt=!0),i.memoizedState=h,i.baseState=w,i.baseQueue=I,u.lastRenderedState=h}if(n=u.interleaved,n!==null){m=n;do v=m.lane,st.lanes|=v,vs|=v,m=m.next;while(m!==n)}else m===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function ku(n){var i=gr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var h=u.dispatch,m=u.pending,v=i.memoizedState;if(m!==null){u.pending=null;var w=m=m.next;do v=n(v,w.action),w=w.next;while(w!==m);Er(v,i.memoizedState)||(Yt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),u.lastRenderedState=v}return[v,h]}function xm(){}function vm(n,i){var u=st,h=gr(),m=i(),v=!Er(h.memoizedState,m);if(v&&(h.memoizedState=m,Yt=!0),h=h.queue,Su(wm.bind(null,u,h,n),[n]),h.getSnapshot!==i||v||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,ga(9,bm.bind(null,u,h,m,i),void 0,null),Tt===null)throw Error(r(349));(xs&30)!==0||ym(u,i,m)}return m}function ym(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function bm(n,i,u,h){i.value=u,i.getSnapshot=h,jm(i)&&_m(n)}function wm(n,i,u){return u(function(){jm(i)&&_m(n)})}function jm(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!Er(n,u)}catch{return!0}}function _m(n){var i=ln(n,1);i!==null&&Rr(i,n,1,-1)}function km(n){var i=Hr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},i.queue=n,n=n.dispatch=s1.bind(null,st,n),[i.memoizedState,n]}function ga(n,i,u,h){return n={tag:n,create:i,destroy:u,deps:h,next:null},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(h=u.next,u.next=n,n.next=h,i.lastEffect=n)),n}function Sm(){return gr().memoizedState}function Go(n,i,u,h){var m=Hr();st.flags|=n,m.memoizedState=ga(1|i,u,void 0,h===void 0?null:h)}function Xo(n,i,u,h){var m=gr();h=h===void 0?null:h;var v=void 0;if(kt!==null){var w=kt.memoizedState;if(v=w.destroy,h!==null&&bu(h,w.deps)){m.memoizedState=ga(i,u,v,h);return}}st.flags|=n,m.memoizedState=ga(1|i,u,v,h)}function Nm(n,i){return Go(8390656,8,n,i)}function Su(n,i){return Xo(2048,8,n,i)}function Em(n,i){return Xo(4,2,n,i)}function Cm(n,i){return Xo(4,4,n,i)}function Pm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Tm(n,i,u){return u=u!=null?u.concat([n]):null,Xo(4,4,Pm.bind(null,i,n),u)}function Nu(){}function Am(n,i){var u=gr();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&bu(i,h[1])?h[0]:(u.memoizedState=[n,i],n)}function Rm(n,i){var u=gr();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&bu(i,h[1])?h[0]:(n=n(),u.memoizedState=[n,i],n)}function Om(n,i,u){return(xs&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=u):(Er(u,i)||(u=cp(),st.lanes|=u,vs|=u,n.baseState=!0),i)}function r1(n,i){var u=Be;Be=u!==0&&4>u?u:4,n(!0);var h=yu.transition;yu.transition={};try{n(!1),i()}finally{Be=u,yu.transition=h}}function Dm(){return gr().memoizedState}function n1(n,i,u){var h=In(n);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Lm(n))Im(i,u);else if(u=hm(n,i,u,h),u!==null){var m=Kt();Rr(u,n,h,m),Mm(u,i,h)}}function s1(n,i,u){var h=In(n),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lm(n))Im(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var w=i.lastRenderedState,T=v(w,u);if(m.hasEagerState=!0,m.eagerState=T,Er(T,w)){var I=i.interleaved;I===null?(m.next=m,fu(i)):(m.next=I.next,I.next=m),i.interleaved=m;return}}catch{}finally{}u=hm(n,i,m,h),u!==null&&(m=Kt(),Rr(u,n,h,m),Mm(u,i,h))}}function Lm(n){var i=n.alternate;return n===st||i!==null&&i===st}function Im(n,i){fa=Ko=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Mm(n,i,u){if((u&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,u|=h,i.lanes=u,Cc(n,u)}}var Jo={readContext:mr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},i1={readContext:mr,useCallback:function(n,i){return Hr().memoizedState=[n,i===void 0?null:i],n},useContext:mr,useEffect:Nm,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,Go(4194308,4,Pm.bind(null,i,n),u)},useLayoutEffect:function(n,i){return Go(4194308,4,n,i)},useInsertionEffect:function(n,i){return Go(4,2,n,i)},useMemo:function(n,i){var u=Hr();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var h=Hr();return i=u!==void 0?u(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=n1.bind(null,st,n),[h.memoizedState,n]},useRef:function(n){var i=Hr();return n={current:n},i.memoizedState=n},useState:km,useDebugValue:Nu,useDeferredValue:function(n){return Hr().memoizedState=n},useTransition:function(){var n=km(!1),i=n[0];return n=r1.bind(null,n[1]),Hr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var h=st,m=Hr();if(Ze){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Tt===null)throw Error(r(349));(xs&30)!==0||ym(h,i,u)}m.memoizedState=u;var v={value:u,getSnapshot:i};return m.queue=v,Nm(wm.bind(null,h,v,n),[n]),h.flags|=2048,ga(9,bm.bind(null,h,v,u,i),void 0,null),u},useId:function(){var n=Hr(),i=Tt.identifierPrefix;if(Ze){var u=on,h=an;u=(h&~(1<<32-Nr(h)-1)).toString(32)+u,i=":"+i+"R"+u,u=pa++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=t1++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},a1={readContext:mr,useCallback:Am,useContext:mr,useEffect:Su,useImperativeHandle:Tm,useInsertionEffect:Em,useLayoutEffect:Cm,useMemo:Rm,useReducer:_u,useRef:Sm,useState:function(){return _u(ma)},useDebugValue:Nu,useDeferredValue:function(n){var i=gr();return Om(i,kt.memoizedState,n)},useTransition:function(){var n=_u(ma)[0],i=gr().memoizedState;return[n,i]},useMutableSource:xm,useSyncExternalStore:vm,useId:Dm,unstable_isNewReconciler:!1},o1={readContext:mr,useCallback:Am,useContext:mr,useEffect:Su,useImperativeHandle:Tm,useInsertionEffect:Em,useLayoutEffect:Cm,useMemo:Rm,useReducer:ku,useRef:Sm,useState:function(){return ku(ma)},useDebugValue:Nu,useDeferredValue:function(n){var i=gr();return kt===null?i.memoizedState=n:Om(i,kt.memoizedState,n)},useTransition:function(){var n=ku(ma)[0],i=gr().memoizedState;return[n,i]},useMutableSource:xm,useSyncExternalStore:vm,useId:Dm,unstable_isNewReconciler:!1};function Pr(n,i){if(n&&n.defaultProps){i=P({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function Eu(n,i,u,h){i=n.memoizedState,u=u(h,i),u=u==null?i:P({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var Qo={isMounted:function(n){return(n=n._reactInternals)?us(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var h=Kt(),m=In(n),v=cn(h,m);v.payload=i,u!=null&&(v.callback=u),i=Rn(n,v,m),i!==null&&(Rr(i,n,m,h),Bo(i,n,m))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var h=Kt(),m=In(n),v=cn(h,m);v.tag=1,v.payload=i,u!=null&&(v.callback=u),i=Rn(n,v,m),i!==null&&(Rr(i,n,m,h),Bo(i,n,m))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=Kt(),h=In(n),m=cn(u,h);m.tag=2,i!=null&&(m.callback=i),i=Rn(n,m,h),i!==null&&(Rr(i,n,h,u),Bo(i,n,h))}};function Fm(n,i,u,h,m,v,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,w):i.prototype&&i.prototype.isPureReactComponent?!ra(u,h)||!ra(m,v):!0}function zm(n,i,u){var h=!1,m=Pn,v=i.contextType;return typeof v=="object"&&v!==null?v=mr(v):(m=Qt(i)?hs:Ft.current,h=i.contextTypes,v=(h=h!=null)?Qs(n,m):Pn),i=new i(u,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Qo,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=v),i}function Vm(n,i,u,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,h),i.state!==n&&Qo.enqueueReplaceState(i,i.state,null)}function Cu(n,i,u,h){var m=n.stateNode;m.props=u,m.state=n.memoizedState,m.refs={},pu(n);var v=i.contextType;typeof v=="object"&&v!==null?m.context=mr(v):(v=Qt(i)?hs:Ft.current,m.context=Qs(n,v)),m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Eu(n,i,v,u),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Qo.enqueueReplaceState(m,m.state,null),qo(n,u,m,h),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function ii(n,i){try{var u="",h=i;do u+=Ae(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:m,digest:null}}function Pu(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Tu(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var l1=typeof WeakMap=="function"?WeakMap:Map;function Um(n,i,u){u=cn(-1,u),u.tag=3,u.payload={element:null};var h=i.value;return u.callback=function(){sl||(sl=!0,Wu=h),Tu(n,i)},u}function $m(n,i,u){u=cn(-1,u),u.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var m=i.value;u.payload=function(){return h(m)},u.callback=function(){Tu(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Tu(n,i),typeof h!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),u}function Bm(n,i,u){var h=n.pingCache;if(h===null){h=n.pingCache=new l1;var m=new Set;h.set(i,m)}else m=h.get(i),m===void 0&&(m=new Set,h.set(i,m));m.has(u)||(m.add(u),n=j1.bind(null,n,i,u),i.then(n,n))}function qm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Wm(n,i,u,h,m){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=cn(-1,1),i.tag=2,Rn(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var c1=L.ReactCurrentOwner,Yt=!1;function Ht(n,i,u,h){i.child=n===null?dm(i,null,u,h):ti(i,n.child,u,h)}function Hm(n,i,u,h,m){u=u.render;var v=i.ref;return ni(i,m),h=wu(n,i,u,h,v,m),u=ju(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,un(n,i,m)):(Ze&&u&&su(i),i.flags|=1,Ht(n,i,h,m),i.child)}function Km(n,i,u,h,m){if(n===null){var v=u.type;return typeof v=="function"&&!Yu(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=v,Gm(n,i,v,h,m)):(n=ul(u.type,null,h,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&m)===0){var w=v.memoizedProps;if(u=u.compare,u=u!==null?u:ra,u(w,h)&&n.ref===i.ref)return un(n,i,m)}return i.flags|=1,n=Fn(v,h),n.ref=i.ref,n.return=i,i.child=n}function Gm(n,i,u,h,m){if(n!==null){var v=n.memoizedProps;if(ra(v,h)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=h=v,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Yt=!0);else return i.lanes=n.lanes,un(n,i,m)}return Au(n,i,u,h,m)}function Xm(n,i,u){var h=i.pendingProps,m=h.children,v=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(oi,lr),lr|=u;else{if((u&1073741824)===0)return n=v!==null?v.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,He(oi,lr),lr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,He(oi,lr),lr|=h}else v!==null?(h=v.baseLanes|u,i.memoizedState=null):h=u,He(oi,lr),lr|=h;return Ht(n,i,m,u),i.child}function Jm(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Au(n,i,u,h,m){var v=Qt(u)?hs:Ft.current;return v=Qs(i,v),ni(i,m),u=wu(n,i,u,h,v,m),h=ju(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,un(n,i,m)):(Ze&&h&&su(i),i.flags|=1,Ht(n,i,u,m),i.child)}function Qm(n,i,u,h,m){if(Qt(u)){var v=!0;Lo(i)}else v=!1;if(ni(i,m),i.stateNode===null)Zo(n,i),zm(i,u,h),Cu(i,u,h,m),h=!0;else if(n===null){var w=i.stateNode,T=i.memoizedProps;w.props=T;var I=w.context,W=u.contextType;typeof W=="object"&&W!==null?W=mr(W):(W=Qt(u)?hs:Ft.current,W=Qs(i,W));var Q=u.getDerivedStateFromProps,Y=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";Y||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==h||I!==W)&&Vm(i,w,h,W),An=!1;var J=i.memoizedState;w.state=J,qo(i,h,w,m),I=i.memoizedState,T!==h||J!==I||Jt.current||An?(typeof Q=="function"&&(Eu(i,u,Q,h),I=i.memoizedState),(T=An||Fm(i,u,T,h,J,I,W))?(Y||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=I),w.props=h,w.state=I,w.context=W,h=T):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,fm(n,i),T=i.memoizedProps,W=i.type===i.elementType?T:Pr(i.type,T),w.props=W,Y=i.pendingProps,J=w.context,I=u.contextType,typeof I=="object"&&I!==null?I=mr(I):(I=Qt(u)?hs:Ft.current,I=Qs(i,I));var ce=u.getDerivedStateFromProps;(Q=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==Y||J!==I)&&Vm(i,w,h,I),An=!1,J=i.memoizedState,w.state=J,qo(i,h,w,m);var pe=i.memoizedState;T!==Y||J!==pe||Jt.current||An?(typeof ce=="function"&&(Eu(i,u,ce,h),pe=i.memoizedState),(W=An||Fm(i,u,W,h,J,pe,I)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,pe,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,pe,I)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=pe),w.props=h,w.state=pe,w.context=I,h=W):(typeof w.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),h=!1)}return Ru(n,i,u,h,v,m)}function Ru(n,i,u,h,m,v){Jm(n,i);var w=(i.flags&128)!==0;if(!h&&!w)return m&&rm(i,u,!1),un(n,i,v);h=i.stateNode,c1.current=i;var T=w&&typeof u.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&w?(i.child=ti(i,n.child,null,v),i.child=ti(i,null,T,v)):Ht(n,i,T,v),i.memoizedState=h.state,m&&rm(i,u,!0),i.child}function Ym(n){var i=n.stateNode;i.pendingContext?em(n,i.pendingContext,i.pendingContext!==i.context):i.context&&em(n,i.context,!1),mu(n,i.containerInfo)}function Zm(n,i,u,h,m){return ei(),lu(m),i.flags|=256,Ht(n,i,u,h),i.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(n){return{baseLanes:n,cachePool:null,transitions:null}}function eg(n,i,u){var h=i.pendingProps,m=nt.current,v=!1,w=(i.flags&128)!==0,T;if((T=w)||(T=n!==null&&n.memoizedState===null?!1:(m&2)!==0),T?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),He(nt,m&1),n===null)return ou(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=h.children,n=h.fallback,v?(h=i.mode,v=i.child,w={mode:"hidden",children:w},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=w):v=dl(w,h,0,null),n=js(n,h,u,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Du(u),i.memoizedState=Ou,n):Lu(i,w));if(m=n.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return u1(n,i,w,h,T,m,u);if(v){v=h.fallback,w=i.mode,m=n.child,T=m.sibling;var I={mode:"hidden",children:h.children};return(w&1)===0&&i.child!==m?(h=i.child,h.childLanes=0,h.pendingProps=I,i.deletions=null):(h=Fn(m,I),h.subtreeFlags=m.subtreeFlags&14680064),T!==null?v=Fn(T,v):(v=js(v,w,u,null),v.flags|=2),v.return=i,h.return=i,h.sibling=v,i.child=h,h=v,v=i.child,w=n.child.memoizedState,w=w===null?Du(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=n.childLanes&~u,i.memoizedState=Ou,h}return v=n.child,n=v.sibling,h=Fn(v,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=u),h.return=i,h.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=h,i.memoizedState=null,h}function Lu(n,i){return i=dl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Yo(n,i,u,h){return h!==null&&lu(h),ti(i,n.child,null,u),n=Lu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function u1(n,i,u,h,m,v,w){if(u)return i.flags&256?(i.flags&=-257,h=Pu(Error(r(422))),Yo(n,i,w,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=h.fallback,m=i.mode,h=dl({mode:"visible",children:h.children},m,0,null),v=js(v,m,w,null),v.flags|=2,h.return=i,v.return=i,h.sibling=v,i.child=h,(i.mode&1)!==0&&ti(i,n.child,null,w),i.child.memoizedState=Du(w),i.memoizedState=Ou,v);if((i.mode&1)===0)return Yo(n,i,w,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var T=h.dgst;return h=T,v=Error(r(419)),h=Pu(v,h,void 0),Yo(n,i,w,h)}if(T=(w&n.childLanes)!==0,Yt||T){if(h=Tt,h!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|w))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ln(n,m),Rr(h,n,m,-1))}return Qu(),h=Pu(Error(r(421))),Yo(n,i,w,h)}return m.data==="$?"?(i.flags|=128,i.child=n.child,i=_1.bind(null,n),m._reactRetry=i,null):(n=v.treeContext,or=En(m.nextSibling),ar=i,Ze=!0,Cr=null,n!==null&&(fr[pr++]=an,fr[pr++]=on,fr[pr++]=fs,an=n.id,on=n.overflow,fs=i),i=Lu(i,h.children),i.flags|=4096,i)}function tg(n,i,u){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),hu(n.return,i,u)}function Iu(n,i,u,h,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function rg(n,i,u){var h=i.pendingProps,m=h.revealOrder,v=h.tail;if(Ht(n,i,h.children,u),h=nt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tg(n,u,i);else if(n.tag===19)tg(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(He(nt,h),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(u=i.child,m=null;u!==null;)n=u.alternate,n!==null&&Wo(n)===null&&(m=u),u=u.sibling;u=m,u===null?(m=i.child,i.child=null):(m=u.sibling,u.sibling=null),Iu(i,!1,m,u,v);break;case"backwards":for(u=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Wo(n)===null){i.child=m;break}n=m.sibling,m.sibling=u,u=m,m=n}Iu(i,!0,u,null,v);break;case"together":Iu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zo(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function un(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),vs|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=Fn(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=Fn(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function d1(n,i,u){switch(i.tag){case 3:Ym(i),ei();break;case 5:gm(i);break;case 1:Qt(i.type)&&Lo(i);break;case 4:mu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,m=i.memoizedProps.value;He(Uo,h._currentValue),h._currentValue=m;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(He(nt,nt.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?eg(n,i,u):(He(nt,nt.current&1),n=un(n,i,u),n!==null?n.sibling:null);He(nt,nt.current&1);break;case 19:if(h=(u&i.childLanes)!==0,(n.flags&128)!==0){if(h)return rg(n,i,u);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),He(nt,nt.current),h)break;return null;case 22:case 23:return i.lanes=0,Xm(n,i,u)}return un(n,i,u)}var ng,Mu,sg,ig;ng=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Mu=function(){},sg=function(n,i,u,h){var m=n.memoizedProps;if(m!==h){n=i.stateNode,gs(Wr.current);var v=null;switch(u){case"input":m=tn(n,m),h=tn(n,h),v=[];break;case"select":m=P({},m,{value:void 0}),h=P({},h,{value:void 0}),v=[];break;case"textarea":m=G(n,m),h=G(n,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ro)}Ur(u,h);var w;u=null;for(W in m)if(!h.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var T=m[W];for(w in T)T.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in h){var I=h[W];if(T=m!=null?m[W]:void 0,h.hasOwnProperty(W)&&I!==T&&(I!=null||T!=null))if(W==="style")if(T){for(w in T)!T.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in I)I.hasOwnProperty(w)&&T[w]!==I[w]&&(u||(u={}),u[w]=I[w])}else u||(v||(v=[]),v.push(W,u)),u=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,T=T?T.__html:void 0,I!=null&&T!==I&&(v=v||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&Ge("scroll",n),v||T===I||(v=[])):(v=v||[]).push(W,I))}u&&(v=v||[]).push("style",u);var W=v;(i.updateQueue=W)&&(i.flags|=4)}},ig=function(n,i,u,h){u!==h&&(i.flags|=4)};function xa(n,i){if(!Ze)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,h=0;if(i)for(var m=n.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=u,i}function h1(n,i,u){var h=i.pendingProps;switch(iu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Qt(i.type)&&Do(),Vt(i),null;case 3:return h=i.stateNode,si(),Xe(Jt),Xe(Ft),vu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(zo(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cr!==null&&(Gu(Cr),Cr=null))),Mu(n,i),Vt(i),null;case 5:gu(i);var m=gs(ha.current);if(u=i.type,n!==null&&i.stateNode!=null)sg(n,i,u,h,m),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(r(166));return Vt(i),null}if(n=gs(Wr.current),zo(i)){h=i.stateNode,u=i.type;var v=i.memoizedProps;switch(h[qr]=i,h[oa]=v,n=(i.mode&1)!==0,u){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(m=0;m<sa.length;m++)Ge(sa[m],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":bn(h,v),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ge("invalid",h);break;case"textarea":ae(h,v),Ge("invalid",h)}Ur(u,v),m=null;for(var w in v)if(v.hasOwnProperty(w)){var T=v[w];w==="children"?typeof T=="string"?h.textContent!==T&&(v.suppressHydrationWarning!==!0&&Ao(h.textContent,T,n),m=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&Ao(h.textContent,T,n),m=["children",""+T]):o.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&Ge("scroll",h)}switch(u){case"input":vt(h),os(h,v,!0);break;case"textarea":vt(h),K(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Ro)}h=m,i.updateQueue=h,h!==null&&(i.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=se(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=w.createElement(u,{is:h.is}):(n=w.createElement(u),u==="select"&&(w=n,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):n=w.createElementNS(n,u),n[qr]=i,n[oa]=h,ng(n,i,!1,!1),i.stateNode=n;e:{switch(w=rn(u,h),u){case"dialog":Ge("cancel",n),Ge("close",n),m=h;break;case"iframe":case"object":case"embed":Ge("load",n),m=h;break;case"video":case"audio":for(m=0;m<sa.length;m++)Ge(sa[m],n);m=h;break;case"source":Ge("error",n),m=h;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),m=h;break;case"details":Ge("toggle",n),m=h;break;case"input":bn(n,h),m=tn(n,h),Ge("invalid",n);break;case"option":m=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},m=P({},h,{value:void 0}),Ge("invalid",n);break;case"textarea":ae(n,h),m=G(n,h),Ge("invalid",n);break;default:m=h}Ur(u,m),T=m;for(v in T)if(T.hasOwnProperty(v)){var I=T[v];v==="style"?Sr(n,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&dt(n,I)):v==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&Ot(n,I):typeof I=="number"&&Ot(n,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?I!=null&&v==="onScroll"&&Ge("scroll",n):I!=null&&k(n,v,I,w))}switch(u){case"input":vt(n),os(n,h,!1);break;case"textarea":vt(n),K(n);break;case"option":h.value!=null&&n.setAttribute("value",""+je(h.value));break;case"select":n.multiple=!!h.multiple,v=h.value,v!=null?$(n,!!h.multiple,v,!1):h.defaultValue!=null&&$(n,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=Ro)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)ig(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(u=gs(ha.current),gs(Wr.current),zo(i)){if(h=i.stateNode,u=i.memoizedProps,h[qr]=i,(v=h.nodeValue!==u)&&(n=ar,n!==null))switch(n.tag){case 3:Ao(h.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ao(h.nodeValue,u,(n.mode&1)!==0)}v&&(i.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[qr]=i,i.stateNode=h}return Vt(i),null;case 13:if(Xe(nt),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&or!==null&&(i.mode&1)!==0&&(i.flags&128)===0)lm(),ei(),i.flags|=98560,v=!1;else if(v=zo(i),h!==null&&h.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[qr]=i}else ei(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),v=!1}else Cr!==null&&(Gu(Cr),Cr=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(nt.current&1)!==0?St===0&&(St=3):Qu())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return si(),Mu(n,i),n===null&&ia(i.stateNode.containerInfo),Vt(i),null;case 10:return du(i.type._context),Vt(i),null;case 17:return Qt(i.type)&&Do(),Vt(i),null;case 19:if(Xe(nt),v=i.memoizedState,v===null)return Vt(i),null;if(h=(i.flags&128)!==0,w=v.rendering,w===null)if(h)xa(v,!1);else{if(St!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=Wo(n),w!==null){for(i.flags|=128,xa(v,!1),h=w.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=u,u=i.child;u!==null;)v=u,n=h,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,n=w.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return He(nt,nt.current&1|2),i.child}n=n.sibling}v.tail!==null&&ht()>li&&(i.flags|=128,h=!0,xa(v,!1),i.lanes=4194304)}else{if(!h)if(n=Wo(w),n!==null){if(i.flags|=128,h=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),xa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Ze)return Vt(i),null}else 2*ht()-v.renderingStartTime>li&&u!==1073741824&&(i.flags|=128,h=!0,xa(v,!1),i.lanes=4194304);v.isBackwards?(w.sibling=i.child,i.child=w):(u=v.last,u!==null?u.sibling=w:i.child=w,v.last=w)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=ht(),i.sibling=null,u=nt.current,He(nt,h?u&1|2:u&1),i):(Vt(i),null);case 22:case 23:return Ju(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(lr&1073741824)!==0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function f1(n,i){switch(iu(i),i.tag){case 1:return Qt(i.type)&&Do(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return si(),Xe(Jt),Xe(Ft),vu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return gu(i),null;case 13:if(Xe(nt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ei()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Xe(nt),null;case 4:return si(),null;case 10:return du(i.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var el=!1,Ut=!1,p1=typeof WeakSet=="function"?WeakSet:Set,de=null;function ai(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){lt(n,i,h)}else u.current=null}function Fu(n,i,u){try{u()}catch(h){lt(n,i,h)}}var ag=!1;function m1(n,i){if(Jc=bo,n=Fp(),$c(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var w=0,T=-1,I=-1,W=0,Q=0,Y=n,J=null;t:for(;;){for(var ce;Y!==u||m!==0&&Y.nodeType!==3||(T=w+m),Y!==v||h!==0&&Y.nodeType!==3||(I=w+h),Y.nodeType===3&&(w+=Y.nodeValue.length),(ce=Y.firstChild)!==null;)J=Y,Y=ce;for(;;){if(Y===n)break t;if(J===u&&++W===m&&(T=w),J===v&&++Q===h&&(I=w),(ce=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=ce}u=T===-1||I===-1?null:{start:T,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qc={focusedElem:n,selectionRange:u},bo=!1,de=i;de!==null;)if(i=de,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,de=n;else for(;de!==null;){i=de;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ft=pe.memoizedState,U=i.stateNode,F=U.getSnapshotBeforeUpdate(i.elementType===i.type?me:Pr(i.type,me),ft);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(te){lt(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,de=n;break}de=i.return}return pe=ag,ag=!1,pe}function va(n,i,u){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&n)===n){var v=m.destroy;m.destroy=void 0,v!==void 0&&Fu(i,u,v)}m=m.next}while(m!==h)}}function tl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var h=u.create;u.destroy=h()}u=u.next}while(u!==i)}}function zu(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function og(n){var i=n.alternate;i!==null&&(n.alternate=null,og(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[qr],delete i[oa],delete i[tu],delete i[Qj],delete i[Yj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lg(n){return n.tag===5||n.tag===3||n.tag===4}function cg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vu(n,i,u){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Ro));else if(h!==4&&(n=n.child,n!==null))for(Vu(n,i,u),n=n.sibling;n!==null;)Vu(n,i,u),n=n.sibling}function Uu(n,i,u){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Uu(n,i,u),n=n.sibling;n!==null;)Uu(n,i,u),n=n.sibling}var Dt=null,Tr=!1;function On(n,i,u){for(u=u.child;u!==null;)ug(n,i,u),u=u.sibling}function ug(n,i,u){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(po,u)}catch{}switch(u.tag){case 5:Ut||ai(u,i);case 6:var h=Dt,m=Tr;Dt=null,On(n,i,u),Dt=h,Tr=m,Dt!==null&&(Tr?(n=Dt,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Dt.removeChild(u.stateNode));break;case 18:Dt!==null&&(Tr?(n=Dt,u=u.stateNode,n.nodeType===8?eu(n.parentNode,u):n.nodeType===1&&eu(n,u),Ji(n)):eu(Dt,u.stateNode));break;case 4:h=Dt,m=Tr,Dt=u.stateNode.containerInfo,Tr=!0,On(n,i,u),Dt=h,Tr=m;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,w=v.destroy;v=v.tag,w!==void 0&&((v&2)!==0||(v&4)!==0)&&Fu(u,i,w),m=m.next}while(m!==h)}On(n,i,u);break;case 1:if(!Ut&&(ai(u,i),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(T){lt(u,i,T)}On(n,i,u);break;case 21:On(n,i,u);break;case 22:u.mode&1?(Ut=(h=Ut)||u.memoizedState!==null,On(n,i,u),Ut=h):On(n,i,u);break;default:On(n,i,u)}}function dg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new p1),i.forEach(function(h){var m=k1.bind(null,n,h);u.has(h)||(u.add(h),h.then(m,m))})}}function Ar(n,i){var u=i.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=n,w=i,T=w;e:for(;T!==null;){switch(T.tag){case 5:Dt=T.stateNode,Tr=!1;break e;case 3:Dt=T.stateNode.containerInfo,Tr=!0;break e;case 4:Dt=T.stateNode.containerInfo,Tr=!0;break e}T=T.return}if(Dt===null)throw Error(r(160));ug(v,w,m),Dt=null,Tr=!1;var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(W){lt(m,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hg(i,n),i=i.sibling}function hg(n,i){var u=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ar(i,n),Kr(n),h&4){try{va(3,n,n.return),tl(3,n)}catch(me){lt(n,n.return,me)}try{va(5,n,n.return)}catch(me){lt(n,n.return,me)}}break;case 1:Ar(i,n),Kr(n),h&512&&u!==null&&ai(u,u.return);break;case 5:if(Ar(i,n),Kr(n),h&512&&u!==null&&ai(u,u.return),n.flags&32){var m=n.stateNode;try{Ot(m,"")}catch(me){lt(n,n.return,me)}}if(h&4&&(m=n.stateNode,m!=null)){var v=n.memoizedProps,w=u!==null?u.memoizedProps:v,T=n.type,I=n.updateQueue;if(n.updateQueue=null,I!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&as(m,v),rn(T,w);var W=rn(T,v);for(w=0;w<I.length;w+=2){var Q=I[w],Y=I[w+1];Q==="style"?Sr(m,Y):Q==="dangerouslySetInnerHTML"?dt(m,Y):Q==="children"?Ot(m,Y):k(m,Q,Y,W)}switch(T){case"input":hr(m,v);break;case"textarea":q(m,v);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?$(m,!!v.multiple,ce,!1):J!==!!v.multiple&&(v.defaultValue!=null?$(m,!!v.multiple,v.defaultValue,!0):$(m,!!v.multiple,v.multiple?[]:"",!1))}m[oa]=v}catch(me){lt(n,n.return,me)}}break;case 6:if(Ar(i,n),Kr(n),h&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,v=n.memoizedProps;try{m.nodeValue=v}catch(me){lt(n,n.return,me)}}break;case 3:if(Ar(i,n),Kr(n),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ji(i.containerInfo)}catch(me){lt(n,n.return,me)}break;case 4:Ar(i,n),Kr(n);break;case 13:Ar(i,n),Kr(n),m=n.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(qu=ht())),h&4&&dg(n);break;case 22:if(Q=u!==null&&u.memoizedState!==null,n.mode&1?(Ut=(W=Ut)||Q,Ar(i,n),Ut=W):Ar(i,n),Kr(n),h&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!Q&&(n.mode&1)!==0)for(de=n,Q=n.child;Q!==null;){for(Y=de=Q;de!==null;){switch(J=de,ce=J.child,J.tag){case 0:case 11:case 14:case 15:va(4,J,J.return);break;case 1:ai(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){h=J,u=J.return;try{i=h,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(me){lt(h,u,me)}}break;case 5:ai(J,J.return);break;case 22:if(J.memoizedState!==null){mg(Y);continue}}ce!==null?(ce.return=J,de=ce):mg(Y)}Q=Q.sibling}e:for(Q=null,Y=n;;){if(Y.tag===5){if(Q===null){Q=Y;try{m=Y.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=Y.stateNode,I=Y.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,T.style.display=Vr("display",w))}catch(me){lt(n,n.return,me)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=W?"":Y.memoizedProps}catch(me){lt(n,n.return,me)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Ar(i,n),Kr(n),h&4&&dg(n);break;case 21:break;default:Ar(i,n),Kr(n)}}function Kr(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(lg(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Ot(m,""),h.flags&=-33);var v=cg(n);Uu(n,v,m);break;case 3:case 4:var w=h.stateNode.containerInfo,T=cg(n);Vu(n,T,w);break;default:throw Error(r(161))}}catch(I){lt(n,n.return,I)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function g1(n,i,u){de=n,fg(n)}function fg(n,i,u){for(var h=(n.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&h){var w=m.memoizedState!==null||el;if(!w){var T=m.alternate,I=T!==null&&T.memoizedState!==null||Ut;T=el;var W=Ut;if(el=w,(Ut=I)&&!W)for(de=m;de!==null;)w=de,I=w.child,w.tag===22&&w.memoizedState!==null?gg(m):I!==null?(I.return=w,de=I):gg(m);for(;v!==null;)de=v,fg(v),v=v.sibling;de=m,el=T,Ut=W}pg(n)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,de=v):pg(n)}}function pg(n){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ut||tl(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ut)if(u===null)h.componentDidMount();else{var m=i.elementType===i.type?u.memoizedProps:Pr(i.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&mm(i,v,h);break;case 3:var w=i.updateQueue;if(w!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}mm(i,w,u)}break;case 5:var T=i.stateNode;if(u===null&&i.flags&4){u=T;var I=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var Q=W.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&Ji(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ut||i.flags&512&&zu(i)}catch(J){lt(i,i.return,J)}}if(i===n){de=null;break}if(u=i.sibling,u!==null){u.return=i.return,de=u;break}de=i.return}}function mg(n){for(;de!==null;){var i=de;if(i===n){de=null;break}var u=i.sibling;if(u!==null){u.return=i.return,de=u;break}de=i.return}}function gg(n){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{tl(4,i)}catch(I){lt(i,u,I)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var m=i.return;try{h.componentDidMount()}catch(I){lt(i,m,I)}}var v=i.return;try{zu(i)}catch(I){lt(i,v,I)}break;case 5:var w=i.return;try{zu(i)}catch(I){lt(i,w,I)}}}catch(I){lt(i,i.return,I)}if(i===n){de=null;break}var T=i.sibling;if(T!==null){T.return=i.return,de=T;break}de=i.return}}var x1=Math.ceil,rl=L.ReactCurrentDispatcher,$u=L.ReactCurrentOwner,xr=L.ReactCurrentBatchConfig,Ve=0,Tt=null,yt=null,Lt=0,lr=0,oi=Cn(0),St=0,ya=null,vs=0,nl=0,Bu=0,ba=null,Zt=null,qu=0,li=1/0,dn=null,sl=!1,Wu=null,Dn=null,il=!1,Ln=null,al=0,wa=0,Hu=null,ol=-1,ll=0;function Kt(){return(Ve&6)!==0?ht():ol!==-1?ol:ol=ht()}function In(n){return(n.mode&1)===0?1:(Ve&2)!==0&&Lt!==0?Lt&-Lt:e1.transition!==null?(ll===0&&(ll=cp()),ll):(n=Be,n!==0||(n=window.event,n=n===void 0?16:vp(n.type)),n)}function Rr(n,i,u,h){if(50<wa)throw wa=0,Hu=null,Error(r(185));Wi(n,u,h),((Ve&2)===0||n!==Tt)&&(n===Tt&&((Ve&2)===0&&(nl|=u),St===4&&Mn(n,Lt)),er(n,h),u===1&&Ve===0&&(i.mode&1)===0&&(li=ht()+500,Io&&Tn()))}function er(n,i){var u=n.callbackNode;ej(n,i);var h=xo(n,n===Tt?Lt:0);if(h===0)u!==null&&ap(u),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(u!=null&&ap(u),i===1)n.tag===0?Zj(vg.bind(null,n)):nm(vg.bind(null,n)),Xj(function(){(Ve&6)===0&&Tn()}),u=null;else{switch(up(h)){case 1:u=Sc;break;case 4:u=op;break;case 16:u=fo;break;case 536870912:u=lp;break;default:u=fo}u=Ng(u,xg.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function xg(n,i){if(ol=-1,ll=0,(Ve&6)!==0)throw Error(r(327));var u=n.callbackNode;if(ci()&&n.callbackNode!==u)return null;var h=xo(n,n===Tt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=cl(n,h);else{i=h;var m=Ve;Ve|=2;var v=bg();(Tt!==n||Lt!==i)&&(dn=null,li=ht()+500,bs(n,i));do try{b1();break}catch(T){yg(n,T)}while(!0);uu(),rl.current=v,Ve=m,yt!==null?i=0:(Tt=null,Lt=0,i=St)}if(i!==0){if(i===2&&(m=Nc(n),m!==0&&(h=m,i=Ku(n,m))),i===1)throw u=ya,bs(n,0),Mn(n,h),er(n,ht()),u;if(i===6)Mn(n,h);else{if(m=n.current.alternate,(h&30)===0&&!v1(m)&&(i=cl(n,h),i===2&&(v=Nc(n),v!==0&&(h=v,i=Ku(n,v))),i===1))throw u=ya,bs(n,0),Mn(n,h),er(n,ht()),u;switch(n.finishedWork=m,n.finishedLanes=h,i){case 0:case 1:throw Error(r(345));case 2:ws(n,Zt,dn);break;case 3:if(Mn(n,h),(h&130023424)===h&&(i=qu+500-ht(),10<i)){if(xo(n,0)!==0)break;if(m=n.suspendedLanes,(m&h)!==h){Kt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Zc(ws.bind(null,n,Zt,dn),i);break}ws(n,Zt,dn);break;case 4:if(Mn(n,h),(h&4194240)===h)break;for(i=n.eventTimes,m=-1;0<h;){var w=31-Nr(h);v=1<<w,w=i[w],w>m&&(m=w),h&=~v}if(h=m,h=ht()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*x1(h/1960))-h,10<h){n.timeoutHandle=Zc(ws.bind(null,n,Zt,dn),h);break}ws(n,Zt,dn);break;case 5:ws(n,Zt,dn);break;default:throw Error(r(329))}}}return er(n,ht()),n.callbackNode===u?xg.bind(null,n):null}function Ku(n,i){var u=ba;return n.current.memoizedState.isDehydrated&&(bs(n,i).flags|=256),n=cl(n,i),n!==2&&(i=Zt,Zt=u,i!==null&&Gu(i)),n}function Gu(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function v1(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!Er(v(),m))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mn(n,i){for(i&=~Bu,i&=~nl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-Nr(i),h=1<<u;n[u]=-1,i&=~h}}function vg(n){if((Ve&6)!==0)throw Error(r(327));ci();var i=xo(n,0);if((i&1)===0)return er(n,ht()),null;var u=cl(n,i);if(n.tag!==0&&u===2){var h=Nc(n);h!==0&&(i=h,u=Ku(n,h))}if(u===1)throw u=ya,bs(n,0),Mn(n,i),er(n,ht()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ws(n,Zt,dn),er(n,ht()),null}function Xu(n,i){var u=Ve;Ve|=1;try{return n(i)}finally{Ve=u,Ve===0&&(li=ht()+500,Io&&Tn())}}function ys(n){Ln!==null&&Ln.tag===0&&(Ve&6)===0&&ci();var i=Ve;Ve|=1;var u=xr.transition,h=Be;try{if(xr.transition=null,Be=1,n)return n()}finally{Be=h,xr.transition=u,Ve=i,(Ve&6)===0&&Tn()}}function Ju(){lr=oi.current,Xe(oi)}function bs(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,Gj(u)),yt!==null)for(u=yt.return;u!==null;){var h=u;switch(iu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Do();break;case 3:si(),Xe(Jt),Xe(Ft),vu();break;case 5:gu(h);break;case 4:si();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:du(h.type._context);break;case 22:case 23:Ju()}u=u.return}if(Tt=n,yt=n=Fn(n.current,null),Lt=lr=i,St=0,ya=null,Bu=nl=vs=0,Zt=ba=null,ms!==null){for(i=0;i<ms.length;i++)if(u=ms[i],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var w=v.next;v.next=m,h.next=w}u.pending=h}ms=null}return n}function yg(n,i){do{var u=yt;try{if(uu(),Ho.current=Jo,Ko){for(var h=st.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Ko=!1}if(xs=0,Pt=kt=st=null,fa=!1,pa=0,$u.current=null,u===null||u.return===null){St=1,ya=i,yt=null;break}e:{var v=n,w=u.return,T=u,I=i;if(i=Lt,T.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,Q=T,Y=Q.tag;if((Q.mode&1)===0&&(Y===0||Y===11||Y===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ce=qm(w);if(ce!==null){ce.flags&=-257,Wm(ce,w,T,v,i),ce.mode&1&&Bm(v,W,i),i=ce,I=W;var pe=i.updateQueue;if(pe===null){var me=new Set;me.add(I),i.updateQueue=me}else pe.add(I);break e}else{if((i&1)===0){Bm(v,W,i),Qu();break e}I=Error(r(426))}}else if(Ze&&T.mode&1){var ft=qm(w);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Wm(ft,w,T,v,i),lu(ii(I,T));break e}}v=I=ii(I,T),St!==4&&(St=2),ba===null?ba=[v]:ba.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var U=Um(v,I,i);pm(v,U);break e;case 1:T=I;var F=v.type,B=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Dn===null||!Dn.has(B)))){v.flags|=65536,i&=-i,v.lanes|=i;var te=$m(v,T,i);pm(v,te);break e}}v=v.return}while(v!==null)}jg(u)}catch(be){i=be,yt===u&&u!==null&&(yt=u=u.return);continue}break}while(!0)}function bg(){var n=rl.current;return rl.current=Jo,n===null?Jo:n}function Qu(){(St===0||St===3||St===2)&&(St=4),Tt===null||(vs&268435455)===0&&(nl&268435455)===0||Mn(Tt,Lt)}function cl(n,i){var u=Ve;Ve|=2;var h=bg();(Tt!==n||Lt!==i)&&(dn=null,bs(n,i));do try{y1();break}catch(m){yg(n,m)}while(!0);if(uu(),Ve=u,rl.current=h,yt!==null)throw Error(r(261));return Tt=null,Lt=0,St}function y1(){for(;yt!==null;)wg(yt)}function b1(){for(;yt!==null&&!Ww();)wg(yt)}function wg(n){var i=Sg(n.alternate,n,lr);n.memoizedProps=n.pendingProps,i===null?jg(n):yt=i,$u.current=null}function jg(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=h1(u,i,lr),u!==null){yt=u;return}}else{if(u=f1(u,i),u!==null){u.flags&=32767,yt=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{St=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=n}while(i!==null);St===0&&(St=5)}function ws(n,i,u){var h=Be,m=xr.transition;try{xr.transition=null,Be=1,w1(n,i,u,h)}finally{xr.transition=m,Be=h}return null}function w1(n,i,u,h){do ci();while(Ln!==null);if((Ve&6)!==0)throw Error(r(327));u=n.finishedWork;var m=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=u.lanes|u.childLanes;if(tj(n,v),n===Tt&&(yt=Tt=null,Lt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||il||(il=!0,Ng(fo,function(){return ci(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=xr.transition,xr.transition=null;var w=Be;Be=1;var T=Ve;Ve|=4,$u.current=null,m1(n,u),hg(u,n),Uj(Qc),bo=!!Jc,Qc=Jc=null,n.current=u,g1(u),Hw(),Ve=T,Be=w,xr.transition=v}else n.current=u;if(il&&(il=!1,Ln=n,al=m),v=n.pendingLanes,v===0&&(Dn=null),Xw(u.stateNode),er(n,ht()),i!==null)for(h=n.onRecoverableError,u=0;u<i.length;u++)m=i[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(sl)throw sl=!1,n=Wu,Wu=null,n;return(al&1)!==0&&n.tag!==0&&ci(),v=n.pendingLanes,(v&1)!==0?n===Hu?wa++:(wa=0,Hu=n):wa=0,Tn(),null}function ci(){if(Ln!==null){var n=up(al),i=xr.transition,u=Be;try{if(xr.transition=null,Be=16>n?16:n,Ln===null)var h=!1;else{if(n=Ln,Ln=null,al=0,(Ve&6)!==0)throw Error(r(331));var m=Ve;for(Ve|=4,de=n.current;de!==null;){var v=de,w=v.child;if((de.flags&16)!==0){var T=v.deletions;if(T!==null){for(var I=0;I<T.length;I++){var W=T[I];for(de=W;de!==null;){var Q=de;switch(Q.tag){case 0:case 11:case 15:va(8,Q,v)}var Y=Q.child;if(Y!==null)Y.return=Q,de=Y;else for(;de!==null;){Q=de;var J=Q.sibling,ce=Q.return;if(og(Q),Q===W){de=null;break}if(J!==null){J.return=ce,de=J;break}de=ce}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&w!==null)w.return=v,de=w;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:va(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,de=U;break e}de=v.return}}var F=n.current;for(de=F;de!==null;){w=de;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,de=B;else e:for(w=F;de!==null;){if(T=de,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:tl(9,T)}}catch(be){lt(T,T.return,be)}if(T===w){de=null;break e}var te=T.sibling;if(te!==null){te.return=T.return,de=te;break e}de=T.return}}if(Ve=m,Tn(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(po,n)}catch{}h=!0}return h}finally{Be=u,xr.transition=i}}return!1}function _g(n,i,u){i=ii(u,i),i=Um(n,i,1),n=Rn(n,i,1),i=Kt(),n!==null&&(Wi(n,1,i),er(n,i))}function lt(n,i,u){if(n.tag===3)_g(n,n,u);else for(;i!==null;){if(i.tag===3){_g(i,n,u);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Dn===null||!Dn.has(h))){n=ii(u,n),n=$m(i,n,1),i=Rn(i,n,1),n=Kt(),i!==null&&(Wi(i,1,n),er(i,n));break}}i=i.return}}function j1(n,i,u){var h=n.pingCache;h!==null&&h.delete(i),i=Kt(),n.pingedLanes|=n.suspendedLanes&u,Tt===n&&(Lt&u)===u&&(St===4||St===3&&(Lt&130023424)===Lt&&500>ht()-qu?bs(n,0):Bu|=u),er(n,i)}function kg(n,i){i===0&&((n.mode&1)===0?i=1:(i=go,go<<=1,(go&130023424)===0&&(go=4194304)));var u=Kt();n=ln(n,i),n!==null&&(Wi(n,i,u),er(n,u))}function _1(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),kg(n,u)}function k1(n,i){var u=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(i),kg(n,u)}var Sg;Sg=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||Jt.current)Yt=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return Yt=!1,d1(n,i,u);Yt=(n.flags&131072)!==0}else Yt=!1,Ze&&(i.flags&1048576)!==0&&sm(i,Fo,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Zo(n,i),n=i.pendingProps;var m=Qs(i,Ft.current);ni(i,u),m=wu(null,i,h,n,m,u);var v=ju();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(h)?(v=!0,Lo(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,pu(i),m.updater=Qo,i.stateNode=m,m._reactInternals=i,Cu(i,h,n,u),i=Ru(null,i,h,!0,v,u)):(i.tag=0,Ze&&v&&su(i),Ht(null,i,m,u),i=i.child),i;case 16:h=i.elementType;e:{switch(Zo(n,i),n=i.pendingProps,m=h._init,h=m(h._payload),i.type=h,m=i.tag=N1(h),n=Pr(h,n),m){case 0:i=Au(null,i,h,n,u);break e;case 1:i=Qm(null,i,h,n,u);break e;case 11:i=Hm(null,i,h,n,u);break e;case 14:i=Km(null,i,h,Pr(h.type,n),u);break e}throw Error(r(306,h,""))}return i;case 0:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Pr(h,m),Au(n,i,h,m,u);case 1:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Pr(h,m),Qm(n,i,h,m,u);case 3:e:{if(Ym(i),n===null)throw Error(r(387));h=i.pendingProps,v=i.memoizedState,m=v.element,fm(n,i),qo(i,h,null,u);var w=i.memoizedState;if(h=w.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=ii(Error(r(423)),i),i=Zm(n,i,h,u,m);break e}else if(h!==m){m=ii(Error(r(424)),i),i=Zm(n,i,h,u,m);break e}else for(or=En(i.stateNode.containerInfo.firstChild),ar=i,Ze=!0,Cr=null,u=dm(i,null,h,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ei(),h===m){i=un(n,i,u);break e}Ht(n,i,h,u)}i=i.child}return i;case 5:return gm(i),n===null&&ou(i),h=i.type,m=i.pendingProps,v=n!==null?n.memoizedProps:null,w=m.children,Yc(h,m)?w=null:v!==null&&Yc(h,v)&&(i.flags|=32),Jm(n,i),Ht(n,i,w,u),i.child;case 6:return n===null&&ou(i),null;case 13:return eg(n,i,u);case 4:return mu(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=ti(i,null,h,u):Ht(n,i,h,u),i.child;case 11:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Pr(h,m),Hm(n,i,h,m,u);case 7:return Ht(n,i,i.pendingProps,u),i.child;case 8:return Ht(n,i,i.pendingProps.children,u),i.child;case 12:return Ht(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(h=i.type._context,m=i.pendingProps,v=i.memoizedProps,w=m.value,He(Uo,h._currentValue),h._currentValue=w,v!==null)if(Er(v.value,w)){if(v.children===m.children&&!Jt.current){i=un(n,i,u);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){w=v.child;for(var I=T.firstContext;I!==null;){if(I.context===h){if(v.tag===1){I=cn(-1,u&-u),I.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var Q=W.pending;Q===null?I.next=I:(I.next=Q.next,Q.next=I),W.pending=I}}v.lanes|=u,I=v.alternate,I!==null&&(I.lanes|=u),hu(v.return,u,i),T.lanes|=u;break}I=I.next}}else if(v.tag===10)w=v.type===i.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(r(341));w.lanes|=u,T=w.alternate,T!==null&&(T.lanes|=u),hu(w,u,i),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===i){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}Ht(n,i,m.children,u),i=i.child}return i;case 9:return m=i.type,h=i.pendingProps.children,ni(i,u),m=mr(m),h=h(m),i.flags|=1,Ht(n,i,h,u),i.child;case 14:return h=i.type,m=Pr(h,i.pendingProps),m=Pr(h.type,m),Km(n,i,h,m,u);case 15:return Gm(n,i,i.type,i.pendingProps,u);case 17:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Pr(h,m),Zo(n,i),i.tag=1,Qt(h)?(n=!0,Lo(i)):n=!1,ni(i,u),zm(i,h,m),Cu(i,h,m,u),Ru(null,i,h,!0,n,u);case 19:return rg(n,i,u);case 22:return Xm(n,i,u)}throw Error(r(156,i.tag))};function Ng(n,i){return ip(n,i)}function S1(n,i,u,h){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(n,i,u,h){return new S1(n,i,u,h)}function Yu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function N1(n){if(typeof n=="function")return Yu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ee)return 11;if(n===ye)return 14}return 2}function Fn(n,i){var u=n.alternate;return u===null?(u=vr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function ul(n,i,u,h,m,v){var w=2;if(h=n,typeof n=="function")Yu(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case z:return js(u.children,m,v,i);case H:w=8,m|=8;break;case Z:return n=vr(12,u,i,m|2),n.elementType=Z,n.lanes=v,n;case he:return n=vr(13,u,i,m),n.elementType=he,n.lanes=v,n;case le:return n=vr(19,u,i,m),n.elementType=le,n.lanes=v,n;case fe:return dl(u,m,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:w=10;break e;case ge:w=9;break e;case ee:w=11;break e;case ye:w=14;break e;case _e:w=16,h=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=vr(w,u,i,m),i.elementType=n,i.type=h,i.lanes=v,i}function js(n,i,u,h){return n=vr(7,n,h,i),n.lanes=u,n}function dl(n,i,u,h){return n=vr(22,n,h,i),n.elementType=fe,n.lanes=u,n.stateNode={isHidden:!1},n}function Zu(n,i,u){return n=vr(6,n,null,i),n.lanes=u,n}function ed(n,i,u){return i=vr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function E1(n,i,u,h,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function td(n,i,u,h,m,v,w,T,I){return n=new E1(n,i,u,T,I),i===1?(i=1,v===!0&&(i|=8)):i=0,v=vr(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(v),n}function C1(n,i,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:i,implementation:u}}function Eg(n){if(!n)return Pn;n=n._reactInternals;e:{if(us(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(Qt(u))return tm(n,u,i)}return i}function Cg(n,i,u,h,m,v,w,T,I){return n=td(u,h,!0,n,m,v,w,T,I),n.context=Eg(null),u=n.current,h=Kt(),m=In(u),v=cn(h,m),v.callback=i??null,Rn(u,v,m),n.current.lanes=m,Wi(n,m,h),er(n,h),n}function hl(n,i,u,h){var m=i.current,v=Kt(),w=In(m);return u=Eg(u),i.context===null?i.context=u:i.pendingContext=u,i=cn(v,w),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=Rn(m,i,w),n!==null&&(Rr(n,m,w,v),Bo(n,m,w)),w}function fl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Pg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function rd(n,i){Pg(n,i),(n=n.alternate)&&Pg(n,i)}function P1(){return null}var Tg=typeof reportError=="function"?reportError:function(n){console.error(n)};function nd(n){this._internalRoot=n}pl.prototype.render=nd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));hl(n,i,null,null)},pl.prototype.unmount=nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ys(function(){hl(null,n,null,null)}),i[nn]=null}};function pl(n){this._internalRoot=n}pl.prototype.unstable_scheduleHydration=function(n){if(n){var i=fp();n={blockedOn:null,target:n,priority:i};for(var u=0;u<kn.length&&i!==0&&i<kn[u].priority;u++);kn.splice(u,0,n),u===0&&gp(n)}};function sd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ml(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ag(){}function T1(n,i,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var W=fl(w);v.call(W)}}var w=Cg(i,h,n,0,null,!1,!1,"",Ag);return n._reactRootContainer=w,n[nn]=w.current,ia(n.nodeType===8?n.parentNode:n),ys(),w}for(;m=n.lastChild;)n.removeChild(m);if(typeof h=="function"){var T=h;h=function(){var W=fl(I);T.call(W)}}var I=td(n,0,!1,null,null,!1,!1,"",Ag);return n._reactRootContainer=I,n[nn]=I.current,ia(n.nodeType===8?n.parentNode:n),ys(function(){hl(i,I,u,h)}),I}function gl(n,i,u,h,m){var v=u._reactRootContainer;if(v){var w=v;if(typeof m=="function"){var T=m;m=function(){var I=fl(w);T.call(I)}}hl(i,w,n,m)}else w=T1(u,i,n,m,h);return fl(w)}dp=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=qi(i.pendingLanes);u!==0&&(Cc(i,u|1),er(i,ht()),(Ve&6)===0&&(li=ht()+500,Tn()))}break;case 13:ys(function(){var h=ln(n,1);if(h!==null){var m=Kt();Rr(h,n,1,m)}}),rd(n,1)}},Pc=function(n){if(n.tag===13){var i=ln(n,134217728);if(i!==null){var u=Kt();Rr(i,n,134217728,u)}rd(n,134217728)}},hp=function(n){if(n.tag===13){var i=In(n),u=ln(n,i);if(u!==null){var h=Kt();Rr(u,n,i,h)}rd(n,i)}},fp=function(){return Be},pp=function(n,i){var u=Be;try{return Be=n,i()}finally{Be=u}},wc=function(n,i,u){switch(i){case"input":if(hr(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var h=u[i];if(h!==n&&h.form===n.form){var m=Oo(h);if(!m)throw Error(r(90));Wt(h),hr(h,m)}}}break;case"textarea":q(n,u);break;case"select":i=u.value,i!=null&&$(n,!!u.multiple,i,!1)}},Yf=Xu,Zf=ys;var A1={usingClientEntryPoint:!1,Events:[la,Xs,Oo,Jf,Qf,Xu]},ja={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R1={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=np(n),n===null?null:n.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{po=xl.inject(R1),Br=xl}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1,tr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(i))throw Error(r(200));return C1(n,i,null,u)},tr.createRoot=function(n,i){if(!sd(n))throw Error(r(299));var u=!1,h="",m=Tg;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=td(n,1,!1,null,null,u,!1,h,m),n[nn]=i.current,ia(n.nodeType===8?n.parentNode:n),new nd(i)},tr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=np(i),n=n===null?null:n.stateNode,n},tr.flushSync=function(n){return ys(n)},tr.hydrate=function(n,i,u){if(!ml(i))throw Error(r(200));return gl(null,n,i,!0,u)},tr.hydrateRoot=function(n,i,u){if(!sd(n))throw Error(r(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",w=Tg;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),i=Cg(i,null,n,1,u??null,m,!1,v,w),n[nn]=i.current,ia(n),h)for(n=0;n<h.length;n++)u=h[n],m=u._getVersion,m=m(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,m]:i.mutableSourceEagerHydrationData.push(u,m);return new pl(i)},tr.render=function(n,i,u){if(!ml(i))throw Error(r(200));return gl(null,n,i,!1,u)},tr.unmountComponentAtNode=function(n){if(!ml(n))throw Error(r(40));return n._reactRootContainer?(ys(function(){gl(null,null,n,!1,function(){n._reactRootContainer=null,n[nn]=null})}),!0):!1},tr.unstable_batchedUpdates=Xu,tr.unstable_renderSubtreeIntoContainer=function(n,i,u,h){if(!ml(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return gl(n,i,u,!1,h)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var zg;function yy(){if(zg)return od.exports;zg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),od.exports=U1(),od.exports}var Vg;function $1(){if(Vg)return vl;Vg=1;var t=yy();return vl.createRoot=t.createRoot,vl.hydrateRoot=t.hydrateRoot,vl}var B1=$1();yy();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ua.apply(this,arguments)}var Gn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gn||(Gn={}));const Ug="popstate";function q1(t){t===void 0&&(t={});function e(s,o){let{pathname:l,search:c,hash:d}=s.location;return qd("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:$l(o)}return H1(e,r,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substr(2,8)}function $g(t,e){return{usr:t.state,key:t.key,idx:e}}function qd(t,e,r,s){return r===void 0&&(r=null),Ua({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:r,key:e&&e.key||s||W1()})}function $l(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ai(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function H1(t,e,r,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d=Gn.Pop,f=null,p=g();p==null&&(p=0,c.replaceState(Ua({},c.state,{idx:p}),""));function g(){return(c.state||{idx:null}).idx}function x(){d=Gn.Pop;let j=g(),A=j==null?null:j-p;p=j,f&&f({action:d,location:N.location,delta:A})}function y(j,A){d=Gn.Push;let C=qd(N.location,j,A);p=g()+1;let k=$g(C,p),L=N.createHref(C);try{c.pushState(k,"",L)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(L)}l&&f&&f({action:d,location:N.location,delta:1})}function b(j,A){d=Gn.Replace;let C=qd(N.location,j,A);p=g();let k=$g(C,p),L=N.createHref(C);c.replaceState(k,"",L),l&&f&&f({action:d,location:N.location,delta:0})}function S(j){let A=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof j=="string"?j:$l(j);return C=C.replace(/ $/,"%20"),gt(A,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,A)}let N={get action(){return d},get location(){return t(o,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Ug,x),f=j,()=>{o.removeEventListener(Ug,x),f=null}},createHref(j){return e(o,j)},createURL:S,encodeLocation(j){let A=S(j);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(j){return c.go(j)}};return N}var Bg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bg||(Bg={}));function K1(t,e,r){return r===void 0&&(r="/"),G1(t,e,r)}function G1(t,e,r,s){let o=typeof e=="string"?Ai(e):e,l=Uh(o.pathname||"/",r);if(l==null)return null;let c=by(t);X1(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=o_(l);d=s_(c[f],p)}return d}function by(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let o=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(gt(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let p=Jn([s,f.relativePath]),g=r.concat(f);l.children&&l.children.length>0&&(gt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),by(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:r_(p,l.index),routesMeta:g})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let f of wy(l.path))o(l,c,f)}),e}function wy(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=wy(s.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function X1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:n_(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const J1=/^:[\w-]+$/,Q1=3,Y1=2,Z1=1,e_=10,t_=-2,qg=t=>t==="*";function r_(t,e){let r=t.split("/"),s=r.length;return r.some(qg)&&(s+=t_),e&&(s+=Y1),r.filter(o=>!qg(o)).reduce((o,l)=>o+(J1.test(l)?Q1:l===""?Z1:e_),s)}function n_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function s_(t,e,r){let{routesMeta:s}=t,o={},l="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=i_({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),y=f.route;if(!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:Jn([l,x.pathname]),pathnameBase:h_(Jn([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=Jn([l,x.pathnameBase]))}return c}function i_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=a_(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,g,x)=>{let{paramName:y,isOptional:b}=g;if(y==="*"){let N=d[x]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=d[x];return b&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function a_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Vh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function o_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c_=t=>l_.test(t);function u_(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Ai(t):t,l;if(r)if(c_(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Vh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?l=Wg(r.substring(1),"/"):l=Wg(r,e)}else l=e;return{pathname:l,search:f_(s),hash:p_(o)}}function Wg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ud(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $h(t,e){let r=d_(t);return e?r.map((s,o)=>o===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Bh(t,e,r,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Ai(t):(o=Ua({},t),gt(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=r;else{let x=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;o.pathname=y.join("/")}d=x>=0?e[x]:"/"}let f=u_(o,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const Jn=t=>t.join("/").replace(/\/\/+/g,"/"),h_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jy=["post","put","patch","delete"];new Set(jy);const g_=["get",...jy];new Set(g_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},$a.apply(this,arguments)}const qh=_.createContext(null),x_=_.createContext(null),ts=_.createContext(null),cc=_.createContext(null),yn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),_y=_.createContext(null);function v_(t,e){let{relative:r}=e===void 0?{}:e;Ri()||gt(!1);let{basename:s,navigator:o}=_.useContext(ts),{hash:l,pathname:c,search:d}=Sy(t,{relative:r}),f=c;return s!=="/"&&(f=c==="/"?s:Jn([s,c])),o.createHref({pathname:f,search:d,hash:l})}function Ri(){return _.useContext(cc)!=null}function qt(){return Ri()||gt(!1),_.useContext(cc).location}function ky(t){_.useContext(ts).static||_.useLayoutEffect(t)}function xt(){let{isDataRoute:t}=_.useContext(yn);return t?A_():y_()}function y_(){Ri()||gt(!1);let t=_.useContext(qh),{basename:e,future:r,navigator:s}=_.useContext(ts),{matches:o}=_.useContext(yn),{pathname:l}=qt(),c=JSON.stringify($h(o,r.v7_relativeSplatPath)),d=_.useRef(!1);return ky(()=>{d.current=!0}),_.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let x=Bh(p,JSON.parse(c),l,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Jn([e,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[e,s,c,l,t])}function uc(){let{matches:t}=_.useContext(yn),e=t[t.length-1];return e?e.params:{}}function Sy(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=_.useContext(ts),{matches:o}=_.useContext(yn),{pathname:l}=qt(),c=JSON.stringify($h(o,s.v7_relativeSplatPath));return _.useMemo(()=>Bh(t,JSON.parse(c),l,r==="path"),[t,c,l,r])}function b_(t,e){return w_(t,e)}function w_(t,e,r,s){Ri()||gt(!1);let{navigator:o}=_.useContext(ts),{matches:l}=_.useContext(yn),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let p=qt(),g;if(e){var x;let j=typeof e=="string"?Ai(e):e;f==="/"||(x=j.pathname)!=null&&x.startsWith(f)||gt(!1),g=j}else g=p;let y=g.pathname||"/",b=y;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=K1(t,{pathname:b}),N=N_(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Jn([f,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Jn([f,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,s);return e&&N?_.createElement(cc.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Gn.Pop}},N):N}function j_(){let t=T_(),e=m_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:o},r):null,null)}const __=_.createElement(j_,null);class k_ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(yn.Provider,{value:this.props.routeContext},_.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S_(t){let{routeContext:e,match:r,children:s}=t,o=_.useContext(qh);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(yn.Provider,{value:e},s)}function N_(t,e,r,s){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,d=(o=r)==null?void 0:o.errors;if(d!=null){let g=c.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);g>=0||gt(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:y,errors:b}=r,S=x.route.loader&&y[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||S){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,x,y)=>{let b,S=!1,N=null,j=null;r&&(b=d&&x.route.id?d[x.route.id]:void 0,N=x.route.errorElement||__,f&&(p<0&&y===0?(R_("route-fallback"),S=!0,j=null):p===y&&(S=!0,j=x.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,y+1)),C=()=>{let k;return b?k=N:S?k=j:x.route.Component?k=_.createElement(x.route.Component,null):x.route.element?k=x.route.element:k=g,_.createElement(S_,{match:x,routeContext:{outlet:g,matches:A,isDataRoute:r!=null},children:k})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?_.createElement(k_,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}var Ny=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ny||{}),Ey=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Ey||{});function E_(t){let e=_.useContext(qh);return e||gt(!1),e}function C_(t){let e=_.useContext(x_);return e||gt(!1),e}function P_(t){let e=_.useContext(yn);return e||gt(!1),e}function Cy(t){let e=P_(),r=e.matches[e.matches.length-1];return r.route.id||gt(!1),r.route.id}function T_(){var t;let e=_.useContext(_y),r=C_(),s=Cy();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function A_(){let{router:t}=E_(Ny.UseNavigateStable),e=Cy(Ey.UseNavigateStable),r=_.useRef(!1);return ky(()=>{r.current=!0}),_.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,$a({fromRouteId:e},l)))},[t,e])}const Hg={};function R_(t,e,r){Hg[t]||(Hg[t]=!0)}function O_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rs(t){let{to:e,replace:r,state:s,relative:o}=t;Ri()||gt(!1);let{future:l,static:c}=_.useContext(ts),{matches:d}=_.useContext(yn),{pathname:f}=qt(),p=xt(),g=Bh(e,$h(d,l.v7_relativeSplatPath),f,o==="path"),x=JSON.stringify(g);return _.useEffect(()=>p(JSON.parse(x),{replace:r,state:s,relative:o}),[p,x,o,r,s]),null}function $e(t){gt(!1)}function D_(t){let{basename:e="/",children:r=null,location:s,navigationType:o=Gn.Pop,navigator:l,static:c=!1,future:d}=t;Ri()&&gt(!1);let f=e.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:f,navigator:l,static:c,future:$a({v7_relativeSplatPath:!1},d)}),[f,d,l,c]);typeof s=="string"&&(s=Ai(s));let{pathname:g="/",search:x="",hash:y="",state:b=null,key:S="default"}=s,N=_.useMemo(()=>{let j=Uh(g,f);return j==null?null:{location:{pathname:j,search:x,hash:y,state:b,key:S},navigationType:o}},[f,g,x,y,b,S,o]);return N==null?null:_.createElement(ts.Provider,{value:p},_.createElement(cc.Provider,{children:r,value:N}))}function L_(t){let{children:e,location:r}=t;return b_(Wd(e),r)}new Promise(()=>{});function Wd(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(s,o)=>{if(!_.isValidElement(s))return;let l=[...e,o];if(s.type===_.Fragment){r.push.apply(r,Wd(s.props.children,l));return}s.type!==$e&&gt(!1),!s.props.index||!s.props.children||gt(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Wd(s.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Hd.apply(this,arguments)}function I_(t,e){if(t==null)return{};var r={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function M_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F_(t,e){return t.button===0&&(!e||e==="_self")&&!M_(t)}const z_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V_="6";try{window.__reactRouterVersion=V_}catch{}const U_="startTransition",Kg=F1[U_];function $_(t){let{basename:e,children:r,future:s,window:o}=t,l=_.useRef();l.current==null&&(l.current=q1({window:o,v5Compat:!0}));let c=l.current,[d,f]=_.useState({action:c.action,location:c.location}),{v7_startTransition:p}=s||{},g=_.useCallback(x=>{p&&Kg?Kg(()=>f(x)):f(x)},[f,p]);return _.useLayoutEffect(()=>c.listen(g),[c,g]),_.useEffect(()=>O_(s),[s]),_.createElement(D_,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:c,future:s})}const B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=_.forwardRef(function(e,r){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:g,viewTransition:x}=e,y=I_(e,z_),{basename:b}=_.useContext(ts),S,N=!1;if(typeof p=="string"&&q_.test(p)&&(S=p,B_))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),R=Uh(L.pathname,b);L.origin===k.origin&&R!=null?p=R+L.search+L.hash:N=!0}catch{}let j=v_(p,{relative:o}),A=W_(p,{replace:c,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:x});function C(k){s&&s(k),k.defaultPrevented||A(k)}return _.createElement("a",Hd({},y,{href:S||j,onClick:N||l?s:C,ref:r,target:f}))});var Gg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gg||(Gg={}));var Xg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xg||(Xg={}));function W_(t,e){let{target:r,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,f=xt(),p=qt(),g=Sy(t,{relative:c});return _.useCallback(x=>{if(F_(x,r)){x.preventDefault();let y=s!==void 0?s:$l(p)===$l(g);f(t,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[p,f,g,s,o,r,t,l,c,d])}let H_={data:""},K_=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||H_},G_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,X_=/\/\*[^]*?\*\/|  +/g,Jg=/\n+/g,Wn=(t,e)=>{let r="",s="",o="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?r=l+" "+c+";":s+=l[1]=="f"?Wn(c,l):l+"{"+Wn(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=Wn(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Wn.p?Wn.p(l,c):l+":"+c+";")}return r+(e&&o?e+"{"+o+"}":o)+s},hn={},Py=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Py(t[r]);return e}return t},J_=(t,e,r,s,o)=>{let l=Py(t),c=hn[l]||(hn[l]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(l));if(!hn[c]){let f=l!==t?t:(p=>{let g,x,y=[{}];for(;g=G_.exec(p.replace(X_,""));)g[4]?y.shift():g[3]?(x=g[3].replace(Jg," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][g[1]]=g[2].replace(Jg," ").trim();return y[0]})(t);hn[c]=Wn(o?{["@keyframes "+c]:f}:f,r?"":"."+c)}let d=r&&hn.g?hn.g:null;return r&&(hn.g=hn[c]),((f,p,g,x)=>{x?p.data=p.data.replace(x,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(hn[c],e,s,d),c},Q_=(t,e,r)=>t.reduce((s,o,l)=>{let c=e[l];if(c&&c.call){let d=c(r),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=f?"."+f:d&&typeof d=="object"?d.props?"":Wn(d,""):d===!1?"":d}return s+o+(c??"")},"");function dc(t){let e=this||{},r=t.call?t(e.p):t;return J_(r.unshift?r.raw?Q_(r,[].slice.call(arguments,1),e.p):r.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):r,K_(e.target),e.g,e.o,e.k)}let Ty,Kd,Gd;dc.bind({g:1});let gn=dc.bind({k:1});function Y_(t,e,r,s){Wn.p=e,Ty=t,Kd=r,Gd=s}function rs(t,e){let r=this||{};return function(){let s=arguments;function o(l,c){let d=Object.assign({},l),f=d.className||o.className;r.p=Object.assign({theme:Kd&&Kd()},d),r.o=/ *go\d+/.test(f),d.className=dc.apply(r,s)+(f?" "+f:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),Gd&&p[0]&&Gd(d),Ty(p,d)}return o}}var Z_=t=>typeof t=="function",Bl=(t,e)=>Z_(t)?t(e):t,ek=(()=>{let t=0;return()=>(++t).toString()})(),Ay=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),tk=20,Wh="default",Ry=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return Ry(t,{type:t.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...t,toasts:t.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},Ll=[],Oy={toasts:[],pausedAt:void 0,settings:{toastLimit:tk}},Qr={},Dy=(t,e=Wh)=>{Qr[e]=Ry(Qr[e]||Oy,t),Ll.forEach(([r,s])=>{r===e&&s(Qr[e])})},Ly=t=>Object.keys(Qr).forEach(e=>Dy(t,e)),rk=t=>Object.keys(Qr).find(e=>Qr[e].toasts.some(r=>r.id===t)),hc=(t=Wh)=>e=>{Dy(e,t)},nk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sk=(t={},e=Wh)=>{let[r,s]=_.useState(Qr[e]||Oy),o=_.useRef(Qr[e]);_.useEffect(()=>(o.current!==Qr[e]&&s(Qr[e]),Ll.push([e,s]),()=>{let c=Ll.findIndex(([d])=>d===e);c>-1&&Ll.splice(c,1)}),[e]);let l=r.toasts.map(c=>{var d,f,p;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((d=t[c.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:c.duration||((f=t[c.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||nk[c.type],style:{...t.style,...(p=t[c.type])==null?void 0:p.style,...c.style}}});return{...r,toasts:l}},ik=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ek()}),to=t=>(e,r)=>{let s=ik(e,t,r);return hc(s.toasterId||rk(s.id))({type:2,toast:s}),s.id},ne=(t,e)=>to("blank")(t,e);ne.error=to("error");ne.success=to("success");ne.loading=to("loading");ne.custom=to("custom");ne.dismiss=(t,e)=>{let r={type:3,toastId:t};e?hc(e)(r):Ly(r)};ne.dismissAll=t=>ne.dismiss(void 0,t);ne.remove=(t,e)=>{let r={type:4,toastId:t};e?hc(e)(r):Ly(r)};ne.removeAll=t=>ne.remove(void 0,t);ne.promise=(t,e,r)=>{let s=ne.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let l=e.success?Bl(e.success,o):void 0;return l?ne.success(l,{id:s,...r,...r==null?void 0:r.success}):ne.dismiss(s),o}).catch(o=>{let l=e.error?Bl(e.error,o):void 0;l?ne.error(l,{id:s,...r,...r==null?void 0:r.error}):ne.dismiss(s)}),t};var ak=1e3,ok=(t,e="default")=>{let{toasts:r,pausedAt:s}=sk(t,e),o=_.useRef(new Map).current,l=_.useCallback((x,y=ak)=>{if(o.has(x))return;let b=setTimeout(()=>{o.delete(x),c({type:4,toastId:x})},y);o.set(x,b)},[]);_.useEffect(()=>{if(s)return;let x=Date.now(),y=r.map(b=>{if(b.duration===1/0)return;let S=(b.duration||0)+b.pauseDuration-(x-b.createdAt);if(S<0){b.visible&&ne.dismiss(b.id);return}return setTimeout(()=>ne.dismiss(b.id,e),S)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[r,s,e]);let c=_.useCallback(hc(e),[e]),d=_.useCallback(()=>{c({type:5,time:Date.now()})},[c]),f=_.useCallback((x,y)=>{c({type:1,toast:{id:x,height:y}})},[c]),p=_.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),g=_.useCallback((x,y)=>{let{reverseOrder:b=!1,gutter:S=8,defaultPosition:N}=y||{},j=r.filter(k=>(k.position||N)===(x.position||N)&&k.height),A=j.findIndex(k=>k.id===x.id),C=j.filter((k,L)=>L<A&&k.visible).length;return j.filter(k=>k.visible).slice(...b?[C+1]:[0,C]).reduce((k,L)=>k+(L.height||0)+S,0)},[r]);return _.useEffect(()=>{r.forEach(x=>{if(x.dismissed)l(x.id,x.removeDelay);else{let y=o.get(x.id);y&&(clearTimeout(y),o.delete(x.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:f,startPause:d,endPause:p,calculateOffset:g}}},lk=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ck=gn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uk=gn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dk=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ck} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hk=gn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fk=rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hk} 1s linear infinite;
`,pk=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mk=gn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gk=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xk=rs("div")`
  position: absolute;
`,vk=rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yk=gn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bk=rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wk=({toast:t})=>{let{icon:e,type:r,iconTheme:s}=t;return e!==void 0?typeof e=="string"?_.createElement(bk,null,e):e:r==="blank"?null:_.createElement(vk,null,_.createElement(fk,{...s}),r!=="loading"&&_.createElement(xk,null,r==="error"?_.createElement(dk,{...s}):_.createElement(gk,{...s})))},jk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_k=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kk="0%{opacity:0;} 100%{opacity:1;}",Sk="0%{opacity:1;} 100%{opacity:0;}",Nk=rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ek=rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ck=(t,e)=>{let r=t.includes("top")?1:-1,[s,o]=Ay()?[kk,Sk]:[jk(r),_k(r)];return{animation:e?`${gn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Pk=_.memo(({toast:t,position:e,style:r,children:s})=>{let o=t.height?Ck(t.position||e||"top-center",t.visible):{opacity:0},l=_.createElement(wk,{toast:t}),c=_.createElement(Ek,{...t.ariaProps},Bl(t.message,t));return _.createElement(Nk,{className:t.className,style:{...o,...r,...t.style}},typeof s=="function"?s({icon:l,message:c}):_.createElement(_.Fragment,null,l,c))});Y_(_.createElement);var Tk=({id:t,className:e,style:r,onHeightUpdate:s,children:o})=>{let l=_.useCallback(c=>{if(c){let d=()=>{let f=c.getBoundingClientRect().height;s(t,f)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return _.createElement("div",{ref:l,className:e,style:r},o)},Ak=(t,e)=>{let r=t.includes("top"),s=r?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ay()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...s,...o}},Rk=dc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yl=16,Ok=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:s,children:o,toasterId:l,containerStyle:c,containerClassName:d})=>{let{toasts:f,handlers:p}=ok(r,l);return _.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:yl,left:yl,right:yl,bottom:yl,pointerEvents:"none",...c},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(g=>{let x=g.position||e,y=p.calculateOffset(g,{reverseOrder:t,gutter:s,defaultPosition:e}),b=Ak(x,y);return _.createElement(Tk,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?Rk:"",style:b},g.type==="custom"?Bl(g.message,g):o?o(g):_.createElement(Pk,{toast:g,position:x}))}))};const Hh=_.createContext({});function Kh(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gh=typeof window<"u",Iy=Gh?_.useLayoutEffect:_.useEffect,fc=_.createContext(null);function Xh(t,e){t.indexOf(e)===-1&&t.push(e)}function Jh(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const xn=(t,e,r)=>r>e?e:r<t?t:r;let Qh=()=>{};const vn={},My=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Fy(t){return typeof t=="object"&&t!==null}const zy=t=>/^0[^.\s]+$/u.test(t);function Yh(t){let e;return()=>(e===void 0&&(e=t()),e)}const _r=t=>t,Dk=(t,e)=>r=>e(t(r)),ro=(...t)=>t.reduce(Dk),Ba=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Zh{constructor(){this.subscriptions=[]}add(e){return Xh(this.subscriptions,e),()=>Jh(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yr=t=>t*1e3,jr=t=>t/1e3;function Vy(t,e){return e?t*(1e3/e):0}const Uy=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Lk=1e-7,Ik=12;function Mk(t,e,r,s,o){let l,c,d=0;do c=e+(r-e)/2,l=Uy(c,s,o)-t,l>0?r=c:e=c;while(Math.abs(l)>Lk&&++d<Ik);return c}function no(t,e,r,s){if(t===e&&r===s)return _r;const o=l=>Mk(l,0,1,t,r);return l=>l===0||l===1?l:Uy(o(l),e,s)}const $y=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,By=t=>e=>1-t(1-e),qy=no(.33,1.53,.69,.99),ef=By(qy),Wy=$y(ef),Hy=t=>(t*=2)<1?.5*ef(t):.5*(2-Math.pow(2,-10*(t-1))),tf=t=>1-Math.sin(Math.acos(t)),Ky=By(tf),Gy=$y(tf),Fk=no(.42,0,1,1),zk=no(0,0,.58,1),Xy=no(.42,0,.58,1),Vk=t=>Array.isArray(t)&&typeof t[0]!="number",Jy=t=>Array.isArray(t)&&typeof t[0]=="number",Uk={linear:_r,easeIn:Fk,easeInOut:Xy,easeOut:zk,circIn:tf,circInOut:Gy,circOut:Ky,backIn:ef,backInOut:Wy,backOut:qy,anticipate:Hy},$k=t=>typeof t=="string",Qg=t=>{if(Jy(t)){Qh(t.length===4);const[e,r,s,o]=t;return no(e,r,s,o)}else if($k(t))return Uk[t];return t},bl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bk(t,e){let r=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,x=!1,y=!1)=>{const S=y&&o?r:s;return x&&c.add(g),S.has(g)||S.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[r,s]=[s,r],r.forEach(f),r.clear(),o=!1,l&&(l=!1,p.process(g))}};return p}const qk=40;function Qy(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=bl.reduce((k,L)=>(k[L]=Bk(l),k),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:x,preRender:y,render:b,postRender:S}=c,N=()=>{const k=vn.useManualTiming?o.timestamp:performance.now();r=!1,vn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(k-o.timestamp,qk),1)),o.timestamp=k,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),x.process(o),y.process(o),b.process(o),S.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(N))},j=()=>{r=!0,s=!0,o.isProcessing||t(N)};return{schedule:bl.reduce((k,L)=>{const R=c[L];return k[L]=(D,z=!1,H=!1)=>(r||j(),R.schedule(D,z,H)),k},{}),cancel:k=>{for(let L=0;L<bl.length;L++)c[bl[L]].cancel(k)},state:o,steps:c}}const{schedule:tt,cancel:Qn,state:Mt,steps:dd}=Qy(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0);let Il;function Wk(){Il=void 0}const sr={now:()=>(Il===void 0&&sr.set(Mt.isProcessing||vn.useManualTiming?Mt.timestamp:performance.now()),Il),set:t=>{Il=t,queueMicrotask(Wk)}},Yy=t=>e=>typeof e=="string"&&e.startsWith(t),rf=Yy("--"),Hk=Yy("var(--"),nf=t=>Hk(t)?Kk.test(t.split("/*")[0].trim()):!1,Kk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qa={...Oi,transform:t=>xn(0,1,t)},wl={...Oi,default:1},Aa=t=>Math.round(t*1e5)/1e5,sf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gk(t){return t==null}const Xk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,af=(t,e)=>r=>!!(typeof r=="string"&&Xk.test(r)&&r.startsWith(t)||e&&!Gk(r)&&Object.prototype.hasOwnProperty.call(r,e)),Zy=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(sf);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Jk=t=>xn(0,255,t),hd={...Oi,transform:t=>Math.round(Jk(t))},Os={test:af("rgb","red"),parse:Zy("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+hd.transform(t)+", "+hd.transform(e)+", "+hd.transform(r)+", "+Aa(qa.transform(s))+")"};function Qk(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Xd={test:af("#"),parse:Qk,transform:Os.transform},so=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qn=so("deg"),Zr=so("%"),Te=so("px"),Yk=so("vh"),Zk=so("vw"),Yg={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},yi={test:af("hsl","hue"),parse:Zy("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zr.transform(Aa(e))+", "+Zr.transform(Aa(r))+", "+Aa(qa.transform(s))+")"},jt={test:t=>Os.test(t)||Xd.test(t)||yi.test(t),parse:t=>Os.test(t)?Os.parse(t):yi.test(t)?yi.parse(t):Xd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):yi.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},eS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tS(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sf))==null?void 0:e.length)||0)+(((r=t.match(eS))==null?void 0:r.length)||0)>0}const e0="number",t0="color",rS="var",nS="var(",Zg="${}",sS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wa(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(sS,f=>(jt.test(f)?(s.color.push(l),o.push(t0),r.push(jt.parse(f))):f.startsWith(nS)?(s.var.push(l),o.push(rS),r.push(f)):(s.number.push(l),o.push(e0),r.push(parseFloat(f))),++l,Zg)).split(Zg);return{values:r,split:d,indexes:s,types:o}}function r0(t){return Wa(t).values}function n0(t){const{split:e,types:r}=Wa(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const d=r[c];d===e0?l+=Aa(o[c]):d===t0?l+=jt.transform(o[c]):l+=o[c]}return l}}const iS=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function aS(t){const e=r0(t);return n0(t)(e.map(iS))}const Yn={test:tS,parse:r0,createTransformer:n0,getAnimatableNone:aS};function fd(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function oS({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,c=0;if(!e)o=l=c=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;o=fd(f,d,t+1/3),l=fd(f,d,t),c=fd(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ql(t,e){return r=>r>0?e:t}const ot=(t,e,r)=>t+(e-t)*r,pd=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},lS=[Xd,Os,yi],cS=t=>lS.find(e=>e.test(t));function ex(t){const e=cS(t);if(!e)return!1;let r=e.parse(t);return e===yi&&(r=oS(r)),r}const tx=(t,e)=>{const r=ex(t),s=ex(e);if(!r||!s)return ql(t,e);const o={...r};return l=>(o.red=pd(r.red,s.red,l),o.green=pd(r.green,s.green,l),o.blue=pd(r.blue,s.blue,l),o.alpha=ot(r.alpha,s.alpha,l),Os.transform(o))},Jd=new Set(["none","hidden"]);function uS(t,e){return Jd.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function dS(t,e){return r=>ot(t,e,r)}function of(t){return typeof t=="number"?dS:typeof t=="string"?nf(t)?ql:jt.test(t)?tx:pS:Array.isArray(t)?s0:typeof t=="object"?jt.test(t)?tx:hS:ql}function s0(t,e){const r=[...t],s=r.length,o=t.map((l,c)=>of(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)r[c]=o[c](l);return r}}function hS(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=of(t[o])(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}}function fS(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],d=t.values[c]??0;r[o]=d,s[l]++}return r}const pS=(t,e)=>{const r=Yn.createTransformer(e),s=Wa(t),o=Wa(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Jd.has(t)&&!o.values.length||Jd.has(e)&&!s.values.length?uS(t,e):ro(s0(fS(s,o),o.values),r):ql(t,e)};function i0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ot(t,e,r):of(t)(t,e)}const mS=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>tt.update(e,r),stop:()=>Qn(e),now:()=>Mt.isProcessing?Mt.timestamp:sr.now()}},a0=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Wl=2e4;function lf(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Wl;)e+=r,s=t.next(e);return e>=Wl?1/0:e}function gS(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(lf(s),Wl);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:jr(o)}}const xS=5;function o0(t,e,r){const s=Math.max(e-xS,0);return Vy(r-t(s),e-s)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},md=.001;function vS({duration:t=ut.duration,bounce:e=ut.bounce,velocity:r=ut.velocity,mass:s=ut.mass}){let o,l,c=1-e;c=xn(ut.minDamping,ut.maxDamping,c),t=xn(ut.minDuration,ut.maxDuration,jr(t)),c<1?(o=p=>{const g=p*c,x=g*t,y=g-r,b=Qd(p,c),S=Math.exp(-x);return md-y/b*S},l=p=>{const x=p*c*t,y=x*r+r,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-x),N=Qd(Math.pow(p,2),c);return(-o(p)+md>0?-1:1)*((y-b)*S)/N}):(o=p=>{const g=Math.exp(-p*t),x=(p-r)*t+1;return-md+g*x},l=p=>{const g=Math.exp(-p*t),x=(r-p)*(t*t);return g*x});const d=5/t,f=bS(o,l,d);if(t=Yr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const yS=12;function bS(t,e,r){let s=r;for(let o=1;o<yS;o++)s=s-t(s)/e(s);return s}function Qd(t,e){return t*Math.sqrt(1-e*e)}const wS=["duration","bounce"],jS=["stiffness","damping","mass"];function rx(t,e){return e.some(r=>t[r]!==void 0)}function _S(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!rx(t,jS)&&rx(t,wS))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,l=2*xn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ut.mass,stiffness:o,damping:l}}else{const r=vS(t);e={...e,...r,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function Hl(t=ut.visualDuration,e=ut.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:x,velocity:y,isResolvedFromDuration:b}=_S({...r,velocity:-jr(r.velocity||0)}),S=y||0,N=p/(2*Math.sqrt(f*g)),j=c-l,A=jr(Math.sqrt(f/g)),C=Math.abs(j)<5;s||(s=C?ut.restSpeed.granular:ut.restSpeed.default),o||(o=C?ut.restDelta.granular:ut.restDelta.default);let k;if(N<1){const R=Qd(A,N);k=D=>{const z=Math.exp(-N*A*D);return c-z*((S+N*A*j)/R*Math.sin(R*D)+j*Math.cos(R*D))}}else if(N===1)k=R=>c-Math.exp(-A*R)*(j+(S+A*j)*R);else{const R=A*Math.sqrt(N*N-1);k=D=>{const z=Math.exp(-N*A*D),H=Math.min(R*D,300);return c-z*((S+N*A*j)*Math.sinh(H)+R*j*Math.cosh(H))/R}}const L={calculatedDuration:b&&x||null,next:R=>{const D=k(R);if(b)d.done=R>=x;else{let z=R===0?S:0;N<1&&(z=R===0?Yr(S):o0(k,R,D));const H=Math.abs(z)<=s,Z=Math.abs(c-D)<=o;d.done=H&&Z}return d.value=d.done?c:D,d},toString:()=>{const R=Math.min(lf(L),Wl),D=a0(z=>L.next(R*z).value,R,30);return R+"ms "+D},toTransition:()=>{}};return L}Hl.applyToOptions=t=>{const e=gS(t,100,Hl);return t.ease=e.ease,t.duration=Yr(e.duration),t.type="keyframes",t};function Yd({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:g}){const x=t[0],y={done:!1,value:x},b=H=>d!==void 0&&H<d||f!==void 0&&H>f,S=H=>d===void 0?f:f===void 0||Math.abs(d-H)<Math.abs(f-H)?d:f;let N=r*e;const j=x+N,A=c===void 0?j:c(j);A!==j&&(N=A-x);const C=H=>-N*Math.exp(-H/s),k=H=>A+C(H),L=H=>{const Z=C(H),re=k(H);y.done=Math.abs(Z)<=p,y.value=y.done?A:re};let R,D;const z=H=>{b(y.value)&&(R=H,D=Hl({keyframes:[y.value,S(y.value)],velocity:o0(k,H,y.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return z(0),{calculatedDuration:null,next:H=>{let Z=!1;return!D&&R===void 0&&(Z=!0,L(H),z(H)),R!==void 0&&H>=R?D.next(H-R):(!Z&&L(H),y)}}}function kS(t,e,r){const s=[],o=r||vn.mix||i0,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||_r:e;d=ro(f,d)}s.push(d)}return s}function SS(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(Qh(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=kS(e,s,o),f=d.length,p=g=>{if(c&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const y=Ba(t[x],t[x+1],g);return d[x](y)};return r?g=>p(xn(t[0],t[l-1],g)):p}function NS(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Ba(0,e,s);t.push(ot(r,1,o))}}function ES(t){const e=[0];return NS(e,t.length-1),e}function CS(t,e){return t.map(r=>r*e)}function PS(t,e){return t.map(()=>e||Xy).splice(0,t.length-1)}function Ra({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=Vk(s)?s.map(Qg):Qg(s),l={done:!1,value:e[0]},c=CS(r&&r.length===e.length?r:ES(e),t),d=SS(c,e,{ease:Array.isArray(o)?o:PS(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const TS=t=>t!==null;function cf(t,{repeat:e,repeatType:r="loop"},s,o=1){const l=t.filter(TS),d=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const AS={decay:Yd,inertia:Yd,tween:Ra,keyframes:Ra,spring:Hl};function l0(t){typeof t.type=="string"&&(t.type=AS[t.type])}class uf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const RS=t=>t/100;class df extends uf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:r}=this.options;r&&r.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;l0(e);const{type:r=Ra,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=r||Ra;f!==Ra&&typeof d[0]!="number"&&(this.mixKeyframes=ro(RS,i0(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=lf(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:x,repeatType:y,repeatDelay:b,type:S,onUpdate:N,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const A=this.currentTime-p*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,L=s;if(x){const H=Math.min(this.currentTime,o)/d;let Z=Math.floor(H),re=H%1;!re&&H>=1&&(re=1),re===1&&Z--,Z=Math.min(Z,x+1),!!(Z%2)&&(y==="reverse"?(re=1-re,b&&(re-=b/d)):y==="mirror"&&(L=c)),k=xn(0,1,re)*d}const R=C?{done:!1,value:g[0]}:L.next(k);l&&(R.value=l(R.value));let{done:D}=R;!C&&f!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return z&&S!==Yd&&(R.value=cf(g,this.options,j,this.speed)),N&&N(R.value),z&&this.finish(),R}then(e,r){return this.finished.then(e,r)}get duration(){return jr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(this.currentTime)}set time(e){var r;e=Yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sr.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=jr(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=mS,startTime:r}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function OS(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ds=t=>t*180/Math.PI,Zd=t=>{const e=Ds(Math.atan2(t[1],t[0]));return eh(e)},DS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zd,rotateZ:Zd,skewX:t=>Ds(Math.atan(t[1])),skewY:t=>Ds(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},eh=t=>(t=t%360,t<0&&(t+=360),t),nx=Zd,sx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ix=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),LS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sx,scaleY:ix,scale:t=>(sx(t)+ix(t))/2,rotateX:t=>eh(Ds(Math.atan2(t[6],t[5]))),rotateY:t=>eh(Ds(Math.atan2(-t[2],t[0]))),rotateZ:nx,rotate:nx,skewX:t=>Ds(Math.atan(t[4])),skewY:t=>Ds(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function th(t){return t.includes("scale")?1:0}function rh(t,e){if(!t||t==="none")return th(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=LS,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=DS,o=d}if(!o)return th(e);const l=s[e],c=o[1].split(",").map(MS);return typeof l=="function"?l(c):c[l]}const IS=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return rh(r,e)};function MS(t){return parseFloat(t.trim())}const Di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(Di),ax=t=>t===Oi||t===Te,FS=new Set(["x","y","z"]),zS=Di.filter(t=>!FS.has(t));function VS(t){const e=[];return zS.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Ms={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rh(e,"x"),y:(t,{transform:e})=>rh(e,"y")};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const Fs=new Set;let nh=!1,sh=!1,ih=!1;function c0(){if(sh){const t=Array.from(Fs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=VS(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}sh=!1,nh=!1,Fs.forEach(t=>t.complete(ih)),Fs.clear()}function u0(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sh=!0)})}function US(){ih=!0,u0(),c0(),ih=!1}class hf{constructor(e,r,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fs.add(this),nh||(nh=!0,tt.read(u0),tt.resolveKeyframes(c0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&r){const d=s.readValue(r,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}OS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fs.delete(this)}cancel(){this.state==="scheduled"&&(Fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $S=t=>t.startsWith("--");function BS(t,e,r){$S(e)?t.style.setProperty(e,r):t.style[e]=r}const qS=Yh(()=>window.ScrollTimeline!==void 0),WS={};function HS(t,e){const r=Yh(t);return()=>WS[e]??r()}const d0=HS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pa=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function h0(t,e){if(t)return typeof t=="function"?d0()?a0(t,e):"ease-out":Jy(t)?Pa(t):Array.isArray(t)?t.map(r=>h0(r,e)||ox.easeOut):ox[t]}function KS(t,e,r,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[e]:r};f&&(g.offset=f);const x=h0(d,o);Array.isArray(x)&&(g.easing=x);const y={delay:s,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),t.animate(g,y)}function f0(t){return typeof t=="function"&&"applyToOptions"in t}function GS({type:t,...e}){return f0(t)&&d0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XS extends uf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Qh(typeof e.type!="string");const p=GS(e);this.animation=KS(r,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=cf(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):BS(r,s,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,s;const e=((s=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:s.call(r).duration)||0;return jr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&qS()?(this.animation.timeline=e,_r):r(this)}}const p0={anticipate:Hy,backInOut:Wy,circInOut:Gy};function JS(t){return t in p0}function QS(t){typeof t.ease=="string"&&JS(t.ease)&&(t.ease=p0[t.ease])}const lx=10;class YS extends XS{constructor(e){QS(e),l0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new df({...c,autoplay:!1}),f=Yr(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-lx).value,d.sample(f).value,lx),d.stop()}}const cx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yn.test(t)||t==="0")&&!t.startsWith("url("));function ZS(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function eN(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=cx(o,e),d=cx(l,e);return!c||!d?!1:ZS(t)||(r==="spring"||f0(r))&&s}function ah(t){t.duration=0,t.type="keyframes"}const tN=new Set(["opacity","clipPath","filter","transform"]),rN=Yh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nN(t){var g;const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:l,type:c}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return rN()&&r&&tN.has(r)&&(r!=="transform"||!p)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const sN=40;class iN extends uf{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:g,...x}){var S;super(),this.stop=()=>{var N,j;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=sr.now();const y={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:g,...x},b=(g==null?void 0:g.KeyframeResolver)||hf;this.keyframeResolver=new b(d,(N,j,A)=>this.onKeyframesResolved(N,j,y,!A),f,p,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:g}=s;this.resolvedAt=sr.now(),eN(e,l,c,d)||((vn.instantAnimations||!f)&&(g==null||g(cf(e,s,r))),e[0]=e[e.length-1],ah(s),s.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>sN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},b=!p&&nN(y)?new YS({...y,element:y.motionValue.owner.current}):new df(y);b.finished.then(()=>this.notifyFinished()).catch(_r),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),US()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const aN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oN(t){const e=aN.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function m0(t,e,r=1){const[s,o]=oN(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return My(c)?parseFloat(c):c}return nf(o)?m0(o,e,r+1):o}function ff(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const g0=new Set(["width","height","top","left","right","bottom",...Di]),lN={test:t=>t==="auto",parse:t=>t},x0=t=>e=>e.test(t),v0=[Oi,Te,Zr,qn,Zk,Yk,lN],ux=t=>v0.find(x0(t));function cN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zy(t):!0}const uN=new Set(["brightness","contrast","saturate","opacity"]);function dN(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(sf)||[];if(!s)return t;const o=r.replace(s,"");let l=uN.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const hN=/\b([a-z-]*)\(.*?\)/gu,oh={...Yn,getAnimatableNone:t=>{const e=t.match(hN);return e?e.map(dN).join(" "):t}},dx={...Oi,transform:Math.round},fN={rotate:qn,rotateX:qn,rotateY:qn,rotateZ:qn,scale:wl,scaleX:wl,scaleY:wl,scaleZ:wl,skew:qn,skewX:qn,skewY:qn,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:qa,originX:Yg,originY:Yg,originZ:Te},pf={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...fN,zIndex:dx,fillOpacity:qa,strokeOpacity:qa,numOctaves:dx},pN={...pf,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:oh,WebkitFilter:oh},y0=t=>pN[t];function b0(t,e){let r=y0(t);return r!==oh&&(r=Yn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const mN=new Set(["auto","none","0"]);function gN(t,e,r){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!mN.has(l)&&Wa(l).values.length&&(o=t[s]),s++}if(o&&r)for(const l of e)t[l]=b0(r,o)}class xN extends hf{constructor(e,r,s,o,l){super(e,r,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),nf(p))){const g=m0(p,r.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!g0.has(s)||e.length!==2)return;const[o,l]=e,c=ux(o),d=ux(l);if(c!==d)if(ax(c)&&ax(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Ms[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||cN(e[o]))&&s.push(o);s.length&&gN(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ms[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ms[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function vN(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(r==null?void 0:r[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const w0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function j0(t){return Fy(t)&&"offsetHeight"in t}const hx=30,yN=t=>!isNaN(parseFloat(t));class bN{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=sr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Zh);const s=this.events[e].add(r);return e==="change"?()=>{s(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,hx);return Vy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ei(t,e){return new bN(t,e)}const{schedule:mf}=Qy(queueMicrotask,!1),Lr={x:!1,y:!1};function _0(){return Lr.x||Lr.y}function wN(t){return t==="x"||t==="y"?Lr[t]?null:(Lr[t]=!0,()=>{Lr[t]=!1}):Lr.x||Lr.y?null:(Lr.x=Lr.y=!0,()=>{Lr.x=Lr.y=!1})}function k0(t,e){const r=vN(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function fx(t){return!(t.pointerType==="touch"||_0())}function jN(t,e,r={}){const[s,o,l]=k0(t,r),c=d=>{if(!fx(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=x=>{fx(x)&&(p(x),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const S0=(t,e)=>e?t===e?!0:S0(t,e.parentElement):!1,gf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_N=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kN(t){return _N.has(t.tagName)||t.tabIndex!==-1}const Ml=new WeakSet;function px(t){return e=>{e.key==="Enter"&&t(e)}}function gd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SN=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=px(()=>{if(Ml.has(r))return;gd(r,"down");const o=px(()=>{gd(r,"up")}),l=()=>gd(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function mx(t){return gf(t)&&!_0()}function NN(t,e,r={}){const[s,o,l]=k0(t,r),c=d=>{const f=d.currentTarget;if(!mx(d))return;Ml.add(f);const p=e(f,d),g=(b,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),Ml.has(f)&&Ml.delete(f),mx(b)&&typeof p=="function"&&p(b,{success:S})},x=b=>{g(b,f===window||f===document||r.useGlobalTarget||S0(f,b.target))},y=b=>{g(b,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",y,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),j0(d)&&(d.addEventListener("focus",p=>SN(p,o)),!kN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function N0(t){return Fy(t)&&"ownerSVGElement"in t}function EN(t){return N0(t)&&t.tagName==="svg"}const Bt=t=>!!(t&&t.getVelocity),CN=[...v0,jt,Yn],PN=t=>CN.find(x0(t)),xf=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TN(...t){return e=>{let r=!1;const s=t.map(o=>{const l=gx(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():gx(t[o],null)}}}}function AN(...t){return _.useCallback(TN(...t),t)}class RN extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=j0(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ON({children:t,isPresent:e,anchorX:r,root:s}){const o=_.useId(),l=_.useRef(null),c=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=_.useContext(xf),f=AN(l,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:p,height:g,top:x,left:y,right:b}=c.current;if(e||!l.current||!p||!g)return;const S=r==="left"?`left: ${y}`:`right: ${b}`;l.current.dataset.motionPopId=o;const N=document.createElement("style");d&&(N.nonce=d);const j=s??document.head;return j.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${S}px !important;
            top: ${x}px !important;
          }
        `),()=>{j.contains(N)&&j.removeChild(N)}},[e]),a.jsx(RN,{isPresent:e,childRef:l,sizeRef:c,children:_.cloneElement(t,{ref:f})})}const DN=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const p=Kh(LN),g=_.useId();let x=!0,y=_.useMemo(()=>(x=!1,{id:g,initial:e,isPresent:r,custom:o,onExitComplete:b=>{p.set(b,!0);for(const S of p.values())if(!S)return;s&&s()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,s]);return l&&x&&(y={...y}),_.useMemo(()=>{p.forEach((b,S)=>p.set(S,!1))},[r]),_.useEffect(()=>{!r&&!p.size&&s&&s()},[r]),c==="popLayout"&&(t=a.jsx(ON,{isPresent:r,anchorX:d,root:f,children:t})),a.jsx(fc.Provider,{value:y,children:t})};function LN(){return new Map}function E0(t=!0){const e=_.useContext(fc);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,l=_.useId();_.useEffect(()=>{if(t)return o(l)},[t]);const c=_.useCallback(()=>t&&s&&s(l),[l,s,t]);return!r&&s?[!1,c]:[!0]}const jl=t=>t.key||"";function xx(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const IN=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,g]=E0(c),x=_.useMemo(()=>xx(t),[t]),y=c&&!p?[]:x.map(jl),b=_.useRef(!0),S=_.useRef(x),N=Kh(()=>new Map),[j,A]=_.useState(x),[C,k]=_.useState(x);Iy(()=>{b.current=!1,S.current=x;for(let D=0;D<C.length;D++){const z=jl(C[D]);y.includes(z)?N.delete(z):N.get(z)!==!0&&N.set(z,!1)}},[C,y.length,y.join("-")]);const L=[];if(x!==j){let D=[...x];for(let z=0;z<C.length;z++){const H=C[z],Z=jl(H);y.includes(Z)||(D.splice(z,0,H),L.push(H))}return l==="wait"&&L.length&&(D=L),k(xx(D)),A(x),null}const{forceRender:R}=_.useContext(Hh);return a.jsx(a.Fragment,{children:C.map(D=>{const z=jl(D),H=c&&!p?!1:x===C||y.includes(z),Z=()=>{if(N.has(z))N.set(z,!0);else return;let re=!0;N.forEach(ge=>{ge||(re=!1)}),re&&(R==null||R(),k(S.current),c&&(g==null||g()),s&&s())};return a.jsx(DN,{isPresent:H,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:H?void 0:Z,anchorX:d,children:D},z)})})},C0=_.createContext({strict:!1}),vx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ci={};for(const t in vx)Ci[t]={isEnabled:e=>vx[t].some(r=>!!e[r])};function MN(t){for(const e in t)Ci[e]={...Ci[e],...t[e]}}const FN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FN.has(t)}let P0=t=>!Kl(t);function zN(t){typeof t=="function"&&(P0=e=>e.startsWith("on")?!Kl(e):t(e))}try{zN(require("@emotion/is-prop-valid").default)}catch{}function VN(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(P0(o)||r===!0&&Kl(o)||!e&&!Kl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const pc=_.createContext({});function mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ha(t){return typeof t=="string"||Array.isArray(t)}const vf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yf=["initial",...vf];function gc(t){return mc(t.animate)||yf.some(e=>Ha(t[e]))}function T0(t){return!!(gc(t)||t.variants)}function UN(t,e){if(gc(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Ha(r)?r:void 0,animate:Ha(s)?s:void 0}}return t.inherit!==!1?e:{}}function $N(t){const{initial:e,animate:r}=UN(t,_.useContext(pc));return _.useMemo(()=>({initial:e,animate:r}),[yx(e),yx(r)])}function yx(t){return Array.isArray(t)?t.join(" "):t}const Ka={};function BN(t){for(const e in t)Ka[e]=t[e],rf(e)&&(Ka[e].isCSSVariable=!0)}function A0(t,{layout:e,layoutId:r}){return Li.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ka[t]||t==="opacity")}const qN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WN=Di.length;function HN(t,e,r){let s="",o=!0;for(let l=0;l<WN;l++){const c=Di[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const p=w0(d,pf[c]);if(!f){o=!1;const g=qN[c]||c;s+=`${g}(${p}) `}r&&(e[c]=p)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function bf(t,e,r){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Li.has(f)){c=!0;continue}else if(rf(f)){o[f]=p;continue}else{const g=w0(p,pf[f]);f.startsWith("origin")?(d=!0,l[f]=g):s[f]=g}}if(e.transform||(c||r?s.transform=HN(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${p} ${g}`}}const wf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R0(t,e,r){for(const s in e)!Bt(e[s])&&!A0(s,r)&&(t[s]=e[s])}function KN({transformTemplate:t},e){return _.useMemo(()=>{const r=wf();return bf(r,e,t),Object.assign({},r.vars,r.style)},[e])}function GN(t,e){const r=t.style||{},s={};return R0(s,r,t),Object.assign(s,KN(t,e)),s}function XN(t,e){const r={},s=GN(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const JN={offset:"stroke-dashoffset",array:"stroke-dasharray"},QN={offset:"strokeDashoffset",array:"strokeDasharray"};function YN(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?JN:QN;t[l.offset]=Te.transform(-s);const c=Te.transform(e),d=Te.transform(r);t[l.array]=`${c} ${d}`}function O0(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,p,g){if(bf(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:y}=t;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),s!==void 0&&(x.scale=s),o!==void 0&&YN(x,o,l,c,!1)}const D0=()=>({...wf(),attrs:{}}),L0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZN(t,e,r,s){const o=_.useMemo(()=>{const l=D0();return O0(l,e,L0(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};R0(l,t.style,t),o.style={...l,...o.style}}return o}const e2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jf(t){return typeof t!="string"||t.includes("-")?!1:!!(e2.indexOf(t)>-1||/[A-Z]/u.test(t))}function t2(t,e,r,{latestValues:s},o,l=!1){const d=(jf(t)?ZN:XN)(e,s,o,t),f=VN(e,typeof t=="string",l),p=t!==_.Fragment?{...f,...d,ref:r}:{},{children:g}=e,x=_.useMemo(()=>Bt(g)?g.get():g,[g]);return _.createElement(t,{...p,children:x})}function bx(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function _f(t,e,r,s){if(typeof e=="function"){const[o,l]=bx(s);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=bx(s);e=e(r!==void 0?r:t.custom,o,l)}return e}function Fl(t){return Bt(t)?t.get():t}function r2({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:n2(r,s,o,t),renderState:e()}}function n2(t,e,r,s){const o={},l=s(t,{});for(const y in l)o[y]=Fl(l[y]);let{initial:c,animate:d}=t;const f=gc(t),p=T0(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=r?r.initial===!1:!1;g=g||c===!1;const x=g?d:c;if(x&&typeof x!="boolean"&&!mc(x)){const y=Array.isArray(x)?x:[x];for(let b=0;b<y.length;b++){const S=_f(t,y[b]);if(S){const{transitionEnd:N,transition:j,...A}=S;for(const C in A){let k=A[C];if(Array.isArray(k)){const L=g?k.length-1:0;k=k[L]}k!==null&&(o[C]=k)}for(const C in N)o[C]=N[C]}}}return o}const I0=t=>(e,r)=>{const s=_.useContext(pc),o=_.useContext(fc),l=()=>r2(t,e,s,o);return r?l():Kh(l)};function kf(t,e,r){var l;const{style:s}=t,o={};for(const c in s)(Bt(s[c])||e.style&&Bt(e.style[c])||A0(c,t)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const s2=I0({scrapeMotionValuesFromProps:kf,createRenderState:wf});function M0(t,e,r){const s=kf(t,e,r);for(const o in t)if(Bt(t[o])||Bt(e[o])){const l=Di.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const i2=I0({scrapeMotionValuesFromProps:M0,createRenderState:D0}),a2=Symbol.for("motionComponentSymbol");function bi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function o2(t,e,r){return _.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):bi(r)&&(r.current=s))},[e])}const Sf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l2="framerAppearId",F0="data-"+Sf(l2),z0=_.createContext({});function c2(t,e,r,s,o){var N,j;const{visualElement:l}=_.useContext(pc),c=_.useContext(C0),d=_.useContext(fc),f=_.useContext(xf).reducedMotion,p=_.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,x=_.useContext(z0);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&u2(p.current,r,o,x);const y=_.useRef(!1);_.useInsertionEffect(()=>{g&&y.current&&g.update(r,d)});const b=r[F0],S=_.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,b)));return Iy(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),S.current&&g.animationState&&g.animationState.animateChanges())}),_.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,b)}),S.current=!1),g.enteringChildren=void 0)}),g}function u2(t,e,r,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:V0(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&bi(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:p})}function V0(t){if(t)return t.options.allowProjection!==!1?t.projection:V0(t.parent)}function xd(t,{forwardMotionProps:e=!1}={},r,s){r&&MN(r);const o=jf(t)?i2:s2;function l(d,f){let p;const g={..._.useContext(xf),...d,layoutId:d2(d)},{isStatic:x}=g,y=$N(d),b=o(d,x);if(!x&&Gh){h2();const S=f2(g);p=S.MeasureLayout,y.visualElement=c2(t,b,g,s,S.ProjectionNode)}return a.jsxs(pc.Provider,{value:y,children:[p&&y.visualElement?a.jsx(p,{visualElement:y.visualElement,...g}):null,t2(t,d,o2(b,y.visualElement,f),b,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=_.forwardRef(l);return c[a2]=t,c}function d2({layoutId:t}){const e=_.useContext(Hh).id;return e&&t!==void 0?e+"-"+t:t}function h2(t,e){_.useContext(C0).strict}function f2(t){const{drag:e,layout:r}=Ci;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function p2(t,e){if(typeof Proxy>"u")return xd;const r=new Map,s=(l,c)=>xd(l,c,t,e),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(r.has(c)||r.set(c,xd(c,void 0,t,e)),r.get(c))})}function U0({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function m2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g2(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function vd(t){return t===void 0||t===1}function lh({scale:t,scaleX:e,scaleY:r}){return!vd(t)||!vd(e)||!vd(r)}function Ns(t){return lh(t)||$0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $0(t){return wx(t.x)||wx(t.y)}function wx(t){return t&&t!=="0%"}function Gl(t,e,r){const s=t-r,o=e*s;return r+o}function jx(t,e,r,s,o){return o!==void 0&&(t=Gl(t,o,s)),Gl(t,r,s)+e}function ch(t,e=0,r=1,s,o){t.min=jx(t.min,e,r,s,o),t.max=jx(t.max,e,r,s,o)}function B0(t,{x:e,y:r}){ch(t.x,e.translate,e.scale,e.originPoint),ch(t.y,r.translate,r.scale,r.originPoint)}const _x=.999999999999,kx=1.0000000000001;function x2(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=r[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ji(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,B0(t,c)),s&&Ns(l.latestValues)&&ji(t,l.latestValues))}e.x<kx&&e.x>_x&&(e.x=1),e.y<kx&&e.y>_x&&(e.y=1)}function wi(t,e){t.min=t.min+e,t.max=t.max+e}function Sx(t,e,r,s,o=.5){const l=ot(t.min,t.max,o);ch(t,e,r,l,s)}function ji(t,e){Sx(t.x,e.x,e.scaleX,e.scale,e.originX),Sx(t.y,e.y,e.scaleY,e.scale,e.originY)}function q0(t,e){return U0(g2(t.getBoundingClientRect(),e))}function v2(t,e,r){const s=q0(t,r),{scroll:o}=e;return o&&(wi(s.x,o.offset.x),wi(s.y,o.offset.y)),s}const Nx=()=>({translate:0,scale:1,origin:0,originPoint:0}),_i=()=>({x:Nx(),y:Nx()}),Ex=()=>({min:0,max:0}),pt=()=>({x:Ex(),y:Ex()}),Xl={current:null},Nf={current:!1};function W0(){if(Nf.current=!0,!!Gh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xl.current=t.matches;t.addEventListener("change",e),e()}else Xl.current=!1}const y2=new WeakMap;function b2(t,e,r){for(const s in e){const o=e[s],l=r[s];if(Bt(o))t.addValue(s,o);else if(Bt(l))t.addValue(s,Ei(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,Ei(c!==void 0?c:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w2{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=sr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=gc(r),this.isVariantNode=T0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in x){const b=x[y];f[y]!==void 0&&Bt(b)&&b.set(f[y])}}mount(e){var r;this.current=e,y2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),Nf.current||W0(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xl.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qn(this.notifyUpdate),Qn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Li.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&tt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ci){const r=Ci[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Cx.length;s++){const o=Cx[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=b2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Ei(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(My(s)||zy(s))?s=parseFloat(s):!PN(s)&&Yn.test(r)&&(s=b0(e,r)),this.setBaseTarget(e,Bt(s)?s.get():s)),Bt(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const c=_f(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Bt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Zh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){mf.render(this.render)}}class H0 extends w2{constructor(){super(...arguments),this.KeyframeResolver=xN}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function K0(t,{style:e,vars:r},s,o){const l=t.style;let c;for(c in e)l[c]=e[c];o==null||o.applyProjectionStyles(l,s);for(c in r)l.setProperty(c,r[c])}function j2(t){return window.getComputedStyle(t)}class _2 extends H0{constructor(){super(...arguments),this.type="html",this.renderInstance=K0}readValueFromInstance(e,r){var s;if(Li.has(r))return(s=this.projection)!=null&&s.isProjecting?th(r):IS(e,r);{const o=j2(e),l=(rf(r)?o.getPropertyValue(r):o[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return q0(e,r)}build(e,r,s){bf(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return kf(e,r,s)}}const G0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function k2(t,e,r,s){K0(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(G0.has(o)?o:Sf(o),e.attrs[o])}class S2 extends H0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Li.has(r)){const s=y0(r);return s&&s.default||0}return r=G0.has(r)?r:Sf(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return M0(e,r,s)}build(e,r,s){O0(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){k2(e,r,s,o)}mount(e){this.isSVGTag=L0(e.tagName),super.mount(e)}}const N2=(t,e)=>jf(t)?new S2(e):new _2(e,{allowProjection:t!==_.Fragment});function ki(t,e,r){const s=t.getProps();return _f(s,e,r!==void 0?r:s.custom,t)}const uh=t=>Array.isArray(t);function E2(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ei(r))}function C2(t){return uh(t)?t[t.length-1]||0:t}function P2(t,e){const r=ki(t,e);let{transitionEnd:s={},transition:o={},...l}=r||{};l={...l,...s};for(const c in l){const d=C2(l[c]);E2(t,c,d)}}function T2(t){return!!(Bt(t)&&t.add)}function dh(t,e){const r=t.getValue("willChange");if(T2(r))return r.add(e);if(!r&&vn.WillChange){const s=new vn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function X0(t){return t.props[F0]}const A2=t=>t!==null;function R2(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(A2),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const O2={type:"spring",stiffness:500,damping:25,restSpeed:10},D2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L2={type:"keyframes",duration:.8},I2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M2=(t,{keyframes:e})=>e.length>2?L2:Li.has(t)?t.startsWith("scale")?D2(e[1]):O2:I2;function F2({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Ef=(t,e,r,s={},o,l)=>c=>{const d=ff(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Yr(f);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:y=>{e.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};F2(d)||Object.assign(g,M2(t,g)),g.duration&&(g.duration=Yr(g.duration)),g.repeatDelay&&(g.repeatDelay=Yr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ah(g),g.delay===0&&(x=!0)),(vn.instantAnimations||vn.skipAnimations)&&(x=!0,ah(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const y=R2(g.keyframes,d);if(y!==void 0){tt.update(()=>{g.onUpdate(y),g.onComplete()});return}}return d.isSync?new df(g):new iN(g)};function z2({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function J0(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const x=t.getValue(g,t.latestValues[g]??null),y=d[g];if(y===void 0||p&&z2(p,g))continue;const b={delay:r,...ff(l||{},g)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const A=X0(t);if(A){const C=window.MotionHandoffAnimation(A,g,tt);C!==null&&(b.startTime=C,N=!0)}}dh(t,g),x.start(Ef(g,x,y,t.shouldReduceMotion&&g0.has(g)?{type:!1}:b,t,N));const j=x.animation;j&&f.push(j)}return c&&Promise.all(f).then(()=>{tt.update(()=>{c&&P2(t,c)})}),f}function Q0(t,e,r,s=0,o=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),c=t.size,d=(c-1)*s;return typeof r=="function"?r(l,c):o===1?l*s:d-l*s}function hh(t,e,r={}){var f;const s=ki(t,e,r.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all(J0(t,s,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=o;return V2(t,e,p,g,x,y,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(r.delay)])}function V2(t,e,r=0,s=0,o=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(hh(f,e,{...c,delay:r+(typeof s=="function"?0:s)+Q0(t.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function U2(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>hh(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=hh(t,e,r);else{const o=typeof e=="function"?ki(t,e,r.custom):e;s=Promise.all(J0(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Y0(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const $2=yf.length;function Z0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Z0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<$2;r++){const s=yf[r],o=t.props[s];(Ha(o)||o===!1)&&(e[s]=o)}return e}const B2=[...vf].reverse(),q2=vf.length;function W2(t){return e=>Promise.all(e.map(({animation:r,options:s})=>U2(t,r,s)))}function H2(t){let e=W2(t),r=Px(),s=!0;const o=f=>(p,g)=>{var y;const x=ki(t,g,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(x){const{transition:b,transitionEnd:S,...N}=x;p={...p,...N,...S}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,g=Z0(t.parent)||{},x=[],y=new Set;let b={},S=1/0;for(let j=0;j<q2;j++){const A=B2[j],C=r[A],k=p[A]!==void 0?p[A]:g[A],L=Ha(k),R=A===f?C.isActive:null;R===!1&&(S=j);let D=k===g[A]&&k!==p[A]&&L;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),C.protectedKeys={...b},!C.isActive&&R===null||!k&&!C.prevProp||mc(k)||typeof k=="boolean")continue;const z=K2(C.prevProp,k);let H=z||A===f&&C.isActive&&!D&&L||j>S&&L,Z=!1;const re=Array.isArray(k)?k:[k];let ge=re.reduce(o(A),{});R===!1&&(ge={});const{prevResolvedValues:ee={}}=C,he={...ee,...ge},le=fe=>{H=!0,y.has(fe)&&(Z=!0,y.delete(fe)),C.needsAnimating[fe]=!0;const X=t.getValue(fe);X&&(X.liveStyle=!1)};for(const fe in he){const X=ge[fe],M=ee[fe];if(b.hasOwnProperty(fe))continue;let P=!1;uh(X)&&uh(M)?P=!Y0(X,M):P=X!==M,P?X!=null?le(fe):y.add(fe):X!==void 0&&y.has(fe)?le(fe):C.protectedKeys[fe]=!0}C.prevProp=k,C.prevResolvedValues=ge,C.isActive&&(b={...b,...ge}),s&&t.blockInitialAnimation&&(H=!1);const ye=D&&z;H&&(!ye||Z)&&x.push(...re.map(fe=>{const X={type:A};if(typeof fe=="string"&&s&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,P=ki(M,fe);if(M.enteringChildren&&P){const{delayChildren:E}=P.transition||{};X.delay=Q0(M.enteringChildren,t,E)}}return{animation:fe,options:X}}))}if(y.size){const j={};if(typeof p.initial!="boolean"){const A=ki(t,Array.isArray(p.initial)?p.initial[0]:p.initial);A&&A.transition&&(j.transition=A.transition)}y.forEach(A=>{const C=t.getBaseTarget(A),k=t.getValue(A);k&&(k.liveStyle=!0),j[A]=C??null}),x.push({animation:j})}let N=!!x.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(x):Promise.resolve()}function d(f,p){var x;if(r[f].isActive===p)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(f,p)}),r[f].isActive=p;const g=c(f);for(const y in r)r[y].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Px()}}}function K2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y0(e,t):!1}function _s(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Px(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class G2 extends ns{constructor(e){super(e),e.animationState||(e.animationState=H2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let X2=0;class J2 extends ns{constructor(){super(...arguments),this.id=X2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Q2={animation:{Feature:G2},exit:{Feature:J2}};function Ga(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function io(t){return{point:{x:t.pageX,y:t.pageY}}}const Y2=t=>e=>gf(e)&&t(e,io(e));function Oa(t,e,r,s){return Ga(t,e,Y2(r),s)}const eb=1e-4,Z2=1-eb,eE=1+eb,tb=.01,tE=0-tb,rE=0+tb;function Xt(t){return t.max-t.min}function nE(t,e,r){return Math.abs(t-e)<=r}function Tx(t,e,r,s=.5){t.origin=s,t.originPoint=ot(e.min,e.max,t.origin),t.scale=Xt(r)/Xt(e),t.translate=ot(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Z2&&t.scale<=eE||isNaN(t.scale))&&(t.scale=1),(t.translate>=tE&&t.translate<=rE||isNaN(t.translate))&&(t.translate=0)}function Da(t,e,r,s){Tx(t.x,e.x,r.x,s?s.originX:void 0),Tx(t.y,e.y,r.y,s?s.originY:void 0)}function Ax(t,e,r){t.min=r.min+e.min,t.max=t.min+Xt(e)}function sE(t,e,r){Ax(t.x,e.x,r.x),Ax(t.y,e.y,r.y)}function Rx(t,e,r){t.min=e.min-r.min,t.max=t.min+Xt(e)}function La(t,e,r){Rx(t.x,e.x,r.x),Rx(t.y,e.y,r.y)}function br(t){return[t("x"),t("y")]}const rb=({current:t})=>t?t.ownerDocument.defaultView:null,Ox=(t,e)=>Math.abs(t-e);function iE(t,e){const r=Ox(t.x,e.x),s=Ox(t.y,e.y);return Math.sqrt(r**2+s**2)}class nb{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=bd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=iE(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:N}=y,{timestamp:j}=Mt;this.history.push({...N,timestamp:j});const{onStart:A,onMove:C}=this.handlers;b||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=yd(b,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:N,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=bd(y.type==="pointercancel"?this.lastMoveEventInfo:yd(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,A),N&&N(y,A)},!gf(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=io(e),f=yd(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=Mt;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=r;x&&x(e,bd(f,this.history)),this.removeListeners=ro(Oa(this.contextWindow,"pointermove",this.handlePointerMove),Oa(this.contextWindow,"pointerup",this.handlePointerUp),Oa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qn(this.updatePoint)}}function yd(t,e){return e?{point:e(t.point)}:t}function Dx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bd({point:t},e){return{point:t,delta:Dx(t,sb(e)),offset:Dx(t,aE(e)),velocity:oE(e,.1)}}function aE(t){return t[0]}function sb(t){return t[t.length-1]}function oE(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=sb(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>Yr(e)));)r--;if(!s)return{x:0,y:0};const l=jr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function lE(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?ot(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?ot(r,t,s.max):Math.min(t,r)),t}function Lx(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function cE(t,{top:e,left:r,bottom:s,right:o}){return{x:Lx(t.x,r,o),y:Lx(t.y,e,s)}}function Ix(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function uE(t,e){return{x:Ix(t.x,e.x),y:Ix(t.y,e.y)}}function dE(t,e){let r=.5;const s=Xt(t),o=Xt(e);return o>s?r=Ba(e.min,e.max-s,t.min):s>o&&(r=Ba(t.min,t.max-o,e.min)),xn(0,1,r)}function hE(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const fh=.35;function fE(t=fh){return t===!1?t=0:t===!0&&(t=fh),{x:Mx(t,"left","right"),y:Mx(t,"top","bottom")}}function Mx(t,e,r){return{min:Fx(t,e),max:Fx(t,r)}}function Fx(t,e){return typeof t=="number"?t:t[e]||0}const pE=new WeakMap;class mE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(io(x).point)},c=(x,y)=>{const{drag:b,dragPropagation:S,onDragStart:N}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wN(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(A=>{let C=this.getAxisMotionValue(A).get()||0;if(Zr.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const L=k.layout.layoutBox[A];L&&(C=Xt(L)*(parseFloat(C)/100))}}this.originPoint[A]=C}),N&&tt.postRender(()=>N(x,y)),dh(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:N,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=y;if(S&&this.currentDirection===null){this.currentDirection=gE(A),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),j&&j(x,y)},f=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y,this.stop(x,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>br(x=>{var y;return this.getAnimationState(x)==="paused"&&((y=this.getAxisMotionValue(x).animation)==null?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new nb(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:rb(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&tt.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!_l(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=lE(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&bi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=cE(s.layoutBox,e):this.constraints=!1,this.elastic=fE(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&br(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hE(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!bi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=v2(s,o.root,this.visualElement.getTransformPagePoint());let c=uE(o.layout.layoutBox,l);if(r){const d=r(m2(c));this.hasMutatedConstraints=!!d,d&&(c=U0(d))}return c}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=br(g=>{if(!_l(g,r,this.currentDirection))return;let x=f&&f[g]||{};c&&(x={min:0,max:0});const y=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:s?e[g]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return dh(this.visualElement,e),s.start(Ef(e,s,0,r,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){br(r=>{const{drag:s}=this.getProps();if(!_l(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[r];l.set(e[r]-ot(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!bi(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};br(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=dE({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),br(c=>{if(!_l(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(ot(f,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;pE.set(this.visualElement,this);const e=this.visualElement.current,r=Oa(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();bi(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),tt.read(s);const c=Ga(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(br(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=fh,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function _l(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function gE(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class xE extends ns{constructor(e){super(e),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new mE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const zx=t=>(e,r)=>{t&&tt.postRender(()=>t(e,r))};class vE extends ns{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(e){this.session=new nb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:zx(e),onStart:zx(r),onMove:s,onEnd:(l,c)=>{delete this.session,o&&tt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Oa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ka={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const r=Vx(t,e.target.x),s=Vx(t,e.target.y);return`${r}% ${s}%`}},yE={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=Yn.parse(t);if(o.length>5)return s;const l=Yn.createTransformer(t),c=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;o[0+c]/=d,o[1+c]/=f;const p=ot(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};let wd=!1;class bE extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;BN(wE),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),wd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),zl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,wd=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||tt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;wd=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ib(t){const[e,r]=E0(),s=_.useContext(Hh);return a.jsx(bE,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(z0),isPresent:e,safeToRemove:r})}const wE={borderRadius:{...ka,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ka,borderTopRightRadius:ka,borderBottomLeftRadius:ka,borderBottomRightRadius:ka,boxShadow:yE};function jE(t,e,r){const s=Bt(t)?t:Ei(t);return s.start(Ef("",s,e,r)),s.animation}const _E=(t,e)=>t.depth-e.depth;class kE{constructor(){this.children=[],this.isDirty=!1}add(e){Xh(this.children,e),this.isDirty=!0}remove(e){Jh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_E),this.isDirty=!1,this.children.forEach(e)}}function SE(t,e){const r=sr.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(Qn(s),t(l-e))};return tt.setup(s,!0),()=>Qn(s)}const ab=["TopLeft","TopRight","BottomLeft","BottomRight"],NE=ab.length,Ux=t=>typeof t=="string"?parseFloat(t):t,$x=t=>typeof t=="number"||Te.test(t);function EE(t,e,r,s,o,l){o?(t.opacity=ot(0,r.opacity??1,CE(s)),t.opacityExit=ot(e.opacity??1,0,PE(s))):l&&(t.opacity=ot(e.opacity??1,r.opacity??1,s));for(let c=0;c<NE;c++){const d=`border${ab[c]}Radius`;let f=Bx(e,d),p=Bx(r,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||$x(f)===$x(p)?(t[d]=Math.max(ot(Ux(f),Ux(p),s),0),(Zr.test(p)||Zr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=ot(e.rotate||0,r.rotate||0,s))}function Bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CE=ob(0,.5,Ky),PE=ob(.5,.95,_r);function ob(t,e,r){return s=>s<t?0:s>e?1:r(Ba(t,e,s))}function qx(t,e){t.min=e.min,t.max=e.max}function yr(t,e){qx(t.x,e.x),qx(t.y,e.y)}function Wx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hx(t,e,r,s,o){return t-=e,t=Gl(t,1/r,s),o!==void 0&&(t=Gl(t,1/o,s)),t}function TE(t,e=0,r=1,s=.5,o,l=t,c=t){if(Zr.test(e)&&(e=parseFloat(e),e=ot(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ot(l.min,l.max,s);t===l&&(d-=e),t.min=Hx(t.min,e,r,d,o),t.max=Hx(t.max,e,r,d,o)}function Kx(t,e,[r,s,o],l,c){TE(t,e[r],e[s],e[o],e.scale,l,c)}const AE=["x","scaleX","originX"],RE=["y","scaleY","originY"];function Gx(t,e,r,s){Kx(t.x,e,AE,r?r.x:void 0,s?s.x:void 0),Kx(t.y,e,RE,r?r.y:void 0,s?s.y:void 0)}function Xx(t){return t.translate===0&&t.scale===1}function lb(t){return Xx(t.x)&&Xx(t.y)}function Jx(t,e){return t.min===e.min&&t.max===e.max}function OE(t,e){return Jx(t.x,e.x)&&Jx(t.y,e.y)}function Qx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cb(t,e){return Qx(t.x,e.x)&&Qx(t.y,e.y)}function Yx(t){return Xt(t.x)/Xt(t.y)}function Zx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DE{constructor(){this.members=[]}add(e){Xh(this.members,e),e.scheduleRender()}remove(e){if(Jh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LE(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:g,rotateX:x,rotateY:y,skewX:b,skewY:S}=r;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),x&&(s+=`rotateX(${x}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const jd=["","X","Y","Z"],IE=1e3;let ME=0;function _d(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function ub(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=X0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",tt,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&ub(s)}function db({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=ME++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VE),this.nodes.forEach(qE),this.nodes.forEach(WE),this.nodes.forEach(UE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kE)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zh),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=N0(c)&&!EN(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let g,x=0;const y=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{x=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,g&&g(),g=SE(y,250),zl.hasAnimatedSinceResize&&(zl.hasAnimatedSinceResize=!1,this.nodes.forEach(rv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||JE,{onLayoutAnimationStart:N,onLayoutAnimationComplete:j}=p.getProps(),A=!this.targetLayout||!cb(this.targetLayout,b),C=!x&&y;if(this.options.layoutRoot||this.resumeFrom||C||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...ff(S,"layout"),onPlay:N,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,C)}else x||rv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HE),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ub(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ev);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BE),this.nodes.forEach(FE),this.nodes.forEach(zE)):this.nodes.forEach(tv),this.clearAllSnapshots();const d=sr.now();Mt.delta=xn(0,1e3/60,d-Mt.timestamp),Mt.timestamp=d,Mt.isProcessing=!0,dd.update.process(Mt),dd.preRender.process(Mt),dd.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($E),this.sharedNodes.forEach(KE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xt(this.snapshot.measuredBox.x)&&!Xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!lb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ns(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),QE(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return pt();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(YE))){const{scroll:g}=this.root;g&&(wi(d.x,g.offset.x),wi(d.y,g.offset.y))}return d}removeElementScroll(c){var f;const d=pt();if(yr(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&yr(d,c),wi(d.x,x.offset.x),wi(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=pt();yr(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ji(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ns(g.latestValues)&&ji(f,g.latestValues)}return Ns(this.latestValues)&&ji(f,this.latestValues),f}removeTransform(c){const d=pt();yr(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ns(p.latestValues))continue;lh(p.latestValues)&&p.updateSnapshot();const g=pt(),x=p.measurePageBox();yr(g,x),Gx(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ns(this.latestValues)&&Gx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var y;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),La(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),B0(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),La(this.relativeTargetOrigin,this.target,b.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lh(this.parent.latestValues)||$0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;yr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;x2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wx(this.prevProjectionDelta.x,this.projectionDelta.x),Wx(this.prevProjectionDelta.y,this.projectionDelta.y)),Da(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!Zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_i(),this.projectionDelta=_i(),this.projectionDeltaWithTransform=_i()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},x=_i();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=pt(),b=f?f.source:void 0,S=this.layout?this.layout.source:void 0,N=b!==S,j=this.getStack(),A=!j||j.members.length<=1,C=!!(N&&!A&&this.options.crossfade===!0&&!this.path.some(XE));this.animationProgress=0;let k;this.mixTargetDelta=L=>{const R=L/1e3;nv(x.x,c.x,R),nv(x.y,c.y,R),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(La(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GE(this.relativeTarget,this.relativeTargetOrigin,y,R),k&&OE(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pt()),yr(k,this.relativeTarget)),N&&(this.animationValues=g,EE(g,p,this.latestValues,R,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Qn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{zl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ei(0)),this.currentAnimation=jE(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&hb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const x=Xt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const y=Xt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+y}yr(d,f),ji(d,g),Da(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new DE),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&_d("z",c,p,this.animationValues);for(let g=0;g<jd.length;g++)_d(`rotate${jd[g]}`,c,p,this.animationValues),_d(`skew${jd[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Fl(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Fl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=LE(this.projectionDeltaWithTransform,this.treeScale,g);f&&(x=f(g,x)),c.transform=x;const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Ka){if(g[S]===void 0)continue;const{correct:N,applyTo:j,isCSSVariable:A}=Ka[S],C=x==="none"?g[S]:N(g[S],p);if(j){const k=j.length;for(let L=0;L<k;L++)c[j[L]]=C}else A?this.options.visualElement.renderState.vars[S]=C:c[S]=C}this.options.layoutId&&(c.pointerEvents=p===this?Fl(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(ev),this.root.sharedNodes.clear()}}}function FE(t){t.updateLayout()}function zE(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?br(x=>{const y=c?e.measuredBox[x]:e.layoutBox[x],b=Xt(y);y.min=s[x].min,y.max=y.min+b}):hb(l,e.layoutBox,s)&&br(x=>{const y=c?e.measuredBox[x]:e.layoutBox[x],b=Xt(s[x]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+b)});const d=_i();Da(d,s,e.layoutBox);const f=_i();c?Da(f,t.applyTransform(o,!0),e.measuredBox):Da(f,s,e.layoutBox);const p=!lb(d);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:b}=x;if(y&&b){const S=pt();La(S,e.layoutBox,y.layoutBox);const N=pt();La(N,s,b.layoutBox),cb(S,N)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function VE(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $E(t){t.clearSnapshot()}function ev(t){t.clearMeasurements()}function tv(t){t.isLayoutDirty=!1}function BE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qE(t){t.resolveTargetDelta()}function WE(t){t.calcProjection()}function HE(t){t.resetSkewAndRotation()}function KE(t){t.removeLeadSnapshot()}function nv(t,e,r){t.translate=ot(e.translate,0,r),t.scale=ot(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function sv(t,e,r,s){t.min=ot(e.min,r.min,s),t.max=ot(e.max,r.max,s)}function GE(t,e,r,s){sv(t.x,e.x,r.x,s),sv(t.y,e.y,r.y,s)}function XE(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JE={duration:.45,ease:[.4,0,.1,1]},iv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),av=iv("applewebkit/")&&!iv("chrome/")?Math.round:_r;function ov(t){t.min=av(t.min),t.max=av(t.max)}function QE(t){ov(t.x),ov(t.y)}function hb(t,e,r){return t==="position"||t==="preserve-aspect"&&!nE(Yx(e),Yx(r),.2)}function YE(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ZE=db({attachResizeListener:(t,e)=>Ga(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kd={current:void 0},fb=db({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kd.current){const t=new ZE({});t.mount(window),t.setOptions({layoutScroll:!0}),kd.current=t}return kd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eC={pan:{Feature:vE},drag:{Feature:xE,ProjectionNode:fb,MeasureLayout:ib}};function lv(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=s[o];l&&tt.postRender(()=>l(e,io(e)))}class tC extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=jN(e,(r,s)=>(lv(this.node,s,"Start"),o=>lv(this.node,o,"End"))))}unmount(){}}class rC extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ro(Ga(this.node.current,"focus",()=>this.onFocus()),Ga(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cv(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=s[o];l&&tt.postRender(()=>l(e,io(e)))}class nC extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=NN(e,(r,s)=>(cv(this.node,s,"Start"),(o,{success:l})=>cv(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ph=new WeakMap,Sd=new WeakMap,sC=t=>{const e=ph.get(t.target);e&&e(t)},iC=t=>{t.forEach(sC)};function aC({root:t,...e}){const r=t||document;Sd.has(r)||Sd.set(r,{});const s=Sd.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(iC,{root:t,...e})),s[o]}function oC(t,e,r){const s=aC(e);return ph.set(t,r),s.observe(t),()=>{ph.delete(t),s.unobserve(t)}}const lC={some:0,all:1};class cC extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:lC[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),y=p?g:x;y&&y(f)};return oC(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(uC(e,r))&&this.startObserver()}unmount(){}}function uC({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const dC={inView:{Feature:cC},tap:{Feature:nC},focus:{Feature:rC},hover:{Feature:tC}},hC={layout:{ProjectionNode:fb,MeasureLayout:ib}},fC={...Q2,...dC,...eC,...hC},Qe=p2(fC,N2);function pb(){!Nf.current&&W0();const[t]=_.useState(Xl.current);return t}var mh=function(t,e){return mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},mh(t,e)};function mb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jl=function(){return Jl=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Jl.apply(this,arguments)};function Ii(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function gb(t,e,r,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(o<3?c(l):o>3?c(e,r,l):c(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function xb(t,e){return function(r,s){e(r,s,t)}}function vb(t,e,r,s,o,l){function c(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),x,y=!1,b=r.length-1;b>=0;b--){var S={};for(var N in s)S[N]=N==="access"?{}:s[N];for(var N in s.access)S.access[N]=s.access[N];S.addInitializer=function(A){if(y)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(A||null))};var j=(0,r[b])(d==="accessor"?{get:g.get,set:g.set}:g[f],S);if(d==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(x=c(j.get))&&(g.get=x),(x=c(j.set))&&(g.set=x),(x=c(j.init))&&o.unshift(x)}else(x=c(j))&&(d==="field"?o.unshift(x):g[f]=x)}p&&Object.defineProperty(p,s.name,g),y=!0}function yb(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function bb(t){return typeof t=="symbol"?t:"".concat(t)}function wb(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function jb(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ue(t,e,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(x){c(x)}}function f(g){try{p(s.throw(g))}catch(x){c(x)}}function p(g){g.done?l(g.value):o(g.value).then(d,f)}p((s=s.apply(t,e||[])).next())})}function _b(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(g){return f([p,g])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){r.label=p[1];break}if(p[0]===6&&r.label<l[1]){r.label=l[1],l=p;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(p);break}l[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(g){p=[6,g],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var xc=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function kb(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xc(e,t,r)}function Ql(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cf(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(c)throw c.error}}return l}function Sb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Cf(arguments[e]));return t}function Nb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,o++)s[o]=l[c];return s}function Eb(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function Cb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(b){return function(S){return Promise.resolve(S).then(b,x)}}function d(b,S){s[b]&&(o[b]=function(N){return new Promise(function(j,A){l.push([b,N,j,A])>1||f(b,N)})},S&&(o[b]=S(o[b])))}function f(b,S){try{p(s[b](S))}catch(N){y(l[0][3],N)}}function p(b){b.value instanceof Pi?Promise.resolve(b.value.v).then(g,x):y(l[0][2],b)}function g(b){f("next",b)}function x(b){f("throw",b)}function y(b,S){b(S),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Pb(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(c){return(r=!r)?{value:Pi(t[o](c)),done:!1}:l?l(c):c}:l}}function Tb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ql=="function"?Ql(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(l){r[l]=t[l]&&function(c){return new Promise(function(d,f){c=t[l](c),o(d,f,c.done,c.value)})}}function o(l,c,d,f){Promise.resolve(f).then(function(p){l({value:p,done:d})},c)}}function Ab(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var pC=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},gh=function(t){return gh=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},gh(t)};function Rb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=gh(t),s=0;s<r.length;s++)r[s]!=="default"&&xc(e,t,r[s]);return pC(e,t),e}function Ob(t){return t&&t.__esModule?t:{default:t}}function Db(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Lb(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Ib(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Mb(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var mC=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Fb(t){function e(l){t.error=t.hasError?new mC(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else s|=1}catch(c){e(c)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function zb(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,l,c){return s?e?".jsx":".js":o&&(!l||!c)?r:o+l+"."+c.toLowerCase()+"js"}):t}const gC={__extends:mb,__assign:Jl,__rest:Ii,__decorate:gb,__param:xb,__esDecorate:vb,__runInitializers:yb,__propKey:bb,__setFunctionName:wb,__metadata:jb,__awaiter:ue,__generator:_b,__createBinding:xc,__exportStar:kb,__values:Ql,__read:Cf,__spread:Sb,__spreadArrays:Nb,__spreadArray:Eb,__await:Pi,__asyncGenerator:Cb,__asyncDelegator:Pb,__asyncValues:Tb,__makeTemplateObject:Ab,__importStar:Rb,__importDefault:Ob,__classPrivateFieldGet:Db,__classPrivateFieldSet:Lb,__classPrivateFieldIn:Ib,__addDisposableResource:Mb,__disposeResources:Fb,__rewriteRelativeImportExtension:zb},xC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Mb,get __assign(){return Jl},__asyncDelegator:Pb,__asyncGenerator:Cb,__asyncValues:Tb,__await:Pi,__awaiter:ue,__classPrivateFieldGet:Db,__classPrivateFieldIn:Ib,__classPrivateFieldSet:Lb,__createBinding:xc,__decorate:gb,__disposeResources:Fb,__esDecorate:vb,__exportStar:kb,__extends:mb,__generator:_b,__importDefault:Ob,__importStar:Rb,__makeTemplateObject:Ab,__metadata:jb,__param:xb,__propKey:bb,__read:Cf,__rest:Ii,__rewriteRelativeImportExtension:zb,__runInitializers:yb,__setFunctionName:wb,__spread:Sb,__spreadArray:Eb,__spreadArrays:Nb,__values:Ql,default:gC},Symbol.toStringTag,{value:"Module"})),vC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pf extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class yC extends Pf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uv extends Pf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dv extends Pf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xh||(xh={}));class bC{constructor(e,{headers:r={},customFetch:s,region:o=xh.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=vC(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(r,s={}){var o;let l,c;try{const{headers:d,method:f,body:p,signal:g,timeout:x}=s;let y={},{region:b}=s;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(y["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let N;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(y["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(y["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let j=g;x&&(c=new AbortController,l=setTimeout(()=>c.abort(),x),g?(j=c.signal,g.addEventListener("abort",()=>c.abort())):j=c.signal);const A=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:N,signal:j}).catch(R=>{throw new yC(R)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new uv(A);if(!A.ok)throw new dv(A);let k=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),L;return k==="application/json"?L=yield A.json():k==="application/octet-stream"||k==="application/pdf"?L=yield A.blob():k==="text/event-stream"?L=A:k==="multipart/form-data"?L=yield A.formData():L=yield A.text(),{data:L,error:null,response:A}}catch(d){return{data:null,error:d,response:d instanceof dv||d instanceof uv?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var $t={};const Mi=D1(xC);var kl={},Sl={},Nl={},El={},Cl={},Pl={},hv;function Vb(){if(hv)return Pl;hv=1,Object.defineProperty(Pl,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Pl.default=t,Pl}var fv;function Ub(){if(fv)return Cl;fv=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=Mi.__importDefault(Vb());class r{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,x,y;let b=null,S=null,N=null,j=f.status,A=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=R:S=JSON.parse(R))}const k=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),L=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&L&&L.length>1&&(N=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,N=null,j=406,A="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const k=await f.text();try{b=JSON.parse(k),Array.isArray(b)&&f.status===404&&(S=[],b=null,j=200,A="OK")}catch{f.status===404&&k===""?(j=204,A="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,j=200,A="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:S,count:N,status:j,statusText:A}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,g,x;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=f==null?void 0:f.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Cl.default=r,Cl}var pv;function $b(){if(pv)return El;pv=1,Object.defineProperty(El,"__esModule",{value:!0});const e=Mi.__importDefault(Ub());class r extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var g;const x=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return El.default=r,El}var mv;function Tf(){if(mv)return Nl;mv=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=Mi.__importDefault($b()),r=new RegExp("[,()]");class s extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return Nl.default=s,Nl}var gv;function Bb(){if(gv)return Sl;gv=1,Object.defineProperty(Sl,"__esModule",{value:!0});const e=Mi.__importDefault(Tf());class r{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},f=c?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(x.length>0){const y=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Sl.default=r,Sl}var xv;function wC(){if(xv)return kl;xv=1,Object.defineProperty(kl,"__esModule",{value:!0});const t=Mi,e=t.__importDefault(Bb()),r=t.__importDefault(Tf());class s{constructor(l,{headers:c={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:f=!1,count:p}={}){var g;let x;const y=new URL(`${this.url}/rpc/${l}`);let b;d||f?(x=d?"HEAD":"GET",Object.entries(c).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{y.searchParams.append(N,j)})):(x="POST",b=c);const S=new Headers(this.headers);return p&&S.set("Prefer",`count=${p}`),new r.default({method:x,url:y,headers:S,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return kl.default=s,kl}var vv;function jC(){if(vv)return $t;vv=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.PostgrestError=$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const t=Mi,e=t.__importDefault(wC());$t.PostgrestClient=e.default;const r=t.__importDefault(Bb());$t.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Tf());$t.PostgrestFilterBuilder=s.default;const o=t.__importDefault($b());$t.PostgrestTransformBuilder=o.default;const l=t.__importDefault(Ub());$t.PostgrestBuilder=l.default;const c=t.__importDefault(Vb());return $t.PostgrestError=c.default,$t.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},$t}var qb=jC();const Wb=lc(qb),_C=vy({__proto__:null,default:Wb},[qb]),{PostgrestClient:kC,PostgrestQueryBuilder:W4,PostgrestFilterBuilder:H4,PostgrestTransformBuilder:K4,PostgrestBuilder:G4,PostgrestError:X4}=Wb||_C;class SC{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const NC="2.81.1",EC=`realtime-js/${NC}`,Hb="1.0.0",CC="2.0.0",yv=Hb,vh=1e4,PC=1e3,TC=100;var Cs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cs||(Cs={}));var Nt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Nt||(Nt={}));var wr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wr||(wr={}));var yh;(function(t){t.websocket="websocket"})(yh||(yh={}));var Ps;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ps||(Ps={}));class AC{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:r,ref:s,event:o,topic:l,payload:c}=e,d=this.META_LENGTH+r.length+s.length+l.length+o.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.push),p.setUint8(g++,r.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,o.length),Array.from(r,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(g++,y.charCodeAt(0)));var x=new Uint8Array(f.byteLength+c.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(c),f.byteLength),x.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const{join_ref:o,ref:l,topic:c}=e,d=e.payload.event,f=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+c.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(g),y=0;x.setUint8(y++,this.KINDS.userBroadcastPush),x.setUint8(y++,o.length),x.setUint8(y++,l.length),x.setUint8(y++,c.length),x.setUint8(y++,d.length),x.setUint8(y++,this.BINARY_ENCODING),Array.from(o,S=>x.setUint8(y++,S.charCodeAt(0))),Array.from(l,S=>x.setUint8(y++,S.charCodeAt(0))),Array.from(c,S=>x.setUint8(y++,S.charCodeAt(0))),Array.from(d,S=>x.setUint8(y++,S.charCodeAt(0)));var b=new Uint8Array(g.byteLength+f.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(f),g.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var r,s;const{join_ref:o,ref:l,topic:c}=e,d=e.payload.event,f=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},g=new TextEncoder().encode(JSON.stringify(f)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+c.length+d.length,y=new ArrayBuffer(this.HEADER_LENGTH+x);let b=new DataView(y),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,o.length),b.setUint8(S++,l.length),b.setUint8(S++,c.length),b.setUint8(S++,d.length),b.setUint8(S++,this.JSON_ENCODING),Array.from(o,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(l,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(c,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(d,j=>b.setUint8(S++,j.charCodeAt(0)));var N=new Uint8Array(y.byteLength+g.byteLength);return N.set(new Uint8Array(y),0),N.set(new Uint8Array(g),y.byteLength),N.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,c,d,f]=s;return r({join_ref:o,ref:l,topic:c,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,r,o);case this.KINDS.reply:return this._decodeReply(e,r,o);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodePush(e,r,s){const o=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const f=s.decode(e.slice(d,d+o));d=d+o;const p=s.decode(e.slice(d,d+l));d=d+l;const g=s.decode(e.slice(d,d+c));d=d+c;const x=JSON.parse(s.decode(e.slice(d,e.byteLength)));return{join_ref:f,ref:null,topic:p,event:g,payload:x}}_decodeReply(e,r,s){const o=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+this.META_LENGTH;const p=s.decode(e.slice(f,f+o));f=f+o;const g=s.decode(e.slice(f,f+l));f=f+l;const x=s.decode(e.slice(f,f+c));f=f+c;const y=s.decode(e.slice(f,f+d));f=f+d;const b=JSON.parse(s.decode(e.slice(f,e.byteLength))),S={status:y,response:b};return{join_ref:p,ref:g,topic:x,event:wr.reply,payload:S}}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(e.slice(c,c+o));c=c+o;const f=s.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{join_ref:null,ref:null,topic:d,event:f,payload:p}}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=s.decode(e.slice(f,f+o));f=f+o;const g=s.decode(e.slice(f,f+l));f=f+l;const x=s.decode(e.slice(f,f+c));f=f+c;const y=e.slice(f,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(s.decode(y)):y,S={type:this.BROADCAST,event:g,payload:b};return c>0&&(S.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Kb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const bv=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=RC(c,t,e,o),l),{}):{}},RC=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,c=r[t];return l&&!s.includes(l)?Gb(l,c):bh(c)},Gb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return IC(e,r)}switch(t){case Ke.bool:return OC(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return DC(e);case Ke.json:case Ke.jsonb:return LC(e);case Ke.timestamp:return MC(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return bh(e);default:return bh(e)}},bh=t=>t,OC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},IC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>Gb(e,d))}return t},MC=t=>typeof t=="string"?t.replace(" ","T"):t,Xb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Nd{constructor(e,r,s={},o=vh){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wv||(wv={}));class Ia{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ia.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=Ia.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ia.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),c=this.transformState(r),d={},f={};return this.map(l,(p,g)=>{c[p]||(f[p]=g)}),this.map(c,(p,g)=>{const x=l[p];if(x){const y=g.map(j=>j.presence_ref),b=x.map(j=>j.presence_ref),S=g.filter(j=>b.indexOf(j.presence_ref)<0),N=x.filter(j=>y.indexOf(j.presence_ref)<0);S.length>0&&(d[p]=S),N.length>0&&(f[p]=N)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:f},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),g.length>0){const x=e[d].map(b=>b.presence_ref),y=g.filter(b=>x.indexOf(b.presence_ref)<0);e[d].unshift(...y)}s(d,g,f)}),this.map(c,(d,f)=>{let p=e[d];if(!p)return;const g=f.map(x=>x.presence_ref);p=p.filter(x=>g.indexOf(x.presence_ref)<0),e[d]=p,o(d,p,f),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jv||(jv={}));var Ma;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ma||(Ma={}));var mn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));class Af{constructor(e,r={config:{}},s){var o,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nd(this,wr.join,this.params,this.timeout),this.rejoinTimer=new Kb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ia(this),this.broadcastEndpointURL=Xb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Ma.PRESENCE]&&this.bindings[Ma.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(mn.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket.setAuth(),b===void 0){e==null||e(mn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(S=N==null?void 0:N.length)!==null&&S!==void 0?S:0,A=[];for(let C=0;C<j;C++){const k=N[C],{filter:{event:L,schema:R,table:D,filter:z}}=k,H=b&&b[C];if(H&&H.event===L&&H.schema===R&&H.table===D&&H.filter===z)A.push(Object.assign(Object.assign({},k),{id:H.id}));else{this.unsubscribe(),this.state=Nt.errored,e==null||e(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(mn.SUBSCRIBED);return}}).receive("error",b=>{this.state=Nt.errored,e==null||e(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Nt.joined&&e===Ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Nd(this,wr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Nd(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:g}=wr;if(s&&[d,f,p,g].indexOf(c)>=0&&s!==this._joinRef())return;let y=this._onMessage(c,r,s);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var S,N,j;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(N=b.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(b=>b.callback(y,s)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,N,j,A,C,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const L=b.id,R=(S=b.filter)===null||S===void 0?void 0:S.event;return L&&((N=r.ids)===null||N===void 0?void 0:N.includes(L))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const L=(C=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return L==="*"||L===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:N,table:j,commit_timestamp:A,type:C,errors:k}=S;y=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:A,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(S))}b.callback(y,s)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Af.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wr.close,{},e)}_onError(e){this._on(wr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bv(e.columns,e.old_record)),r}}const Ed=()=>{},Tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FC=[1e3,2e3,5e3,1e4],zC=1e4,VC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UC{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vh,this.transport=null,this.heartbeatIntervalMs=Tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ed,this.ref=0,this.reconnectTimer=null,this.vsn=yv,this.logger=Ed,this.conn=null,this.sendBuffer=[],this.serializer=new AC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${yh.websocket}`,this.httpEndpoint=Xb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return Ps.Connecting;case Cs.open:return Ps.Open;case Cs.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Af(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:c}=r,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cs.open||this.conn.readyState===Cs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([VC],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:EC};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(wr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Kb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,c,d,f,p,g,x,y,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:vh,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Tl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Ed,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:yv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(S=>FC[S-1]||zC),this.vsn){case Hb:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((S,N)=>N(JSON.stringify(S))),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:((S,N)=>N(JSON.parse(S)));break;case CC:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Rf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function at(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $C extends Rf{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wh extends Rf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Of=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BC=()=>Response,jh=t=>{if(Array.isArray(t))return t.map(r=>jh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=jh(s)}),e},qC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},WC=(t,e,r)=>ue(void 0,void 0,void 0,function*(){const s=yield BC();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const l=t.status||500,c=(o==null?void 0:o.statusCode)||l+"";e(new $C(Cd(o),l,c))}).catch(o=>{e(new wh(Cd(o),o))}):e(new wh(Cd(t),t))}),HC=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(qC(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function ao(t,e,r,s,o,l){return ue(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,HC(e,s,o,l)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>WC(f,d,s))})})}function Xa(t,e,r,s){return ue(this,void 0,void 0,function*(){return ao(t,"GET",e,r,s)})}function Ir(t,e,r,s,o){return ue(this,void 0,void 0,function*(){return ao(t,"POST",e,s,o,r)})}function _h(t,e,r,s,o){return ue(this,void 0,void 0,function*(){return ao(t,"PUT",e,s,o,r)})}function KC(t,e,r,s){return ue(this,void 0,void 0,function*(){return ao(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Df(t,e,r,s,o){return ue(this,void 0,void 0,function*(){return ao(t,"DELETE",e,s,o,r)})}class GC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(at(e))return{data:null,error:e};throw e}})}}var Jb;class XC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Jb]="BlobDownloadBuilder",this.promise=null}asStream(){return new GC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(at(e))return{data:null,error:e};throw e}})}}Jb=Symbol.toStringTag;const JC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QC{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=Of(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ue(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},_v),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),g=this._getFinalPath(p),x=yield(e=="PUT"?_h:Ir)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}upload(e,r,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ue(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:_v.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const x=yield _h(this.fetch,d.toString(),f,{headers:g});return{data:{path:l,fullPath:x.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(at(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const l=yield Ir(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Rf("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}update(e,r,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ue(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ue(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield Ir(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ue(this,void 0,void 0,function*(){try{const o=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>Xa(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new XC(f,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Xa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}exists(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield KC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s)&&s instanceof wh){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}list(e,r,s){return ue(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},JC),r),{prefix:e||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}listV2(e,r){return ue(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Qb="2.81.1",Yb={"X-Client-Info":`storage-js/${Qb}`};class YC{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=Of(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Xa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}createBucket(e){return ue(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class ZC{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=Of(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xa(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}const Lf={"X-Client-Info":`storage-js/${Qb}`,"Content-Type":"application/json"};class Zb extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function cr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Pd extends Zb{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eP extends Zb{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var kv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kv||(kv={}));const If=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rP=(t,e,r)=>ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";e(new Pd(Sv(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Pd(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new Pd(d,o,c))}}else e(new eP(Sv(t),t))}),nP=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(tP(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function sP(t,e,r,s,o,l){return ue(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,nP(e,s,o,l)).then(f=>{if(!f.ok)throw f;if(s!=null&&s.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>rP(f,d,s))})})}function ur(t,e,r,s,o){return ue(this,void 0,void 0,function*(){return sP(t,"POST",e,s,o,r)})}class iP{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lf),r),this.fetch=If(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(cr(s))return{data:null,error:s};throw s}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(cr(s))return{data:null,error:s};throw s}})}}class aP{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lf),r),this.fetch=If(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ur(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ur(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ur(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}}class oP{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lf),r),this.fetch=If(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield ur(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}}class lP extends oP{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new cP(this.url,this.headers,e,this.fetch)}}class cP extends iP{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new uP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class uP extends aP{constructor(e,r,s,o,l){super(e,r,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class dP extends YC{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new QC(this.url,this.headers,e,this.fetch)}get vectors(){return new lP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ZC(this.url+"/iceberg",this.headers,this.fetch)}}const hP="2.81.1";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const fP={"X-Client-Info":`supabase-js-${Ta}/${hP}`},pP={headers:fP},mP={schema:"public"},gP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xP={},vP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yP=()=>Headers,bP=(t,e,r)=>{const s=vP(r),o=yP();return async(l,c)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new o(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},c),{headers:p}))}};function wP(t){return t.endsWith("/")?t:t+"/"}function jP(t,e){var r,s;const{db:o,auth:l,realtime:c,global:d}=t,{db:f,auth:p,realtime:g,global:x}=e,y={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function _P(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ew="2.81.1",gi=30*1e3,kh=3,Td=kh*gi,kP="http://localhost:9999",SP="supabase.auth.token",NP={"X-Client-Info":`gotrue-js/${ew}`},Sh="X-Supabase-Api-Version",tw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CP=600*1e3;class Ja extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PP extends Ja{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function TP(t){return ke(t)&&t.name==="AuthApiError"}class Ts extends Ja{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ss extends Ja{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class Or extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AP(t){return ke(t)&&t.name==="AuthSessionMissingError"}class ui extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rl extends ss{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RP(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nv extends ss{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nh extends ss{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ad(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class Ev extends ss{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Eh extends ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cv=` 	
\r=`.split(""),OP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cv.length;e+=1)t[Cv[e].charCodeAt(0)]=-2;for(let e=0;e<Yl.length;e+=1)t[Yl[e].charCodeAt(0)]=e;return t})();function Pv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Yl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Yl[s]),e.queuedBits-=6}}function rw(t,e,r){const s=OP[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tv(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{IP(c,s,r)};for(let c=0;c<t.length;c+=1)rw(t.charCodeAt(c),o,l);return e.join("")}function DP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LP(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}DP(s,e)}}function IP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Si(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)rw(t.charCodeAt(o),r,s);return new Uint8Array(e)}function MP(t){const e=[];return LP(t,r=>e.push(r)),new Uint8Array(e)}function Ls(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Pv(o,r,s)),Pv(null,r,s),e.join("")}function FP(t){return Math.round(Date.now()/1e3)+t}function zP(){return Symbol("auth-callback")}const It=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},nw=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function VP(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const sw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UP=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xi=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ss=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vn=async(t,e)=>{await t.removeItem(e)};class vc{constructor(){this.promise=new vc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vc.promiseConstructor=Promise;function Rd(t){const e=t.split(".");if(e.length!==3)throw new Eh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!EP.test(e[s]))throw new Eh("JWT not in base64url format");return{header:JSON.parse(Tv(e[0])),payload:JSON.parse(Tv(e[1])),signature:Si(e[2]),raw:{header:e[0],payload:e[1]}}}async function $P(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function BP(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function qP(t){return("0"+t.toString(16)).substr(-2)}function WP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,qP).join("")}async function HP(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function KP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await HP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(t,e,r=!1){const s=WP();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await xi(t,`${e}-code-verifier`,o);const l=await KP(s);return[l,s===l?"plain":"s256"]}const GP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XP(t){const e=t.headers.get(Sh);if(!e||!e.match(GP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(t){if(!YP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Od(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZP(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Av(t){return JSON.parse(JSON.stringify(t))}const Es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eT=[502,503,504];async function Rv(t){var e;if(!UP(t))throw new Nh(Es(t),0);if(eT.includes(t.status))throw new Nh(Es(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ts(Es(l),l)}let s;const o=XP(t);if(o&&o.getTime()>=tw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ev(Es(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Or}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ev(Es(r),t.status,r.weak_password.reasons);throw new PP(Es(r),t.status||500,s)}const tT=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function Pe(t,e,r,s){var o;const l=Object.assign({},s==null?void 0:s.headers);l[Sh]||(l[Sh]=tw["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await rT(t,e,r+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function rT(t,e,r,s,o,l){const c=tT(e,s,o,l);let d;try{d=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new Nh(Es(f),0)}if(d.ok||await Rv(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(f){await Rv(f)}}function Dr(t){var e;let r=null;iT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=FP(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ov(t){const e=Dr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nT(t){return{data:t,error:null}}function sT(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,c=Ii(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function Dv(t){return t}function iT(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dd=["global","local","others"];class aT{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=sw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Dd[0]){if(Dd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dd.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hn})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Ii(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:sT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Dv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ke(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){hi(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){hi(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Hn})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){hi(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hn})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){hi(e.userId);try{const{data:r,error:s}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(e){hi(e.userId),hi(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Dv});if(g.error)throw g.error;const x=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ke(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const fi={debug:!!(globalThis&&nw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class oT extends iw{}async function lT(t,e,r){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new oT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function cT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uT(t){return parseInt(t,16)}function dT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function hT(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:p,scheme:g,uri:x,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=aw(t.address),S=g?`${g}://${s}`:s,N=t.statement?`${t.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${b}

${N}`;let A=`URI: ${x}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),d&&(A+=`
Not Before: ${d.toISOString()}`),f&&(A+=`
Request ID: ${f}`),p){let C=`
Resources:`;for(const k of p){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);C+=`
- ${k}`}A+=C}return`${j}
${A}`}class wt extends Error{constructor({message:e,code:r,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Zl extends wt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function fT({error:t,options:e}){var r,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ow(c)){if(l.rp.id!==c)return new wt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pT({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(ow(s)){if(r.rpId!==s)return new wt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class mT{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const gT=new mT;function xT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=Ii(t,["challenge","user","excludeCredentials"]),l=Si(e).buffer,c=Object.assign(Object.assign({},r),{id:Si(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Si(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function vT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Ii(t,["challenge","allowCredentials"]),o=Si(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Si(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function yT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ls(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ls(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ls(new Uint8Array(o.authenticatorData)),clientDataJSON:Ls(new Uint8Array(o.clientDataJSON)),signature:Ls(new Uint8Array(o.signature)),userHandle:o.userHandle?Ls(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ow(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Iv(){var t,e;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",e)}:{data:null,error:new Zl("Empty credential response",e)}}catch(e){return{data:null,error:fT({error:e,options:t})}}}async function jT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",e)}:{data:null,error:new Zl("Empty credential response",e)}}catch(e){return{data:null,error:pT({error:e,options:t})}}}const _T={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ec(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(r(c))s[l]=c;else if(e(c)){const d=s[l];e(d)?s[l]=ec(d,c):s[l]=ec(c)}else s[l]=c}return s}function ST(t,e){return ec(_T,t,e||{})}function NT(t,e){return ec(kT,t,e||{})}class ET{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const f=o??gT.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=ST(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:x}=await wT({publicKey:p,signal:f});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const p=NT(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:x}=await jT(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:f}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ja("rpId is required for WebAuthn authentication")};try{if(!Iv())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:s,credential_response:f.credential_response}})}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ja("rpId is required for WebAuthn registration")};try{if(!Iv())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in register",c)}}}}cT();const CT={url:kP,storageKey:SP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mv(t,e,r){return await r()}const pi={};class Qa{get jwks(){var e,r;return(r=(e=pi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=pi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},CT),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&It()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new aT({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=sw(l.fetch),this.lock=l.lock||Mv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:It()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=lT:this.lock=Mv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ET(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:nw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ew}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(It()&&(r=VP(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),It()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),RP(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new Ts("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Dr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:g,password:x,options:y}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await di(this.storage,this.storageKey)),l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:x,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:S},xform:Dr})}else if("phone"in e){const{phone:g,password:x,options:y}=e;l=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},channel:(o=y==null?void 0:y.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Dr})}else throw new Al("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ov})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ov})}else throw new Al("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new ui;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,c,d,f,p,g,x,y;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:N,wallet:j,statement:A,options:C}=e;let k;if(It())if(typeof j=="object")k=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")k=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const L=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=aw(R[0]);let z=(s=C==null?void 0:C.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!z){const Z=await k.request({method:"eth_chainId"});z=uT(Z)}const H={domain:L.host,address:D,statement:A,uri:L.href,version:"1",chainId:z,nonce:(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=C==null?void 0:C.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=hT(H),S=await k.request({method:"personal_sign",params:[dT(b),D]})}try{const{data:N,error:j}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Dr});if(j)throw j;if(!N||!N.session||!N.user){const A=new ui;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(ke(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,s,o,l,c,d,f,p,g,x,y,b;let S,N;if("message"in e)S=e.message,N=e.signature;else{const{chain:j,wallet:A,statement:C,options:k}=e;let L;if(It())if(typeof A=="object")L=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))L=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=A}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const D=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),C?{statement:C}:null));let z;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")z=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)z=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),N=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(s=k==null?void 0:k.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((x=(g=k==null?void 0:k.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...k.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const D=await L.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:j,error:A}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ls(N)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dr});if(A)throw A;if(!j||!j.session||!j.user){const C=new ui;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(ke(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:c}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Dr});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(ke(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:c}=e,d=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dr}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const g=new ui;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,l,c;try{if("email"in e){const{email:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await di(this.storage,this.storageKey));const{error:x}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g})}throw new Al("You must provide either an email or phone number.")}catch(d){if(ke(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Dr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,l,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await di(this.storage,this.storageKey));const p=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:nT});return!((l=p.data)===null||l===void 0)&&l.url&&It()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(ke(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Or;const{error:o}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:d}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Al("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Ss(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Od()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=ZP(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hn}):await this._useSession(async r=>{var s,o,l;const{data:c,error:d}=r;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Or}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Hn})})}catch(r){if(ke(r))return AP(r)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Or;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await di(this.storage,this.storageKey));const{data:p,error:g}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Hn});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(ke(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Or;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:c}=Rd(e.access_token);if(c.exp&&(s=c.exp,o=s<=r),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Or;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!It())throw new Rl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nv("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:p}=e;if(!l||!d||!c||!p)throw new Rl("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let y=g+x;f&&(y=parseInt(f));const b=y-g;b*1e3<=gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const S=y-x;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,g);const{data:N,error:j}=await this._getUser(l);if(j)throw j;const A={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:y,refresh_token:c,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(s){if(ke(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(TP(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=zP(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await di(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ke(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var c,d,f,p,g;const{data:x,error:y}=l;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return It()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ke(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:c,provider:d,token:f,access_token:p,nonce:g}=e,x=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Dr}),{data:y,error:b}=x;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new ui}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(o){if(ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:c}=r;if(c)throw c;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await BP(async o=>(o>0&&await $P(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dr})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Ad(l)&&Date.now()+c-s<gi})}catch(s){if(this._debug(r,"error",s),ke(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),It()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ss(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await xi(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Od()}else if(o&&!o.user&&!o.user){const c=await Ss(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Vn(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,o)):o.user=Od()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Td;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Td}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Ad(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Or;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vc;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Or;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ke(l)){const c={data:null,error:l};return Ad(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await xi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Av(o);await xi(this.storage,this.storageKey,l)}else{const o=Av(r);await xi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${gi}ms, refresh threshold is ${kh} ticks`),o<=kh&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await di(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yT(e.webauthn.credential_response):bT(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:xT(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:vT(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rd(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Or})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Or});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Or});const c=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+CP>o)return s;const{data:l,error:c}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});s=b.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:f}}=Rd(s);r!=null&&r.allowExpired||JP(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:l,header:o,signature:c},error:null}}const g=QP(o.alg),x=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,c,MP(`${d}.${f}`)))throw new Eh("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ke(s))return this._returnResult({data:null,error:s});throw s}}}Qa.nextInstanceID={};const PT=Qa;class TT extends PT{constructor(e){super(e)}}class AT{constructor(e,r,s){var o,l,c;this.supabaseUrl=e,this.supabaseKey=r;const d=_P(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:mP,realtime:xP,auth:Object.assign(Object.assign({},gP),{storageKey:f}),global:pP},g=jP(s??{},p);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=bP(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new kC(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new dP(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new bC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:d,lock:f,debug:p,throwOnError:g},x,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TT({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),x),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:f,debug:p,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new UC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fv=(t,e,r)=>new AT(t,e,r);function RT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}RT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lw="https://sfqaxjvknxglgjgknkph.supabase.co",OT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNmcWF4anZrbnhnbGdqZ2tua3BoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDI0NDUsImV4cCI6MjA3ODgxODQ0NX0.MMoRbnF0al_TStZWVrcBjRYOqzrAinwctXo65N_DNF0",DT=t=>{try{return new URL(t),!0}catch{return!1}},Mf=DT(lw);Mf||(console.warn(" Supabase not configured properly. Please update your .env file with actual Supabase credentials."),console.warn("Instructions:"),console.warn("1. Go to https://supabase.com and create a project"),console.warn("2. Go to Settings  API in your Supabase dashboard"),console.warn("3. Copy your Project URL and anon key to the .env file"),console.warn("4. Restart your development server"));const oe=Mf?Fv(lw,OT):Fv("https://placeholder.supabase.co","placeholder-key"),rr=Mf,cw=_.createContext(void 0),LT=t=>t?[t.full_name,t.phone,t.district].map(r=>r==null?"":typeof r=="string"?r:String(r)).every(r=>r.trim().length>0):!1,IT=({children:t})=>{const[e,r]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState(null),[d,f]=_.useState(!0),p=_.useMemo(()=>LT(l),[l]),g=_.useCallback(async()=>{if(!rr){f(!1);return}try{const{data:{session:k}}=await oe.auth.getSession();try{const L=k;console.debug("[Auth] checkSession -> hasSession:",!!k,"hasRefresh:",!!(L!=null&&L.refresh_token),"expires_at:",L==null?void 0:L.expires_at)}catch(L){console.debug("[Auth] checkSession -> debug log failed",L)}if(k){const L=k;if(!L.refresh_token){const R=Math.floor(Date.now()/1e3),D=L.expires_at??0;if(D&&D<=R){console.warn("Session found without refresh_token but access token is expired. Clearing session.");try{await oe.auth.signOut()}catch(z){console.warn("Error signing out invalid session:",z)}r(null),o(null),c(null),f(!1);return}console.warn("Session found without refresh_token. Keeping session temporarily to allow immediate actions (e.g. complete profile).")}}r(k),o((k==null?void 0:k.user)??null),k!=null&&k.user&&await x(k.user.id)}catch(k){console.error("Error checking session:",k)}finally{f(!1)}},[]);_.useEffect(()=>{if(!rr){f(!1);return}const{data:{subscription:k}}=oe.auth.onAuthStateChange(async(L,R)=>{try{const D=R;console.debug("[Auth] onAuthStateChange",L,"hasSession:",!!R,"hasRefresh:",!!(D!=null&&D.refresh_token),"expires_at:",D==null?void 0:D.expires_at)}catch(D){console.debug("[Auth] onAuthStateChange -> debug log failed",D)}if(R){const D=R;if(!D.refresh_token){const z=Math.floor(Date.now()/1e3),H=D.expires_at??0;if(H&&H<=z){console.warn("Received expired session without refresh_token via onAuthStateChange; clearing.");try{await oe.auth.signOut()}catch(Z){console.warn("Error signing out expired session:",Z)}r(null),o(null),c(null);return}console.warn("Received session without refresh_token via onAuthStateChange; keeping temporarily to allow profile completion.")}}r(R),o((R==null?void 0:R.user)??null),R!=null&&R.user?x(R.user.id):c(null)});return g(),()=>{k.unsubscribe()}},[g]);const x=async k=>{if(!rr){console.warn("Supabase not configured - cannot fetch user profile");return}try{const{data:L,error:R}=await oe.from("users").select("*").eq("id",k).maybeSingle();if(R)throw R;c(L)}catch(L){console.error("Error fetching user profile:",L),c(null)}},C={session:e,user:s,userProfile:l,isProfileComplete:p,signUp:async(k,L)=>{var R,D;if(!rr)return{error:new Error("Supabase not configured. Please check your environment variables.")};try{const z=await oe.auth.signUp({email:k,password:L});try{console.debug("[Auth] signUp -> session returned:",!!((R=z.data)!=null&&R.session),"error:",!!z.error)}catch(re){console.debug("[Auth] signUp -> debug log failed",re)}const H=((D=z.data)==null?void 0:D.session)??null;let Z=!H;if(H&&!H.refresh_token){Z=!0;try{await oe.auth.signOut()}catch(ge){console.warn("Error signing out partial session after signUp:",ge)}}return{error:z.error,requiresConfirmation:Z,session:H}}catch(z){return{error:z}}},signIn:async(k,L)=>{var R,D;if(!rr)return{error:new Error("Supabase not configured. Please check your environment variables.")};try{const z=await oe.auth.signInWithPassword({email:k,password:L});try{console.debug("[Auth] signIn -> session returned:",!!((R=z.data)!=null&&R.session),"error:",!!z.error)}catch(Z){console.debug("[Auth] signIn -> debug log failed",Z)}const H=((D=z.data)==null?void 0:D.session)??null;if(H&&!H.refresh_token){try{await oe.auth.signOut()}catch(re){console.warn("Error signing out partial session after signIn:",re)}return{error:new Error("Session invalide: token de rafrachissement manquant. Veuillez confirmer votre email ou ressayer.")}}return{error:z.error}}catch(z){return{error:z}}},signOut:async()=>{if(!rr)return{error:new Error("Supabase not configured. Please check your environment variables.")};try{const{error:k}=await oe.auth.signOut();return{error:k}}catch(k){return{error:k}}},createUserProfile:async k=>{if(!rr)return{error:new Error("Supabase not configured. Please check your environment variables.")};try{if(!s)return{error:new Error("User not authenticated")};const{data:{session:L}}=await oe.auth.getSession();if(!L)return{error:new Error("Session invalide. Veuillez vous reconnecter ou confirmer votre adresse email.")};const R=L;if(!R.refresh_token){const z=Math.floor(Date.now()/1e3),H=R.expires_at??0;if(H&&H<=z)return{error:new Error("Session expire. Veuillez vous reconnecter.")};console.warn("Proceeding with DB write despite missing refresh_token; access token valid until",H)}const{error:D}=await oe.from("users").insert({...k,id:s.id});return D||await x(s.id),{error:D}}catch(L){return{error:L}}},updateUserProfile:async k=>{if(!rr)return{error:new Error("Supabase not configured. Please check your environment variables.")};try{if(!s)return{error:new Error("User not authenticated")};const{data:{session:L}}=await oe.auth.getSession();if(!L)return{error:new Error("Session invalide. Veuillez vous reconnecter ou confirmer votre adresse email.")};const R=L;if(!R.refresh_token){const z=Math.floor(Date.now()/1e3),H=R.expires_at??0;if(H&&H<=z)return{error:new Error("Session expire. Veuillez vous reconnecter.")};console.warn("Proceeding with profile update despite missing refresh_token; access token valid until",H)}const{error:D}=await oe.from("users").update({...k}).eq("id",s.id);return D||(c(z=>z?{...z,...k}:{id:s.id,email:s.email||"",phone:k.phone??null,full_name:k.full_name??null,district:k.district??null,created_at:new Date().toISOString(),rating:null,first_listing_at:null,banned:!1,role:"user"}),await x(s.id)),{error:D}}catch(L){return{error:L}}},refreshUserProfile:async()=>{s&&rr&&await x(s.id)}};return d?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx(cw.Provider,{value:C,children:t})},Ff=()=>{const t=_.useContext(cw);if(t===void 0)throw new Error("useSupabase must be used within a SupabaseProvider");return t},Et=Ff;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const r=_.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:f,...p},g)=>_.createElement("svg",{ref:g,...MT,width:o,height:o,stroke:s,strokeWidth:c?Number(l)*24/Number(o):l,className:["lucide",`lucide-${FT(t)}`,d].join(" "),...p},[...e.map(([x,y])=>_.createElement(x,y)),...Array.isArray(f)?f:[f]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Me("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Me("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Me("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),eA=({onClose:t})=>{const{user:e,signOut:r}=Et(),s=xt(),o=qt(),l=async()=>{await r(),t(),s("/")},c=f=>{s(f),t()},d=f=>o.pathname===f;return a.jsxs("div",{className:"fixed inset-0 z-40 flex flex-col justify-end items-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md mx-auto bottom-0 z-50 bg-white rounded-3xl shadow-2xl border-t border-primary-100 animate-slide-up overflow-hidden",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 p-2 rounded-full bg-white/80 shadow hover:bg-grey-100 transition z-50","aria-label":"Fermer le menu",children:a.jsx("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-3",children:[a.jsxs("button",{onClick:()=>c("/"),className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl transition-all ${d("/")?"bg-primary text-white shadow-xl scale-105":"text-grey-600 hover:bg-grey-100"}`,children:[a.jsx(WT,{className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:"Accueil"})]}),a.jsxs("button",{onClick:()=>c("/search"),className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl transition-all ${d("/search")?"bg-primary text-white shadow-xl scale-105":"text-grey-600 hover:bg-grey-100"}`,children:[a.jsx(Fa,{className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:"Recherche"})]}),a.jsxs("button",{onClick:()=>c("/create-listing"),className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl transition-all border-2 border-blue-200 shadow-xl scale-110 transform hover:scale-105 bg-gradient-to-br from-blue-500 to-blue-700 text-white ${d("/create-listing")?"ring-2 ring-blue-400":""}`,style:{zIndex:2},children:[a.jsx(XT,{className:"h-7 w-7 mb-1"}),a.jsx("span",{className:"text-xs font-bold",children:"Vendre"})]}),a.jsxs("button",{onClick:()=>c("/messages"),className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl transition-all relative ${d("/messages")?"bg-primary text-white shadow-xl scale-105":"text-grey-600 hover:bg-grey-100"}`,children:[a.jsx(lo,{className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:"Messages"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-error-500 rounded-full border-2 border-white"})]}),a.jsxs("button",{onClick:()=>c("/profile"),className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl transition-all ${d("/profile")?"bg-primary text-white shadow-xl scale-105":"text-grey-600 hover:bg-grey-100"}`,children:[a.jsx(zr,{className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-semibold",children:"Profil"})]})]}),e&&a.jsx("div",{className:"border-t border-grey-100 px-5 py-4 bg-gradient-to-r from-primary-50 to-orange-50",children:a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>c("/acheter-credits"),className:"flex flex-col items-center py-2 px-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 hover:from-blue-100 hover:to-blue-200 transition-all",children:[a.jsx(uw,{className:"h-4 w-4 text-blue-600 mb-1"}),a.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Crdits"})]}),a.jsxs("button",{onClick:()=>c("/settings"),className:"flex flex-col items-center py-2 px-3 bg-gradient-to-br from-grey-50 to-grey-100 rounded-lg border border-grey-200 hover:from-grey-100 hover:to-grey-200 transition-all",children:[a.jsx(hw,{className:"h-4 w-4 text-grey-600 mb-1"}),a.jsx("span",{className:"text-xs font-medium text-grey-700",children:"Rglages"})]}),a.jsxs("button",{onClick:l,className:"flex flex-col items-center py-2 px-3 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 hover:from-red-100 hover:to-red-200 transition-all",children:[a.jsx(dw,{className:"h-4 w-4 text-red-600 mb-1"}),a.jsx("span",{className:"text-xs font-medium text-red-700",children:"Sortir"})]})]})})]})]})},tA=()=>a.jsx("span",{className:"text-xs bg-gradient-to-r from-orange-500 to-orange-600 text-white px-2 py-0.5 rounded-full font-bold",children:"BTA"}),rA=()=>{const[t,e]=_.useState(!1),[r,s]=_.useState(""),{user:o}=Et(),l=xt(),c=f=>{f.preventDefault(),r.trim()&&l(`/search?q=${encodeURIComponent(r.trim())}`)},d=()=>{e(!t)};return a.jsxs("header",{className:"sticky top-0 z-50 shadow-lg border-b border-grey-100 bg-white/90 md:bg-white/95 backdrop-blur-md",children:[a.jsxs("div",{className:"container-custom py-0 sm:py-3 lg:py-4",children:[a.jsxs("div",{className:"flex items-center justify-between md:justify-between",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsxs(we,{to:"/",className:"flex items-center group flex-shrink-0",children:[a.jsx("div",{className:"h-8 w-8 sm:h-8 sm:w-8 lg:h-10 lg:w-10 bg-gradient-to-br from-primary to-primary-600 rounded-xl flex items-center justify-center mr-2 group-hover:scale-105 transition-transform shadow-md",children:a.jsx(Ya,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-white"})}),a.jsx("span",{className:"text-lg lg:text-xl font-bold text-grey-900 leading-none",children:"DaloaMarket"}),a.jsx("div",{className:"scale-75 sm:scale-100 origin-left ml-1",children:a.jsx(tA,{})})]})}),a.jsx("div",{className:"hidden md:block flex-1 max-w-lg mx-4 lg:mx-8",children:a.jsxs("form",{onSubmit:c,className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Rechercher un produit...",className:"w-full py-2 lg:py-2.5 pl-9 lg:pl-10 pr-3 lg:pr-4 rounded-lg lg:rounded-xl border border-grey-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-grey-50 focus:bg-white transition-all text-sm lg:text-base",value:r,onChange:f=>s(f.target.value)}),a.jsx(Fa,{className:"absolute left-2.5 lg:left-3 top-2 lg:top-2.5 h-4 w-4 lg:h-5 lg:w-5 text-grey-400"}),a.jsx("button",{type:"submit",className:"absolute right-1 lg:right-1.5 top-0.5 lg:top-1 bg-primary text-white py-1.5 lg:py-2 px-2.5 lg:px-3 rounded-md lg:rounded-lg hover:bg-primary-600 transition-colors font-medium text-xs lg:text-sm",children:"Rechercher"})]})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[a.jsx(we,{to:"/search",className:"p-2 lg:p-2.5 rounded-lg text-grey-700 hover:text-primary hover:bg-primary-50 transition-all touch-target",title:"Rechercher",children:a.jsx(Fa,{className:"h-5 w-5 lg:h-6 lg:w-6"})}),a.jsx(we,{to:"/about",className:"p-2 lg:p-2.5 rounded-lg text-grey-700 hover:text-primary hover:bg-primary-50 transition-all touch-target",title:" propos",children:" propos"}),a.jsx(we,{to:"/help",className:"p-2 lg:p-2.5 rounded-lg text-grey-700 hover:text-primary hover:bg-primary-50 transition-all touch-target",title:"Aide & Support",children:"Aide"}),a.jsx(we,{to:"/messages",className:"p-2 lg:p-2.5 rounded-lg text-grey-700 hover:text-primary hover:bg-primary-50 transition-all relative touch-target",title:"Messages",children:a.jsx(lo,{className:"h-5 w-5 lg:h-6 lg:w-6"})}),o?a.jsx(we,{to:"/profile",className:"p-2 lg:p-2.5 rounded-lg text-grey-700 hover:text-primary hover:bg-primary-50 transition-all touch-target",title:"Mon profil",children:a.jsx(zr,{className:"h-5 w-5 lg:h-6 lg:w-6"})}):a.jsx(we,{to:"/login",className:"btn-outline py-2 px-3 lg:py-2 lg:px-4 ml-2 text-xs lg:text-sm",children:"Connexion"}),a.jsx(we,{to:"/create-listing",className:"btn-primary py-2 lg:py-2.5 px-3 lg:px-4 ml-2 font-semibold text-xs lg:text-sm",children:"Vendre"})]}),a.jsx("button",{className:"md:hidden p-2 rounded-full bg-white/80 shadow-md text-grey-700 hover:bg-primary-50 transition-colors touch-target flex-shrink-0 ml-2",onClick:d,"aria-label":t?"Fermer le menu":"Ouvrir le menu",children:a.jsx(GT,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"mt-2 md:hidden",children:a.jsxs("form",{onSubmit:c,className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Rechercher un produit...",className:"w-full py-2.5 pl-9 pr-3 rounded-lg border border-grey-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white/80 focus:bg-white transition-all text-sm shadow-sm",value:r,onChange:f=>s(f.target.value)}),a.jsx(Fa,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-grey-400"}),a.jsx("button",{type:"submit",className:"absolute right-1.5 top-1 bg-primary text-white py-1.5 px-3 rounded-md hover:bg-primary-600 transition-colors text-xs font-medium",children:"Rechercher"})]})})]}),t&&a.jsx(eA,{onClose:d})]})},nA=()=>a.jsx("footer",{className:"bg-gradient-to-br from-grey-900 to-grey-800 text-white mt-auto",children:a.jsxs("div",{className:"container-custom py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-1",children:[a.jsxs(we,{to:"/",className:"flex items-center mb-4",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-primary to-primary-600 rounded-xl flex items-center justify-center mr-3",children:a.jsx(Ya,{className:"h-6 w-6 text-white"})}),a.jsx("span",{className:"text-2xl font-bold",children:"DaloaMarket"})]}),a.jsx("p",{className:"text-grey-300 leading-relaxed mb-4",children:"La premire marketplace P2P de Daloa. Achetez et vendez facilement depuis chez vous."}),a.jsxs("div",{className:"flex items-center text-sm text-grey-400",children:[a.jsx(tc,{className:"h-4 w-4 mr-2 text-primary"}),"Fait  Daloa pour Daloa"]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("h3",{className:"text-lg font-semibold mb-6 text-primary-100",children:"Liens rapides"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(we,{to:"/",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Accueil"})})}),a.jsx("li",{children:a.jsx(we,{to:"/search",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Rechercher"})})}),a.jsx("li",{children:a.jsx(we,{to:"/create-listing",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Vendre un article"})})}),a.jsx("li",{children:a.jsx(we,{to:"/profile",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Mon compte"})})})]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("h3",{className:"text-lg font-semibold mb-6 text-primary-100",children:"Catgories"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(we,{to:"/search?category=fashion",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Mode & Accessoires"})})}),a.jsx("li",{children:a.jsx(we,{to:"/search?category=electronics",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"lectronique"})})}),a.jsx("li",{children:a.jsx(we,{to:"/search?category=home",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Maison & Jardin"})})}),a.jsx("li",{children:a.jsx(we,{to:"/search?category=vehicles",className:"text-grey-300 hover:text-primary transition-colors flex items-center group",children:a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Auto & Moto"})})})]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("h3",{className:"text-lg font-semibold mb-6 text-primary-100",children:"Contact"}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start group",children:[a.jsx(is,{className:"h-5 w-5 text-primary mt-0.5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-grey-300 group-hover:text-white transition-colors",children:"Daloa, Cte d'Ivoire"})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx(zs,{className:"h-5 w-5 text-primary mr-3 flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("a",{href:"tel:+2250788000831",className:"text-grey-300 hover:text-primary transition-colors",children:"+225 07 88 00 08 31"}),a.jsx("a",{href:"tel:+2250555863953",className:"text-grey-300 hover:text-primary transition-colors text-sm",children:"+225 05 55 86 39 53"})]})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx(oo,{className:"h-5 w-5 text-primary mr-3 flex-shrink-0"}),a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"text-grey-300 hover:text-primary transition-colors",children:"support@daloamarket.shop"})]})]})]})]}),a.jsx("div",{className:"border-t border-grey-700 mt-12 pt-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsxs("p",{className:"text-grey-400 text-sm mb-2",children:[" ",new Date().getFullYear()," DaloaMarket. Tous droits rservs."]}),a.jsx("div",{className:"bg-gradient-to-r from-orange-500/20 to-orange-600/20 border border-orange-500/30 rounded-lg p-3",children:a.jsxs("p",{className:"text-xs text-orange-300 leading-relaxed",children:[" ",a.jsx("strong",{children:"Version Bta"})," - Projet tudiant en dveloppement. Aucune structure juridique formelle n'a encore t cre."]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-end gap-6",children:[a.jsxs(we,{to:"/terms",className:"text-grey-400 hover:text-primary text-sm transition-colors flex items-center",children:["Conditions d'utilisation",a.jsx(Ld,{className:"h-3 w-3 ml-1"})]}),a.jsxs(we,{to:"/privacy",className:"text-grey-400 hover:text-primary text-sm transition-colors flex items-center",children:["Confidentialit",a.jsx(Ld,{className:"h-3 w-3 ml-1"})]}),a.jsxs(we,{to:"/help",className:"text-grey-400 hover:text-primary text-sm transition-colors flex items-center",children:["Aide",a.jsx(Ld,{className:"h-3 w-3 ml-1"})]})]})]})})]})}),qe=({children:t})=>{const e=qt();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e.pathname]),a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(rA,{}),a.jsx("main",{className:"flex-grow",children:t}),a.jsx(nA,{})]})},Un=({children:t,requireProfile:e=!1})=>{const{user:r,isProfileComplete:s}=Et(),o=qt();return r?e&&!s?a.jsx(Rs,{to:"/complete-profile",state:{from:o},replace:!0}):a.jsx(a.Fragment,{children:t}):a.jsx(Rs,{to:"/login",state:{from:o},replace:!0})},Uf=({listingId:t,className:e="",stopPropagation:r=!1})=>{const{user:s}=Et(),o=xt(),[l,c]=_.useState(!1),[d,f]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!(s!=null&&s.id)||!rr){f(!1);return}const{data:x,error:y}=await oe.from("favorites").select("id").eq("user_id",s.id).eq("listing_id",t).maybeSingle();f(!!(!y&&x))})()},[s==null?void 0:s.id,t]);const p=async g=>{if(r&&g&&(g.preventDefault(),g.stopPropagation()),!s){o("/login",{state:{from:`/listings/${t}`}});return}if(rr){c(!0);try{if(d){const{error:x}=await oe.from("favorites").delete().eq("user_id",s.id).eq("listing_id",t);if(x)throw x;f(!1)}else{const{error:x}=await oe.from("favorites").insert({user_id:s.id,listing_id:t});if(x)throw x;f(!0)}}finally{c(!1)}}};return a.jsx("button",{type:"button","aria-label":d?"Retirer des favoris":"Ajouter aux favoris",onClick:p,disabled:l,className:`inline-flex items-center justify-center rounded-full p-2 transition-colors ${d?"bg-red-50 text-red-600 hover:bg-red-100":"bg-white/90 text-grey-700 hover:bg-white"} shadow-md border border-grey-200 ${e}`,children:a.jsx(tc,{className:`h-5 w-5 ${d?"fill-current":""}`})})};function mw(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=mw(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function sA(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=mw(t))&&(s&&(s+=" "),s+=e);return s}const $f="-",iA=t=>{const e=oA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const d=c.split($f);return d[0]===""&&d.length!==1&&d.shift(),gw(d,e)||aA(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},gw=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),o=s?gw(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join($f);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Vv=/^\[(.+)\]$/,aA=t=>{if(Vv.test(t)){const e=Vv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},oA=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return cA(Object.entries(t.classGroups),r).forEach(([l,c])=>{Th(c,s,l,e)}),s},Th=(t,e,r,s)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Uv(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(lA(o)){Th(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{Th(c,Uv(e,l),r,s)})})},Uv=(t,e)=>{let r=t;return e.split($f).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},lA=t=>t.isThemeGetter,cA=(t,e)=>e?t.map(([r,s])=>{const o=s.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[e+c,d])):l);return[r,o]}):t,uA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const o=(l,c)=>{r.set(l,c),e++,e>t&&(e=0,s=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},xw="!",dA=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,o=e[0],l=e.length,c=d=>{const f=[];let p=0,g=0,x;for(let j=0;j<d.length;j++){let A=d[j];if(p===0){if(A===o&&(s||d.slice(j,j+l)===e)){f.push(d.slice(g,j)),g=j+l;continue}if(A==="/"){x=j;continue}}A==="["?p++:A==="]"&&p--}const y=f.length===0?d:d.substring(g),b=y.startsWith(xw),S=b?y.substring(1):y,N=x&&x>g?x-g:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:N}};return r?d=>r({className:d,parseClassName:c}):c},hA=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},fA=t=>({cache:uA(t.cacheSize),parseClassName:dA(t),...iA(t)}),pA=/\s+/,mA=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=e,l=[],c=t.trim().split(pA);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{modifiers:g,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}=r(p);let S=!!b,N=s(S?y.substring(0,b):y);if(!N){if(!S){d=p+(d.length>0?" "+d:d);continue}if(N=s(y),!N){d=p+(d.length>0?" "+d:d);continue}S=!1}const j=hA(g).join(":"),A=x?j+xw:j,C=A+N;if(l.includes(C))continue;l.push(C);const k=o(N,S);for(let L=0;L<k.length;++L){const R=k[L];l.push(A+R)}d=p+(d.length>0?" "+d:d)}return d};function gA(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=vw(e))&&(s&&(s+=" "),s+=r);return s}const vw=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=vw(t[s]))&&(r&&(r+=" "),r+=e);return r};function xA(t,...e){let r,s,o,l=c;function c(f){const p=e.reduce((g,x)=>x(g),t());return r=fA(p),s=r.cache.get,o=r.cache.set,l=d,d(f)}function d(f){const p=s(f);if(p)return p;const g=mA(f,r);return o(f,g),g}return function(){return l(gA.apply(null,arguments))}}const Je=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},yw=/^\[(?:([a-z-]+):)?(.+)\]$/i,vA=/^\d+\/\d+$/,yA=new Set(["px","full","screen"]),bA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_A=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fn=t=>Ni(t)||yA.has(t)||vA.test(t),$n=t=>Fi(t,"length",RA),Ni=t=>!!t&&!Number.isNaN(Number(t)),Id=t=>Fi(t,"number",Ni),Na=t=>!!t&&Number.isInteger(Number(t)),SA=t=>t.endsWith("%")&&Ni(t.slice(0,-1)),Ie=t=>yw.test(t),Bn=t=>bA.test(t),NA=new Set(["length","size","percentage"]),EA=t=>Fi(t,NA,bw),CA=t=>Fi(t,"position",bw),PA=new Set(["image","url"]),TA=t=>Fi(t,PA,DA),AA=t=>Fi(t,"",OA),Ea=()=>!0,Fi=(t,e,r)=>{const s=yw.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},RA=t=>wA.test(t)&&!jA.test(t),bw=()=>!1,OA=t=>_A.test(t),DA=t=>kA.test(t),LA=()=>{const t=Je("colors"),e=Je("spacing"),r=Je("blur"),s=Je("brightness"),o=Je("borderColor"),l=Je("borderRadius"),c=Je("borderSpacing"),d=Je("borderWidth"),f=Je("contrast"),p=Je("grayscale"),g=Je("hueRotate"),x=Je("invert"),y=Je("gap"),b=Je("gradientColorStops"),S=Je("gradientColorStopPositions"),N=Je("inset"),j=Je("margin"),A=Je("opacity"),C=Je("padding"),k=Je("saturate"),L=Je("scale"),R=Je("sepia"),D=Je("skew"),z=Je("space"),H=Je("translate"),Z=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],ge=()=>["auto",Ie,e],ee=()=>[Ie,e],he=()=>["",fn,$n],le=()=>["auto",Ni,Ie],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ie],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Ni,Ie];return{cacheSize:500,separator:":",theme:{colors:[Ea],spacing:[fn,$n],blur:["none","",Bn,Ie],brightness:E(),borderColor:[t],borderRadius:["none","","full",Bn,Ie],borderSpacing:ee(),borderWidth:he(),contrast:E(),grayscale:M(),hueRotate:E(),invert:M(),gap:ee(),gradientColorStops:[t],gradientColorStopPositions:[SA,$n],inset:ge(),margin:ge(),opacity:E(),padding:ee(),saturate:E(),scale:E(),sepia:M(),skew:E(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),Ie]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Na,Ie]}],basis:[{basis:ge()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Na,Ie]}],"grid-cols":[{"grid-cols":[Ea]}],"col-start-end":[{col:["auto",{span:["full",Na,Ie]},Ie]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Ea]}],"row-start-end":[{row:["auto",{span:[Na,Ie]},Ie]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,$n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Id]}],"font-family":[{font:[Ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Ni,Id]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fn,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fn,$n]}],"underline-offset":[{"underline-offset":["auto",fn,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),CA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:_e()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[fn,Ie]}],"outline-w":[{outline:[fn,$n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[fn,$n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bn,AA]}],"shadow-color":[{shadow:[Ea]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Bn,Ie]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[k]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Na,Ie]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fn,$n,Id]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IA=xA(LA);function MA(...t){return IA(sA(t))}const Zn=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),es=t=>{const e=new Date(t);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric"}).format(e)},FA=t=>{if(!t)return"";const e=t.replace(/\D/g,"");return e.startsWith("225")&&e.length===13?`+${e.slice(0,3)} ${e.slice(3,5)} ${e.slice(5,8)} ${e.slice(8,10)} ${e.slice(10)}`:e.length===10?`+225 ${e.slice(0,2)} ${e.slice(2,5)} ${e.slice(5,7)} ${e.slice(7)}`:t},ww=t=>{const e=t.replace(/\D/g,"");return e.startsWith("225")?e.length===13:e.length===10},zA=t=>({new:"Neuf",like_new:"Trs bon tat",good:"Bon tat",used:"Usag"})[t]||t,VA=t=>({fashion:"Mode & Accessoires",electronics:"lectronique & High-tech",home:"Maison & Jardin",vehicles:"Auto & Moto",sports:"Sports & Loisirs",books:"Livres & Culture"})[t]||t,yc=["Abattoir 1","Abattoir 2 (Sud B)","Aviation","Baoul","Belleville","Bribouo","CAFOP","Commerce","Dalolabia","Dioulabougou","Gbeuliville","Gbokora","Gbobl","Huberson","Kennedy 1","Kennedy 2","Kirman","Lobia","Marais","Orly 1","Piscine","Sapia","Soleil 1","Soleil 2","Sud A","Tagoura","Tazibouo","Tazibouo Piscine","Zakoua"],Za=[{id:"fashion",label:"Mode & Accessoires"},{id:"electronics",label:"lectronique & High-tech"},{id:"home",label:"Maison & Jardin"},{id:"vehicles",label:"Auto & Moto"},{id:"sports",label:"Sports & Loisirs"},{id:"books",label:"Livres & Culture"}],Ah=[{id:"new",label:"Neuf"},{id:"like_new",label:"Trs bon tat"},{id:"good",label:"Bon tat"},{id:"used",label:"Usag"}],UA=({listing:t,onPress:e,sellerName:r,sellerRating:s})=>{const o=t.photos&&t.photos.length>0?t.photos[0]:"https://images.pexels.com/photos/4386321/pexels-photo-4386321.jpeg?auto=compress&cs=tinysrgb&w=400",l=t.boosted_until&&new Date(t.boosted_until)>new Date,c=pb(),[d,f]=_.useState(!1),p=()=>a.jsxs("article",{className:"group bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-sm overflow-hidden border border-grey-100",role:"article",children:[a.jsxs("div",{className:"relative aspect-[4/3] md:aspect-square overflow-hidden bg-grey-100",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-grey-200 to-grey-100 ${d?"opacity-0":"opacity-100"} ${c?"":"animate-pulse"} transition-opacity duration-300`,"aria-hidden":"true"}),a.jsx("img",{src:o,alt:t.title,loading:"lazy",decoding:"async",onLoad:()=>f(!0),className:`w-full h-full object-cover ${d?"opacity-100":"opacity-0"} group-hover:scale-105 transition-all duration-300 will-change-transform`}),l&&a.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-primary to-primary-600 text-white text-xs font-bold px-2 py-0.5 rounded-full flex items-center shadow-md",children:[a.jsx(pw,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Sponsoris"}),a.jsx("span",{className:"sm:hidden",children:"Boost"})]}),t.status==="sold"&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"bg-error-600 text-white px-3 py-1 rounded-full font-bold text-xs",children:"VENDU"})}),t.photos&&t.photos.length>1&&a.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-0.5 rounded-full",children:t.photos.length}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx(Uf,{listingId:t.id,stopPropagation:!0})})]}),a.jsxs("div",{className:"p-3 sm:p-3 lg:p-4 space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"font-semibold text-grey-900 line-clamp-2 text-sm md:text-base leading-tight group-hover:text-primary transition-colors",children:t.title}),a.jsx("p",{className:"text-lg sm:text-xl font-bold text-primary",children:Zn(t.price)})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-grey-600",children:[a.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx(is,{className:"h-3 w-3 mr-1 text-grey-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t.district})]}),a.jsxs("div",{className:"flex items-center ml-2 flex-shrink-0",children:[a.jsx(Vf,{className:"h-3 w-3 mr-1 text-grey-400"}),a.jsx("span",{className:"text-xs",children:es(t.created_at)})]})]}),r&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-grey-100",children:[a.jsx("span",{className:"text-xs text-grey-800 font-semibold truncate flex-1",title:`Voir l'annonce de ${r}`,children:r}),s&&a.jsxs("div",{className:"flex items-center ml-2 flex-shrink-0",children:[a.jsx(Jr,{className:"h-3 w-3 text-primary"}),a.jsx("span",{className:"text-xs font-medium ml-0.5",children:s.toFixed(1)})]}),a.jsx("div",{className:"ml-3 flex-shrink-0",children:a.jsxs("span",{className:"inline-flex items-center justify-center w-11 h-11 rounded-full bg-primary text-white shadow-md",children:[a.jsx(zf,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Voir l'annonce"})]})})]})]})]}),g="w-full block text-left rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40";return e?a.jsx("button",{type:"button",onClick:e,className:`${g} active:scale-98`,"aria-label":`Ouvrir l'annonce ${t.title}`,children:a.jsx(Qe.div,{whileHover:c?void 0:{y:-6,scale:1.02},whileTap:c?void 0:{scale:.985},transition:{type:"spring",stiffness:260,damping:20},children:a.jsx(p,{})})}):a.jsx(we,{to:`/listings/${t.id}`,className:`${g} ${c?"":"hover:shadow-lg"}`,"aria-label":`Voir ${t.title}  ${Zn(t.price)}`,children:a.jsx(Qe.div,{whileHover:c?void 0:{y:-6,scale:1.02},whileTap:c?void 0:{scale:.985},transition:{type:"spring",stiffness:260,damping:20},children:a.jsx(p,{})})})},$A={small:"h-4 w-4",medium:"h-6 w-6",large:"h-12 w-12"},BA={primary:"text-primary",white:"text-white",grey:"text-grey-400"},rt=({size:t="medium",color:e="primary",className:r})=>a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(KT,{className:MA("animate-spin",$A[t],BA[e],r)})}),qA=()=>{const[t,e]=_.useState([]),[r,s]=_.useState(!0),{user:o,isProfileComplete:l}=Et(),[c,d]=_.useState(null);return _.useEffect(()=>{(async()=>{if(!rr){s(!1);return}try{const{data:p,error:g}=await oe.from("listings").select(`
            *,
            users:user_id (
              full_name,
              rating
            )
          `).eq("status","active").order("created_at",{ascending:!1}).limit(8);if(g)throw g;const x=p.map(y=>{var b,S;return{...y,seller_name:((b=y.users)==null?void 0:b.full_name)||"Utilisateur",seller_rating:((S=y.users)==null?void 0:S.rating)||null}});e(x)}catch(p){console.error("Error fetching listings:",p)}finally{s(!1)}})()},[]),_.useEffect(()=>{(async()=>{if(!(o!=null&&o.id)||!rr){d(null);return}const{data:p,error:g}=await oe.from("user_credits").select("credits").eq("user_id",o.id).single();d(g?null:(p==null?void 0:p.credits)??0)})()},[o]),_.useEffect(()=>{localStorage.getItem("credit_purchase_pending")&&(ne.success("Crdits ajouts  votre compte !"),localStorage.removeItem("credit_purchase_pending"))},[]),rr?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100 text-base",children:[a.jsxs(Qe.section,{className:"relative overflow-hidden bg-gradient-to-br from-primary-600 via-primary to-primary-400 py-8 px-2 sm:py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"relative section-padding",children:a.jsxs("div",{className:"responsive-container text-center",children:[a.jsxs(Qe.h1,{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-extrabold text-white mb-4 sm:mb-6 lg:mb-8 leading-tight",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},children:["Achetez et vendez",a.jsx(Qe.span,{className:"block text-primary-100",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},children:" Daloa"})]}),a.jsx(Qe.p,{className:"text-white text-base sm:text-lg lg:text-xl opacity-95 mb-6 sm:mb-8 lg:mb-10 leading-relaxed px-2",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.6},children:"La premire marketplace P2P de Daloa. Achetez et vendez simplement, sans boost ni paiement automatique. Les crdits servent uniquement  publier des annonces."}),o&&!l&&a.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-8 p-2.5 sm:p-3 lg:p-4 bg-warning-100 border border-warning-300 rounded-lg lg:rounded-xl max-w-xs sm:max-w-sm mx-auto",children:[a.jsx("p",{className:"text-warning-800 font-medium mb-2 text-base sm:text-lg lg:text-xl",children:"Profil incomplet"}),a.jsx(we,{to:"/complete-profile",className:"btn-primary bg-warning-600 hover:bg-warning-700 border-warning-600 text-base sm:text-lg lg:text-xl py-2 lg:py-3",children:"Complter mon profil"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 lg:gap-6 justify-center max-w-xs sm:max-w-md mx-auto",children:[a.jsx(we,{to:"/search",className:"btn-secondary bg-white text-primary hover:bg-grey-100 flex-1 py-3 sm:py-4 lg:py-5 text-base sm:text-lg lg:text-xl font-semibold",children:"Parcourir"}),a.jsx(we,{to:"/create-listing",className:"btn-primary bg-secondary hover:bg-secondary-600 flex-1 py-3 sm:py-4 lg:py-5 text-base sm:text-lg lg:text-xl font-semibold",children:"Vendre"})]})]})}),a.jsx("div",{className:"absolute top-5 left-5 w-8 h-8 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-white opacity-10 rounded-full"}),a.jsx("div",{className:"absolute bottom-5 right-5 w-12 h-12 sm:w-16 sm:h-16 lg:w-24 lg:h-24 bg-white opacity-5 rounded-full"}),a.jsx("div",{className:"absolute top-1/2 left-1/4 w-6 h-6 sm:w-8 sm:h-8 lg:w-12 lg:h-12 bg-white opacity-10 rounded-full"})]}),a.jsx("section",{className:"section-padding pt-8 pb-8",children:a.jsx("div",{className:"responsive-container",children:a.jsxs(Qe.div,{className:"grid grid-cols-3 gap-2 sm:gap-3 lg:gap-4 max-w-2xl mx-auto",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,staggerChildren:.2},viewport:{once:!0},children:[a.jsxs(Qe.div,{className:"text-center bg-white rounded-lg shadow-sm p-2 sm:p-3 lg:p-4 border border-grey-100 flex flex-col items-center",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.5},viewport:{once:!0},children:[a.jsx("div",{className:"w-7 h-7 sm:w-9 sm:h-9 lg:w-10 lg:h-10 bg-primary-100 rounded-lg flex items-center justify-center mb-1",children:a.jsx(YT,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-primary"})}),a.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-grey-900 mb-0.5",children:"500+"}),a.jsx("p",{className:"text-grey-600 text-xs sm:text-sm lg:text-base leading-tight",children:"Annonces publies"})]}),a.jsxs(Qe.div,{className:"text-center bg-white rounded-lg shadow-sm p-2 sm:p-3 lg:p-4 border border-grey-100 flex flex-col items-center",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.5,delay:.1},viewport:{once:!0},children:[a.jsx("div",{className:"w-7 h-7 sm:w-9 sm:h-9 lg:w-10 lg:h-10 bg-secondary-100 rounded-lg flex items-center justify-center mb-1",children:a.jsx(ZT,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-secondary"})}),a.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-grey-900 mb-0.5",children:"200+"}),a.jsx("p",{className:"text-grey-600 text-xs sm:text-sm lg:text-base leading-tight",children:"Utilisateurs actifs"})]}),a.jsxs(Qe.div,{className:"text-center bg-white rounded-lg shadow-sm p-2 sm:p-3 lg:p-4 border border-grey-100 flex flex-col items-center",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[a.jsx("div",{className:"w-7 h-7 sm:w-9 sm:h-9 lg:w-10 lg:h-10 bg-success-100 rounded-lg flex items-center justify-center mb-1",children:a.jsx(QT,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-success"})}),a.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-grey-900 mb-0.5",children:"100%"}),a.jsx("p",{className:"text-grey-600 text-xs sm:text-sm lg:text-base leading-tight",children:"Transactions scurises"})]})]})})}),a.jsx("section",{className:"section-padding bg-white",children:a.jsxs("div",{className:"responsive-container",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8 lg:mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-grey-900 mb-3 sm:mb-4 lg:mb-6",children:"Explorez par catgorie"}),a.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-grey-600",children:"Trouvez exactement ce que vous cherchez"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:Za.map(f=>a.jsxs(we,{to:`/search?category=${f.id}`,className:"group bg-gradient-to-br from-grey-50 to-white rounded-lg lg:rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 p-3 sm:p-4 lg:p-6 text-center border border-grey-100 hover:border-primary-200 transform hover:-translate-y-1",children:[a.jsx("div",{className:"h-8 w-8 sm:h-12 sm:w-12 lg:h-16 lg:w-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg lg:rounded-xl flex items-center justify-center mx-auto mb-2 sm:mb-3 lg:mb-4 group-hover:scale-110 transition-transform",children:a.jsx(Ya,{className:"h-4 w-4 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-primary"})}),a.jsx("h3",{className:"font-semibold text-grey-900 text-xs sm:text-sm lg:text-base leading-tight group-hover:text-primary transition-colors",children:f.label})]},f.id))})]})}),a.jsx("section",{className:"section-padding bg-gradient-to-br from-grey-50 to-grey-100",children:a.jsxs("div",{className:"responsive-container",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 lg:mb-12 gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-grey-900 mb-1 sm:mb-2",children:"Dernires annonces"}),a.jsx("p",{className:"text-sm sm:text-lg lg:text-xl text-grey-600",children:"Dcouvrez les nouveauts"})]}),a.jsxs(we,{to:"/search",className:"text-primary font-semibold flex items-center hover:text-primary-700 transition-colors text-sm sm:text-base lg:text-lg flex-shrink-0",children:["Voir tout",a.jsx(zf,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 ml-1 sm:ml-2"})]})]}),r?a.jsx("div",{className:"flex justify-center py-12 sm:py-16 lg:py-20",children:a.jsx(rt,{size:"large"})}):t.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:t.map(f=>a.jsx(UA,{listing:f,sellerName:f.seller_name,sellerRating:f.seller_rating},f.id))}):a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-xl p-6 sm:p-8 lg:p-12 text-center max-w-xl mx-auto",children:[a.jsx(Ya,{className:"h-12 w-12 sm:h-16 sm:w-16 lg:h-20 lg:w-20 text-primary mx-auto mb-3 sm:mb-4 lg:mb-6"}),a.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold mb-2 sm:mb-3 lg:mb-4",children:"Aucune annonce pour le moment"}),a.jsx("p",{className:"text-grey-600 mb-4 sm:mb-6 lg:mb-8 text-sm sm:text-base lg:text-lg",children:"Aucune annonce n'est encore en ligne. Publiez la vtre, le paiement se fait dsormais manuellement aprs cration."}),a.jsx(we,{to:"/create-listing",className:"btn-primary text-sm sm:text-base lg:text-lg px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4",children:"Publier une annonce"})]})]})}),a.jsx("section",{className:"section-padding bg-white",children:a.jsxs("div",{className:"responsive-container text-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-grey-900 mb-2 sm:mb-3 lg:mb-4",children:"Nouveau sur DaloaMarket ?"}),a.jsx("p",{className:"text-sm sm:text-lg lg:text-xl text-grey-600 mb-4",children:"Dcouvrez le fonctionnement de la plateforme en dtail."}),a.jsx(we,{to:"/how-it-works",className:"btn-primary text-base sm:text-lg px-6 py-3",children:"Voir comment a marche"})]})}),a.jsxs("section",{className:"section-padding bg-gradient-to-r from-secondary via-secondary-600 to-secondary-700 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsxs("div",{className:"relative responsive-container text-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-4xl font-bold text-white mb-3 sm:mb-4 lg:mb-6",children:"Prt  vendre vos articles ?"}),a.jsx("p",{className:"text-white opacity-95 mb-6 sm:mb-8 lg:mb-10 text-sm sm:text-base lg:text-lg leading-relaxed",children:"Rejoignez DaloaMarket et commencez  vendre ds aujourd'hui !"}),a.jsx(we,{to:"/create-listing",className:"btn-primary bg-white text-secondary hover:bg-grey-100 text-sm sm:text-base lg:text-lg px-4 sm:px-6 lg:px-8 py-2.5 sm:py-3 lg:py-4 font-semibold",children:"Publier une annonce"})]})]}),o&&a.jsx("div",{className:"fixed bottom-3 right-3 sm:bottom-4 sm:right-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-lg px-3 sm:px-4 lg:px-6 py-2 sm:py-2.5 lg:py-3 flex items-center gap-1.5 sm:gap-2 lg:gap-3 border border-primary-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 lg:w-3 lg:h-3 bg-primary rounded-full animate-pulse"}),a.jsx("span",{className:"font-semibold text-grey-700 text-xs sm:text-sm lg:text-base",children:"Crdits:"}),a.jsx("span",{className:"text-sm sm:text-lg lg:text-xl font-bold text-primary",children:c!==null?c:a.jsx(rt,{size:"small"})}),a.jsx(we,{to:"/acheter-credits",className:"btn-primary py-1 sm:py-1.5 lg:py-2 px-2 sm:px-3 lg:px-4 text-xs lg:text-sm ml-1",children:"Acheter"})]})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:a.jsx("section",{className:"section-padding",children:a.jsx("div",{className:"responsive-container",children:a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-xl p-4 sm:p-6 lg:p-8 border border-warning-200",children:[a.jsx(ze,{className:"h-12 w-12 sm:h-16 sm:w-16 lg:h-20 lg:w-20 text-warning-600 mx-auto mb-3 sm:mb-4 lg:mb-6"}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-warning-800 mb-2 sm:mb-3 lg:mb-4",children:"Configuration Required"}),a.jsx("p",{className:"text-warning-700 mb-4 sm:mb-6 lg:mb-8 text-sm sm:text-base lg:text-lg",children:"To use DaloaMarket, you need to configure your Supabase database connection."}),a.jsxs("div",{className:"bg-grey-50 rounded-lg lg:rounded-xl p-3 sm:p-4 lg:p-6 text-left",children:[a.jsx("h3",{className:"font-semibold mb-2 sm:mb-3 lg:mb-4 text-sm sm:text-base lg:text-lg",children:"Setup Instructions:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 sm:space-y-2 lg:space-y-3 text-xs sm:text-sm lg:text-base",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline font-medium",children:"supabase.com"})," and create a new project"]}),a.jsx("li",{children:"In your Supabase dashboard, go to Settings  API"}),a.jsx("li",{children:"Copy your Project URL and anon/public key"}),a.jsx("li",{children:"Update the .env file with your actual credentials"}),a.jsx("li",{children:"Restart your development server"})]})]})]})})})})},WA=()=>a.jsx("div",{className:"min-h-screen bg-grey-50 py-10",children:a.jsxs("div",{className:"container-custom max-w-2xl bg-white rounded-card shadow-card p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:" propos de Daloa Market"}),a.jsxs("p",{className:"mb-4",children:[a.jsx("strong",{children:"Daloa Market"})," est une plateforme locale permettant aux habitants de Daloa, notamment les tudiants, de vendre et dacheter facilement des objets doccasion entre eux.",a.jsx("br",{}),"Le projet est actuellement en ",a.jsx("span",{className:"text-orange-600 font-semibold",children:"phase de test (bta)"}),"  luniversit de Daloa, avant un lancement officiel plus large.",a.jsx("br",{}),a.jsx("span",{className:"font-semibold",children:"Il n'y a plus de systme de boost ni de paiement automatique."})," Toutes les publications d'annonces se font par crdit ou paiement manuel  l'unit (200 FCFA/annonce)."]}),a.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border-l-4 border-orange-500 text-orange-800 rounded",children:[" ",a.jsx("strong",{children:"Phase de test"})," : la plateforme volue rapidement grce  vos retours. Certaines fonctionnalits ou conditions peuvent changer sans pravis.",a.jsx("br",{}),a.jsx("strong",{children:"Aucune structure juridique formelle nest encore cre."})," Lactivit reste  petite chelle et sadapte selon les retours des utilisateurs."]}),a.jsxs("div",{className:"mb-8 text-sm text-grey-600",children:["Pour toute question sur la confidentialit, les conditions ou le fonctionnement, consultez aussi les pages ",a.jsx("a",{href:"/faq",className:"text-primary underline",children:"FAQ"}),", ",a.jsx("a",{href:"/help",className:"text-primary underline",children:"Aide"}),", ",a.jsx("a",{href:"/terms",className:"text-primary underline",children:"Conditions"})," et ",a.jsx("a",{href:"/privacy",className:"text-primary underline",children:"Confidentialit"}),".",a.jsx("br",{}),a.jsx("span",{className:"font-semibold",children:"Contact officiel :"})," ",a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"text-primary underline",children:"support@daloamarket.shop"})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("a",{href:"https://wa.me/2250788000831",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 14.487c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.198.297-.767.967-.94 1.165-.173.198-.347.223-.644.075-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.52-.075-.149-.669-1.612-.916-2.21-.242-.58-.487-.501-.67-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.21 5.077 4.377.71.306 1.263.489 1.695.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.288.173-1.413-.074-.124-.272-.198-.57-.347z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12c0-4.97-4.03-9-9-9s-9 4.03-9 9c0 1.591.418 3.086 1.144 4.375L3 21l4.755-1.244A8.963 8.963 0 0012 21c4.97 0 9-4.03 9-9z"})]}),"Contacter le support WhatsApp"]})}),a.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:" propos du crateur"}),a.jsxs("p",{className:"mb-4",children:["Je m'appelle Elmas Oulobo, tudiant en L3 conomie, passionn de programmation et de dveloppement web.",a.jsx("br",{}),"Ce projet est dvelopp sans budget, uniquement avec ma connexion et ma dtermination, pour aider la communaut locale."]}),a.jsx("p",{className:"mb-8",children:"Merci  tous ceux qui soutiennent cette initiative locale "}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-8 text-center",children:[a.jsx("p",{className:"font-bold text-lg mb-2",children:" Soutenir Daloa Market"}),a.jsx("p",{className:"mb-2 text-sm",children:"Aidez  faire voluer ce projet local dvelopp avec 0 budget !"}),a.jsxs("p",{className:"mb-2",children:["Envoyez un petit geste via Orange Money/Wave au ",a.jsx("strong",{children:"+225 07 88 00 08 31"})," ou MTN ",a.jsx("strong",{children:"05 55 86 39 53"}),"."]}),a.jsx("p",{className:"text-sm",children:"Merci pour votre soutien "})]})]})});var co=t=>t.type==="checkbox",Is=t=>t instanceof Date,nr=t=>t==null;const jw=t=>typeof t=="object";var _t=t=>!nr(t)&&!Array.isArray(t)&&jw(t)&&!Is(t),HA=t=>_t(t)&&t.target?co(t.target)?t.target.checked:t.target.value:t,KA=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,GA=(t,e)=>t.has(KA(e)),XA=t=>{const e=t.constructor&&t.constructor.prototype;return _t(e)&&e.hasOwnProperty("isPrototypeOf")},Bf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rt(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Bf&&(t instanceof Blob||s))&&(r||_t(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!XA(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=Rt(t[o]));else return t;return e}var bc=t=>/^\w*$/.test(t),mt=t=>t===void 0,qf=t=>Array.isArray(t)?t.filter(Boolean):[],Wf=t=>qf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(t,e,r)=>{if(!e||!_t(t))return r;const s=(bc(e)?[e]:Wf(e)).reduce((o,l)=>nr(o)?o:o[l],t);return mt(s)||s===t?mt(t[e])?r:t[e]:s},Xr=t=>typeof t=="boolean",et=(t,e,r)=>{let s=-1;const o=bc(e)?[e]:Wf(e),l=o.length,c=l-1;for(;++s<l;){const d=o[s];let f=r;if(s!==c){const p=t[d];f=_t(p)||Array.isArray(p)?p:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const $v={BLUR:"blur",FOCUS_OUT:"focusout"},Mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},JA=ct.createContext(null);JA.displayName="HookFormContext";var QA=(t,e,r,s=!0)=>{const o={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Mr.all&&(e._proxyFormState[c]=!s||Mr.all),t[c]}});return o};const YA=typeof window<"u"?ct.useLayoutEffect:ct.useEffect;var dr=t=>typeof t=="string",ZA=(t,e,r,s,o)=>dr(t)?(s&&e.watch.add(t),ve(r,t,o)):Array.isArray(t)?t.map(l=>(s&&e.watch.add(l),ve(r,l))):(s&&(e.watchAll=!0),r),Rh=t=>nr(t)||!jw(t);function Kn(t,e,r=new WeakSet){if(Rh(t)||Rh(e))return Object.is(t,e);if(Is(t)&&Is(e))return t.getTime()===e.getTime();const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const l of s){const c=t[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Is(c)&&Is(d)||_t(c)&&_t(d)||Array.isArray(c)&&Array.isArray(d)?!Kn(c,d,r):!Object.is(c,d))return!1}}return!0}var eR=(t,e,r,s,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:o||!0}}:{},za=t=>Array.isArray(t)?t:[t],Bv=()=>{let t=[];return{get observers(){return t},next:o=>{for(const l of t)l.next&&l.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(l=>l!==o)}}),unsubscribe:()=>{t=[]}}};function _w(t,e){const r={};for(const s in t)if(t.hasOwnProperty(s)){const o=t[s],l=e[s];if(o&&_t(o)&&l){const c=_w(o,l);_t(c)&&(r[s]=c)}else t[s]&&(r[s]=l)}return r}var Gt=t=>_t(t)&&!Object.keys(t).length,Hf=t=>t.type==="file",Fr=t=>typeof t=="function",rc=t=>{if(!Bf)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kw=t=>t.type==="select-multiple",Kf=t=>t.type==="radio",tR=t=>Kf(t)||co(t),Md=t=>rc(t)&&t.isConnected;function rR(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=mt(t)?s++:t[e[s++]];return t}function nR(t){for(const e in t)if(t.hasOwnProperty(e)&&!mt(t[e]))return!1;return!0}function bt(t,e){const r=Array.isArray(e)?e:bc(e)?[e]:Wf(e),s=r.length===1?t:rR(t,r),o=r.length-1,l=r[o];return s&&delete s[l],o!==0&&(_t(s)&&Gt(s)||Array.isArray(s)&&nR(s))&&bt(t,r.slice(0,-1)),t}var sR=t=>{for(const e in t)if(Fr(t[e]))return!0;return!1};function Sw(t){return Array.isArray(t)||_t(t)&&!sR(t)}function Oh(t,e={}){for(const r in t){const s=t[r];Sw(s)?(e[r]=Array.isArray(s)?[]:{},Oh(s,e[r])):mt(s)||(e[r]=!0)}return e}function vi(t,e,r){r||(r=Oh(e));for(const s in t){const o=t[s];if(Sw(o))mt(e)||Rh(r[s])?r[s]=Oh(o,Array.isArray(o)?[]:{}):vi(o,nr(e)?{}:e[s],r[s]);else{const l=e[s];r[s]=!Kn(o,l)}}return r}const qv={value:!1,isValid:!1},Wv={value:!0,isValid:!0};var Nw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!mt(t[0].attributes.value)?mt(t[0].value)||t[0].value===""?Wv:{value:t[0].value,isValid:!0}:Wv:qv}return qv},Ew=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>mt(t)?t:e?t===""?NaN:t&&+t:r&&dr(t)?new Date(t):s?s(t):t;const Hv={isValid:!1,value:null};var Cw=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Hv):Hv;function Kv(t){const e=t.ref;return Hf(e)?e.files:Kf(e)?Cw(t.refs).value:kw(e)?[...e.selectedOptions].map(({value:r})=>r):co(e)?Nw(t.refs).value:Ew(mt(e.value)?t.ref.value:e.value,t)}var iR=(t,e,r,s)=>{const o={};for(const l of t){const c=ve(e,l);c&&et(o,l,c._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:s}},nc=t=>t instanceof RegExp,Ca=t=>mt(t)?t:nc(t)?t.source:_t(t)?nc(t.value)?t.value.source:t.value:t,Gv=t=>({isOnSubmit:!t||t===Mr.onSubmit,isOnBlur:t===Mr.onBlur,isOnChange:t===Mr.onChange,isOnAll:t===Mr.all,isOnTouch:t===Mr.onTouched});const Xv="AsyncFunction";var aR=t=>!!t&&!!t.validate&&!!(Fr(t.validate)&&t.validate.constructor.name===Xv||_t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Xv)),oR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jv=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Va=(t,e,r,s)=>{for(const o of r||Object.keys(t)){const l=ve(t,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(Va(d,e))break}else if(_t(d)&&Va(d,e))break}}};function Qv(t,e,r){const s=ve(t,r);if(s||bc(r))return{error:s,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=ve(e,l),d=ve(t,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:r}}var lR=(t,e,r,s)=>{r(t);const{name:o,...l}=t;return Gt(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||Mr.all))},cR=(t,e,r)=>!t||!e||t===e||za(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),uR=(t,e,r,s,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?s.isOnBlur:o.isOnBlur)?!t:(r?s.isOnChange:o.isOnChange)?t:!0,dR=(t,e)=>!qf(ve(t,e)).length&&bt(t,e),hR=(t,e,r)=>{const s=za(ve(t,r));return et(s,"root",e[r]),et(t,r,s),t};function Yv(t,e,r="validate"){if(dr(t)||Array.isArray(t)&&t.every(dr)||Xr(t)&&!t)return{type:r,message:dr(t)?t:"",ref:e}}var mi=t=>_t(t)&&!nc(t)?t:{value:t,message:""},Zv=async(t,e,r,s,o,l)=>{const{ref:c,refs:d,required:f,maxLength:p,minLength:g,min:x,max:y,pattern:b,validate:S,name:N,valueAsNumber:j,mount:A}=t._f,C=ve(r,N);if(!A||e.has(N))return{};const k=d?d[0]:c,L=ee=>{o&&k.reportValidity&&(k.setCustomValidity(Xr(ee)?"":ee||""),k.reportValidity())},R={},D=Kf(c),z=co(c),H=D||z,Z=(j||Hf(c))&&mt(c.value)&&mt(C)||rc(c)&&c.value===""||C===""||Array.isArray(C)&&!C.length,re=eR.bind(null,N,s,R),ge=(ee,he,le,ye=pn.maxLength,_e=pn.minLength)=>{const fe=ee?he:le;R[N]={type:ee?ye:_e,message:fe,ref:c,...re(ee?ye:_e,fe)}};if(l?!Array.isArray(C)||!C.length:f&&(!H&&(Z||nr(C))||Xr(C)&&!C||z&&!Nw(d).isValid||D&&!Cw(d).isValid)){const{value:ee,message:he}=dr(f)?{value:!!f,message:f}:mi(f);if(ee&&(R[N]={type:pn.required,message:he,ref:k,...re(pn.required,he)},!s))return L(he),R}if(!Z&&(!nr(x)||!nr(y))){let ee,he;const le=mi(y),ye=mi(x);if(!nr(C)&&!isNaN(C)){const _e=c.valueAsNumber||C&&+C;nr(le.value)||(ee=_e>le.value),nr(ye.value)||(he=_e<ye.value)}else{const _e=c.valueAsDate||new Date(C),fe=P=>new Date(new Date().toDateString()+" "+P),X=c.type=="time",M=c.type=="week";dr(le.value)&&C&&(ee=X?fe(C)>fe(le.value):M?C>le.value:_e>new Date(le.value)),dr(ye.value)&&C&&(he=X?fe(C)<fe(ye.value):M?C<ye.value:_e<new Date(ye.value))}if((ee||he)&&(ge(!!ee,le.message,ye.message,pn.max,pn.min),!s))return L(R[N].message),R}if((p||g)&&!Z&&(dr(C)||l&&Array.isArray(C))){const ee=mi(p),he=mi(g),le=!nr(ee.value)&&C.length>+ee.value,ye=!nr(he.value)&&C.length<+he.value;if((le||ye)&&(ge(le,ee.message,he.message),!s))return L(R[N].message),R}if(b&&!Z&&dr(C)){const{value:ee,message:he}=mi(b);if(nc(ee)&&!C.match(ee)&&(R[N]={type:pn.pattern,message:he,ref:c,...re(pn.pattern,he)},!s))return L(he),R}if(S){if(Fr(S)){const ee=await S(C,r),he=Yv(ee,k);if(he&&(R[N]={...he,...re(pn.validate,he.message)},!s))return L(he.message),R}else if(_t(S)){let ee={};for(const he in S){if(!Gt(ee)&&!s)break;const le=Yv(await S[he](C,r),k,he);le&&(ee={...le,...re(he,le.message)},L(le.message),s&&(R[N]=ee))}if(!Gt(ee)&&(R[N]={ref:k,...ee},!s))return R}}return L(!0),R};const fR={mode:Mr.onSubmit,reValidateMode:Mr.onChange,shouldFocusError:!0};function pR(t={}){let e={...fR,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=_t(e.defaultValues)||_t(e.values)?Rt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Rt(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...g};const y={array:Bv(),state:Bv()},b=e.criteriaMode===Mr.all,S=O=>$=>{clearTimeout(p),p=setTimeout(O,$)},N=async O=>{if(!e.disabled&&(g.isValid||x.isValid||O)){const $=e.resolver?Gt((await z()).errors):await Z(s,!0);$!==r.isValid&&y.state.next({isValid:$})}},j=(O,$)=>{!e.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((O||Array.from(d.mount)).forEach(G=>{G&&($?et(r.validatingFields,G,$):bt(r.validatingFields,G))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Gt(r.validatingFields)}))},A=(O,$=[],G,ae,q=!0,K=!0)=>{if(ae&&G&&!e.disabled){if(c.action=!0,K&&Array.isArray(ve(s,O))){const se=G(ve(s,O),ae.argA,ae.argB);q&&et(s,O,se)}if(K&&Array.isArray(ve(r.errors,O))){const se=G(ve(r.errors,O),ae.argA,ae.argB);q&&et(r.errors,O,se),dR(r.errors,O)}if((g.touchedFields||x.touchedFields)&&K&&Array.isArray(ve(r.touchedFields,O))){const se=G(ve(r.touchedFields,O),ae.argA,ae.argB);q&&et(r.touchedFields,O,se)}(g.dirtyFields||x.dirtyFields)&&(r.dirtyFields=vi(o,l)),y.state.next({name:O,isDirty:ge(O,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(l,O,$)},C=(O,$)=>{et(r.errors,O,$),y.state.next({errors:r.errors})},k=O=>{r.errors=O,y.state.next({errors:r.errors,isValid:!1})},L=(O,$,G,ae)=>{const q=ve(s,O);if(q){const K=ve(l,O,mt(G)?ve(o,O):G);mt(K)||ae&&ae.defaultChecked||$?et(l,O,$?K:Kv(q._f)):le(O,K),c.mount&&!c.action&&N()}},R=(O,$,G,ae,q)=>{let K=!1,se=!1;const Ne={name:O};if(!e.disabled){if(!G||ae){(g.isDirty||x.isDirty)&&(se=r.isDirty,r.isDirty=Ne.isDirty=ge(),K=se!==Ne.isDirty);const Oe=Kn(ve(o,O),$);se=!!ve(r.dirtyFields,O),Oe?bt(r.dirtyFields,O):et(r.dirtyFields,O,!0),Ne.dirtyFields=r.dirtyFields,K=K||(g.dirtyFields||x.dirtyFields)&&se!==!Oe}if(G){const Oe=ve(r.touchedFields,O);Oe||(et(r.touchedFields,O,G),Ne.touchedFields=r.touchedFields,K=K||(g.touchedFields||x.touchedFields)&&Oe!==G)}K&&q&&y.state.next(Ne)}return K?Ne:{}},D=(O,$,G,ae)=>{const q=ve(r.errors,O),K=(g.isValid||x.isValid)&&Xr($)&&r.isValid!==$;if(e.delayError&&G?(f=S(()=>C(O,G)),f(e.delayError)):(clearTimeout(p),f=null,G?et(r.errors,O,G):bt(r.errors,O)),(G?!Kn(q,G):q)||!Gt(ae)||K){const se={...ae,...K&&Xr($)?{isValid:$}:{},errors:r.errors,name:O};r={...r,...se},y.state.next(se)}},z=async O=>{j(O,!0);const $=await e.resolver(l,e.context,iR(O||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return j(O),$},H=async O=>{const{errors:$}=await z(O);if(O)for(const G of O){const ae=ve($,G);ae?et(r.errors,G,ae):bt(r.errors,G)}else r.errors=$;return $},Z=async(O,$,G={valid:!0})=>{for(const ae in O){const q=O[ae];if(q){const{_f:K,...se}=q;if(K){const Ne=d.array.has(K.name),Oe=q._f&&aR(q._f);Oe&&g.validatingFields&&j([K.name],!0);const dt=await Zv(q,d.disabled,l,b,e.shouldUseNativeValidation&&!$,Ne);if(Oe&&g.validatingFields&&j([K.name]),dt[K.name]&&(G.valid=!1,$))break;!$&&(ve(dt,K.name)?Ne?hR(r.errors,dt,K.name):et(r.errors,K.name,dt[K.name]):bt(r.errors,K.name))}!Gt(se)&&await Z(se,$,G)}}return G.valid},re=()=>{for(const O of d.unMount){const $=ve(s,O);$&&($._f.refs?$._f.refs.every(G=>!Md(G)):!Md($._f.ref))&&De(O)}d.unMount=new Set},ge=(O,$)=>!e.disabled&&(O&&$&&et(l,O,$),!Kn(P(),o)),ee=(O,$,G)=>ZA(O,d,{...c.mount?l:mt($)?o:dr(O)?{[O]:$}:$},G,$),he=O=>qf(ve(c.mount?l:o,O,e.shouldUnregister?ve(o,O,[]):[])),le=(O,$,G={})=>{const ae=ve(s,O);let q=$;if(ae){const K=ae._f;K&&(!K.disabled&&et(l,O,Ew($,K)),q=rc(K.ref)&&nr($)?"":$,kw(K.ref)?[...K.ref.options].forEach(se=>se.selected=q.includes(se.value)):K.refs?co(K.ref)?K.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(q)?se.checked=!!q.find(Ne=>Ne===se.value):se.checked=q===se.value||!!q)}):K.refs.forEach(se=>se.checked=se.value===q):Hf(K.ref)?K.ref.value="":(K.ref.value=q,K.ref.type||y.state.next({name:O,values:Rt(l)})))}(G.shouldDirty||G.shouldTouch)&&R(O,q,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&M(O)},ye=(O,$,G)=>{for(const ae in $){if(!$.hasOwnProperty(ae))return;const q=$[ae],K=O+"."+ae,se=ve(s,K);(d.array.has(O)||_t(q)||se&&!se._f)&&!Is(q)?ye(K,q,G):le(K,q,G)}},_e=(O,$,G={})=>{const ae=ve(s,O),q=d.array.has(O),K=Rt($);et(l,O,K),q?(y.array.next({name:O,values:Rt(l)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&G.shouldDirty&&y.state.next({name:O,dirtyFields:vi(o,l),isDirty:ge(O,K)})):ae&&!ae._f&&!nr(K)?ye(O,K,G):le(O,K,G),Jv(O,d)&&y.state.next({...r,name:O}),y.state.next({name:c.mount?O:void 0,values:Rt(l)})},fe=async O=>{c.mount=!0;const $=O.target;let G=$.name,ae=!0;const q=ve(s,G),K=Oe=>{ae=Number.isNaN(Oe)||Is(Oe)&&isNaN(Oe.getTime())||Kn(Oe,ve(l,G,Oe))},se=Gv(e.mode),Ne=Gv(e.reValidateMode);if(q){let Oe,dt;const Ot=$.type?Kv(q._f):HA(O),Ct=O.type===$v.BLUR||O.type===$v.FOCUS_OUT,ls=!oR(q._f)&&!e.resolver&&!ve(r.errors,G)&&!q._f.deps||uR(Ct,ve(r.touchedFields,G),r.isSubmitted,Ne,se),Vr=Jv(G,d,Ct);et(l,G,Ot),Ct?(!$||!$.readOnly)&&(q._f.onBlur&&q._f.onBlur(O),f&&f(0)):q._f.onChange&&q._f.onChange(O);const Sr=R(G,Ot,Ct),cs=!Gt(Sr)||Vr;if(!Ct&&y.state.next({name:G,type:O.type,values:Rt(l)}),ls)return(g.isValid||x.isValid)&&(e.mode==="onBlur"?Ct&&N():Ct||N()),cs&&y.state.next({name:G,...Vr?{}:Sr});if(!Ct&&Vr&&y.state.next({...r}),e.resolver){const{errors:Ur}=await z([G]);if(K(Ot),ae){const rn=Qv(r.errors,s,G),$r=Qv(Ur,s,rn.name||G);Oe=$r.error,G=$r.name,dt=Gt(Ur)}}else j([G],!0),Oe=(await Zv(q,d.disabled,l,b,e.shouldUseNativeValidation))[G],j([G]),K(Ot),ae&&(Oe?dt=!1:(g.isValid||x.isValid)&&(dt=await Z(s,!0)));ae&&(q._f.deps&&(!Array.isArray(q._f.deps)||q._f.deps.length>0)&&M(q._f.deps),D(G,dt,Oe,Sr))}},X=(O,$)=>{if(ve(r.errors,$)&&O.focus)return O.focus(),1},M=async(O,$={})=>{let G,ae;const q=za(O);if(e.resolver){const K=await H(mt(O)?O:q);G=Gt(K),ae=O?!q.some(se=>ve(K,se)):G}else O?(ae=(await Promise.all(q.map(async K=>{const se=ve(s,K);return await Z(se&&se._f?{[K]:se}:se)}))).every(Boolean),!(!ae&&!r.isValid)&&N()):ae=G=await Z(s);return y.state.next({...!dr(O)||(g.isValid||x.isValid)&&G!==r.isValid?{}:{name:O},...e.resolver||!O?{isValid:G}:{},errors:r.errors}),$.shouldFocus&&!ae&&Va(s,X,O?q:d.mount),ae},P=(O,$)=>{let G={...c.mount?l:o};return $&&(G=_w($.dirtyFields?r.dirtyFields:r.touchedFields,G)),mt(O)?G:dr(O)?ve(G,O):O.map(ae=>ve(G,ae))},E=(O,$)=>({invalid:!!ve(($||r).errors,O),isDirty:!!ve(($||r).dirtyFields,O),error:ve(($||r).errors,O),isValidating:!!ve(r.validatingFields,O),isTouched:!!ve(($||r).touchedFields,O)}),V=O=>{O&&za(O).forEach($=>bt(r.errors,$)),y.state.next({errors:O?r.errors:{}})},ie=(O,$,G)=>{const ae=(ve(s,O,{_f:{}})._f||{}).ref,q=ve(r.errors,O)||{},{ref:K,message:se,type:Ne,...Oe}=q;et(r.errors,O,{...Oe,...$,ref:ae}),y.state.next({name:O,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&ae&&ae.focus&&ae.focus()},xe=(O,$)=>Fr(O)?y.state.subscribe({next:G=>"values"in G&&O(ee(void 0,$),G)}):ee(O,$,!0),Ae=O=>y.state.subscribe({next:$=>{cR(O.name,$.name,O.exact)&&lR($,O.formState||g,hr,O.reRenderRoot)&&O.callback({values:{...l},...r,...$,defaultValues:o})}}).unsubscribe,Se=O=>(c.mount=!0,x={...x,...O.formState},Ae({...O,formState:x})),De=(O,$={})=>{for(const G of O?za(O):d.mount)d.mount.delete(G),d.array.delete(G),$.keepValue||(bt(s,G),bt(l,G)),!$.keepError&&bt(r.errors,G),!$.keepDirty&&bt(r.dirtyFields,G),!$.keepTouched&&bt(r.touchedFields,G),!$.keepIsValidating&&bt(r.validatingFields,G),!e.shouldUnregister&&!$.keepDefaultValue&&bt(o,G);y.state.next({values:Rt(l)}),y.state.next({...r,...$.keepDirty?{isDirty:ge()}:{}}),!$.keepIsValid&&N()},je=({disabled:O,name:$})=>{(Xr(O)&&c.mount||O||d.disabled.has($))&&(O?d.disabled.add($):d.disabled.delete($))},Le=(O,$={})=>{let G=ve(s,O);const ae=Xr($.disabled)||Xr(e.disabled);return et(s,O,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:O}},name:O,mount:!0,...$}}),d.mount.add(O),G?je({disabled:Xr($.disabled)?$.disabled:e.disabled,name:O}):L(O,!0,$.value),{...ae?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Ca($.min),max:Ca($.max),minLength:Ca($.minLength),maxLength:Ca($.maxLength),pattern:Ca($.pattern)}:{},name:O,onChange:fe,onBlur:fe,ref:q=>{if(q){Le(O,$),G=ve(s,O);const K=mt(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,se=tR(K),Ne=G._f.refs||[];if(se?Ne.find(Oe=>Oe===K):K===G._f.ref)return;et(s,O,{_f:{...G._f,...se?{refs:[...Ne.filter(Md),K,...Array.isArray(ve(o,O))?[{}]:[]],ref:{type:K.type,name:O}}:{ref:K}}}),L(O,!1,void 0,K)}else G=ve(s,O,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(GA(d.array,O)&&c.action)&&d.unMount.add(O)}}},Ye=()=>e.shouldFocusError&&Va(s,X,d.mount),vt=O=>{Xr(O)&&(y.state.next({disabled:O}),Va(s,($,G)=>{const ae=ve(s,G);ae&&($.disabled=ae._f.disabled||O,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(q=>{q.disabled=ae._f.disabled||O}))},0,!1))},Wt=(O,$)=>async G=>{let ae;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let q=Rt(l);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:se}=await z();r.errors=K,q=Rt(se)}else await Z(s);if(d.disabled.size)for(const K of d.disabled)bt(q,K);if(bt(r.errors,"root"),Gt(r.errors)){y.state.next({errors:{}});try{await O(q,G)}catch(K){ae=K}}else $&&await $({...r.errors},G),Ye(),setTimeout(Ye);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gt(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},en=(O,$={})=>{ve(s,O)&&(mt($.defaultValue)?_e(O,Rt(ve(o,O))):(_e(O,$.defaultValue),et(o,O,Rt($.defaultValue))),$.keepTouched||bt(r.touchedFields,O),$.keepDirty||(bt(r.dirtyFields,O),r.isDirty=$.defaultValue?ge(O,Rt(ve(o,O))):ge()),$.keepError||(bt(r.errors,O),g.isValid&&N()),y.state.next({...r}))},tn=(O,$={})=>{const G=O?Rt(O):o,ae=Rt(G),q=Gt(O),K=q?o:ae;if($.keepDefaultValues||(o=G),!$.keepValues){if($.keepDirtyValues){const se=new Set([...d.mount,...Object.keys(vi(o,l))]);for(const Ne of Array.from(se))ve(r.dirtyFields,Ne)?et(K,Ne,ve(l,Ne)):_e(Ne,ve(K,Ne))}else{if(Bf&&mt(O))for(const se of d.mount){const Ne=ve(s,se);if(Ne&&Ne._f){const Oe=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(rc(Oe)){const dt=Oe.closest("form");if(dt){dt.reset();break}}}}if($.keepFieldsRef)for(const se of d.mount)_e(se,ve(K,se));else s={}}l=e.shouldUnregister?$.keepDefaultValues?Rt(o):{}:Rt(K),y.array.next({values:{...K}}),y.state.next({values:{...K}})}d={mount:$.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!e.shouldUnregister&&!Gt(K),c.watch=!!e.shouldUnregister,y.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:q?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Kn(O,o)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:q?{}:$.keepDirtyValues?$.keepDefaultValues&&l?vi(o,l):r.dirtyFields:$.keepDefaultValues&&O?vi(o,O):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},bn=(O,$)=>tn(Fr(O)?O(l):O,$),as=(O,$={})=>{const G=ve(s,O),ae=G&&G._f;if(ae){const q=ae.refs?ae.refs[0]:ae.ref;q.focus&&(q.focus(),$.shouldSelect&&Fr(q.select)&&q.select())}},hr=O=>{r={...r,...O}},kr={control:{register:Le,unregister:De,getFieldState:E,handleSubmit:Wt,setError:ie,_subscribe:Ae,_runSchema:z,_focusError:Ye,_getWatch:ee,_getDirty:ge,_setValid:N,_setFieldArray:A,_setDisabledField:je,_setErrors:k,_getFieldArray:he,_reset:tn,_resetDefaultValues:()=>Fr(e.defaultValues)&&e.defaultValues().then(O=>{bn(O,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:vt,_subjects:y,_proxyFormState:g,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(O){c=O},get _defaultValues(){return o},get _names(){return d},set _names(O){d=O},get _formState(){return r},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:Se,trigger:M,register:Le,handleSubmit:Wt,watch:xe,setValue:_e,getValues:P,reset:bn,resetField:en,clearErrors:V,unregister:De,setError:ie,setFocus:as,getFieldState:E};return{...kr,formControl:kr}}function zi(t={}){const e=ct.useRef(void 0),r=ct.useRef(void 0),[s,o]=ct.useState({isDirty:!1,isValidating:!1,isLoading:Fr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Fr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!Fr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=pR(t);e.current={...d,formState:s}}const l=e.current.control;return l._options=t,YA(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),ct.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),ct.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),ct.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),ct.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),ct.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),ct.useEffect(()=>{var c;t.values&&!Kn(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),r.current=t.values,o(d=>({...d}))):l._resetDefaultValues()},[l,t.values]),ct.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=QA(s,l),e.current}const mR=({type:t,size:e=120,mouseTracking:r=!0,reaction:s="float",passwordState:o})=>{const[l,c]=_.useState({x:0,y:0}),d=_.useRef(null);_.useEffect(()=>{if(!r)return;const y=b=>{if(d.current){const S=d.current.getBoundingClientRect(),N=S.left+S.width/2,j=S.top+S.height/2,A=(b.clientX-N)/50,C=(b.clientY-j)/50;c({x:A,y:C})}};return window.addEventListener("mousemove",y),()=>window.removeEventListener("mousemove",y)},[r]);const f=()=>{switch(s){case"bounce":return"animate-mascot-bounce";case"wave":return"animate-mascot-wave";case"blink":return"animate-mascot-blink";case"float":return"animate-mascot-float";case"thinking":return"animate-mascot-float";default:return""}},p=o==="visible",g=o==="hidden"&&o!==void 0,x=()=>{const y={width:e,height:e,viewBox:"0 0 200 200",className:`transition-transform duration-300 ${f()}`};switch(t){case"happy":return a.jsxs("svg",{...y,children:[a.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#FFE4B5",stroke:"#FF7F00",strokeWidth:"3"}),p?a.jsxs(a.Fragment,{children:[a.jsx("rect",{x:"60",y:"70",width:"30",height:"18",rx:"6",fill:"#FFE4B5",transform:"rotate(-12 60 70)"}),a.jsx("rect",{x:"110",y:"70",width:"30",height:"18",rx:"6",fill:"#FFE4B5",transform:"rotate(12 110 70)"})]}):g?a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"70",cy:"88",r:"5",fill:"#000"}),a.jsx("circle",{cx:"130",cy:"88",r:"5",fill:"#000"})]}):a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"80",cy:"85",r:"8",fill:"#000"}),a.jsx("circle",{cx:"120",cy:"85",r:"8",fill:"#000"})]}),a.jsx("path",{d:"M 70 120 Q 100 140 130 120",stroke:"#000",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("circle",{cx:"65",cy:"105",r:"5",fill:"#FF9999",opacity:"0.6"}),a.jsx("circle",{cx:"135",cy:"105",r:"5",fill:"#FF9999",opacity:"0.6"})]});case"excited":return a.jsxs("svg",{...y,children:[a.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#FFE4B5",stroke:"#FF7F00",strokeWidth:"3"}),a.jsx("ellipse",{cx:"80",cy:"85",rx:"10",ry:"8",fill:"#000"}),a.jsx("ellipse",{cx:"120",cy:"85",rx:"10",ry:"8",fill:"#000"}),a.jsx("path",{d:"M 75 125 Q 100 150 125 125",stroke:"#000",strokeWidth:"4",fill:"none",strokeLinecap:"round"}),a.jsx("circle",{cx:"60",cy:"70",r:"3",fill:"#99CCFF"}),a.jsx("circle",{cx:"140",cy:"70",r:"3",fill:"#99CCFF"})]});case"thinking":return a.jsxs("svg",{...y,children:[a.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#FFE4B5",stroke:"#FF7F00",strokeWidth:"3"}),a.jsx("circle",{cx:"80",cy:"85",r:"6",fill:"#000"}),a.jsx("circle",{cx:"120",cy:"85",r:"6",fill:"#000"}),a.jsx("path",{d:"M 140 70 Q 160 50 180 70 Q 180 90 160 90 Q 140 90 140 70",fill:"#FFF",stroke:"#000",strokeWidth:"2"}),a.jsx("text",{x:"160",y:"82",fontSize:"12",textAnchor:"middle",fill:"#000",children:"?"}),a.jsx("ellipse",{cx:"85",cy:"130",rx:"15",ry:"8",fill:"#FFE4B5"})]});case"sleepy":return a.jsxs("svg",{...y,children:[a.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#FFE4B5",stroke:"#FF7F00",strokeWidth:"3"}),a.jsx("path",{d:"M 75 85 Q 85 80 95 85",stroke:"#000",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("path",{d:"M 105 85 Q 115 80 125 85",stroke:"#000",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),a.jsx("text",{x:"150",y:"60",fontSize:"16",fill:"#666",children:"Z"}),a.jsx("text",{x:"155",y:"75",fontSize:"14",fill:"#666",children:"z"}),a.jsx("text",{x:"160",y:"88",fontSize:"12",fill:"#666",children:"z"})]});default:return null}};return a.jsx(Qe.div,{ref:d,className:"flex items-center justify-center",animate:{x:r?l.x:0,y:r?l.y:0},transition:{type:"spring",stiffness:300,damping:30},children:x()})},gR=()=>{var S,N;const{signIn:t}=Et(),e=xt(),r=qt(),[s,o]=_.useState(!1),[l,c]=_.useState("float"),[d,f]=_.useState(!1),p=((N=(S=r.state)==null?void 0:S.from)==null?void 0:N.pathname)||"/",{register:g,handleSubmit:x,formState:{errors:y}}=zi(),b=async j=>{o(!0),c("bounce");try{const{error:A}=await t(j.email,j.password);if(A)throw A;c("wave"),ne.success("Connexion russie"),setTimeout(()=>e(p,{replace:!0}),900)}catch(A){const C=A;c("blink");let k=C.message||"Erreur de connexion";k.includes("Invalid login credentials")&&(k="Identifiants incorrects."),ne.error(k),setTimeout(()=>c("float"),2500)}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 py-12 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-primary-200 rounded-full blur-xl"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-secondary-200 rounded-full blur-xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-primary-100 rounded-full blur-2xl"})]}),a.jsxs(Qe.div,{className:"container-custom max-w-md relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx(Qe.div,{className:"flex justify-center mb-6",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:a.jsx(mR,{type:s?"excited":"happy",size:100,reaction:l,passwordState:d?"visible":"hidden"})}),a.jsxs(Qe.div,{className:"bg-white/80 backdrop-blur-sm rounded-card shadow-card p-6 md:p-8 border border-white/20",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},children:[a.jsx(Qe.h1,{className:"text-2xl font-bold text-center mb-6 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Bienvenue !"}),a.jsxs(Qe.form,{onSubmit:x(b),className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsxs(Qe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[a.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"email",type:"email",className:`input-field pl-10 transition-all duration-300 ${y.email?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"votre@email.com",...g("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Adresse email invalide"}}),disabled:s}),a.jsx(oo,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400 transition-colors"})]}),y.email&&a.jsxs(Qe.p,{className:"input-error flex items-center mt-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),y.email.message]})]}),a.jsxs(Qe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7},children:[a.jsx("label",{htmlFor:"password",className:"input-label",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:d?"text":"password",className:`input-field pl-10 pr-10 transition-all duration-300 ${y.password?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"",...g("password",{required:"Le mot de passe est requis",minLength:{value:6,message:"Le mot de passe doit contenir au moins 6 caractres"}}),disabled:s}),a.jsx(Ch,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400 transition-colors"}),a.jsx("button",{type:"button","aria-pressed":d,"aria-label":d?"Masquer le mot de passe":"Afficher le mot de passe",onClick:()=>{f(j=>!j),d?(c("thinking"),setTimeout(()=>c("float"),700)):(c("blink"),setTimeout(()=>c("wave"),120))},className:"absolute right-3 top-3.5 h-6 w-6 flex items-center justify-center text-grey-500 hover:text-grey-700",children:d?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-4 w-4",children:a.jsx("path",{fill:"currentColor",d:"M12 5c4.97 0 9 4.03 9 7s-4.03 7-9 7-9-4.03-9-7 4.03-7 9-7m0-2C7.03 3 2 7.03 2 12s5.03 9 10 9 10-5.03 10-9S16.97 3 12 3z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-4 w-4",children:a.jsx("path",{fill:"currentColor",d:"M12 6.5C8.69 6.5 5.84 8.36 4 11.5c1.84 3.14 4.69 5 8 5s6.16-1.86 8-5c-1.84-3.14-4.69-5-8-5m0-2c5.25 0 9.75 3.58 11.99 8.38a1 1 0 0 1 0 .24C21.75 17.42 17.25 21 12 21s-9.75-3.58-11.99-8.38a1 1 0 0 1 0-.24C2.25 8.08 6.75 4.5 12 4.5z"})})})]}),y.password&&a.jsxs(Qe.p,{className:"input-error flex items-center mt-1",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),y.password.message]})]}),a.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:a.jsx(we,{to:"/auth/reset-password",className:"text-sm text-primary hover:underline transition-colors",children:"Mot de passe oubli ?"})}),a.jsx(Qe.button,{type:"submit",className:"btn-primary w-full flex justify-center items-center transform hover:scale-105 transition-all duration-200",disabled:s,initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:s?a.jsx(rt,{size:"small",className:"text-white"}):"Se connecter"})]}),a.jsx(Qe.div,{className:"mt-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:a.jsxs("p",{className:"text-grey-600",children:["Vous n'avez pas de compte ?"," ",a.jsx(we,{to:"/register",className:"text-primary font-medium hover:underline transition-colors",children:"S'inscrire"})]})})]})]})]})},xR=()=>{const{signUp:t}=Et(),[e,r]=_.useState(!1),[s,o]=_.useState(!1),[l,c]=_.useState(null),{register:d,handleSubmit:f,watch:p,formState:{errors:g}}=zi(),x=p("password"),y=async b=>{r(!0),c(null);try{const{data:S}=await oe.from("users").select("id").eq("email",b.email).single();if(S){ne.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email."),r(!1);return}const N=await t(b.email,b.password),j=N.error,A=N.requiresConfirmation??!1;if(j){console.error("Supabase signup error:",j);let C="";typeof j=="object"&&j!==null?("message"in j&&(C=String(j.message).toLowerCase()),"code"in j&&(C+=" "+String(j.code).toLowerCase())):C=String(j).toLowerCase(),C.includes("email")&&(C.includes("existe")||C.includes("dj")||C.includes("used")||C.includes("duplicate")||C.includes("already"))||C.includes("auth/duplicate-email")||C.includes("auth/email-already-exists")||C.includes("duplicate key")?ne.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email."):ne.error("Erreur lors de l'inscription. Veuillez ressayer."),(String(C).includes("refresh_token")||String(C).includes("refresh token"))&&c("Inscription partielle dtecte. Vrifiez votre email pour confirmer votre compte, puis reconnectez-vous.");return}A?(ne.success("Inscription reue  vrifiez votre bote mail pour confirmer votre adresse."),o(!0)):(ne.success("Inscription russie ! Vous tes connect(e)."),o(!0))}catch(S){console.error("Registration error:",S),ne.error("Erreur lors de l'inscription. Veuillez ressayer.")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-md",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Crer un compte"}),a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:f(y),className:"space-y-4",children:[l&&a.jsxs("div",{className:"text-error-500 text-sm mb-2 flex items-center",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),l]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"email",type:"email",className:`input-field pl-10 ${g.email?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"votre@email.com",...d("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Adresse email invalide"}}),disabled:e}),a.jsx(oo,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),g.email&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),g.email.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"input-label",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:"password",className:`input-field pl-10 ${g.password?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"",...d("password",{required:"Le mot de passe est requis",minLength:{value:6,message:"Le mot de passe doit contenir au moins 6 caractres"}}),disabled:e}),a.jsx(Ch,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),g.password&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),g.password.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"input-label",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"confirmPassword",type:"password",className:`input-field pl-10 ${g.confirmPassword?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"",...d("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:b=>b===x||"Les mots de passe ne correspondent pas"}),disabled:e}),a.jsx(Ch,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),g.confirmPassword&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),g.confirmPassword.message]})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center",disabled:e,children:e?a.jsx(rt,{size:"small",className:"text-white"}):"S'inscrire"})]}),s&&a.jsxs("div",{className:"bg-info-50 border-l-4 border-info-500 p-4 mb-6 text-info-900",children:[a.jsx("p",{className:"font-semibold mb-1",children:"Vrification de l'email requise"}),a.jsx("p",{children:"Un email de confirmation vient de vous tre envoy. Merci de cliquer sur le lien reu pour activer votre compte."})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-grey-600",children:["Vous avez dj un compte ?"," ",a.jsx(we,{to:"/login",className:"text-primary font-medium hover:underline",children:"Se connecter"})]})})]})]})})})},vR=()=>{const[t,e]=_.useState(""),[r,s]=_.useState(!1),o=xt(),l=async c=>{if(c.preventDefault(),!t){ne.error("Veuillez entrer votre email");return}s(!0);try{const{error:d}=await oe.auth.resetPasswordForEmail(t,{redirectTo:window.location.origin+"/auth/update-password"});if(d)throw d;ne.success("Un email de rinitialisation a t envoy."),o("/login")}catch(d){const f=d instanceof Error?d.message:"Erreur lors de la demande";ne.error(f)}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-grey-50 to-grey-100 p-4",children:a.jsxs("form",{onSubmit:l,className:"bg-white rounded-2xl shadow-xl p-6 max-w-md w-full space-y-5",children:[a.jsx("h1",{className:"text-2xl font-bold text-grey-900 mb-2",children:"Rinitialiser le mot de passe"}),a.jsx("p",{className:"text-grey-600 mb-4 text-sm",children:"Entrez votre adresse email pour recevoir un lien de rinitialisation."}),a.jsx("input",{type:"email",className:"input-field w-full",placeholder:"Votre email",value:t,onChange:c=>e(c.target.value),required:!0}),a.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:r,children:r?"Envoi en cours...":"Envoyer le lien"}),a.jsx("button",{type:"button",className:"w-full text-primary mt-2 text-sm hover:underline",onClick:()=>o("/login"),children:"Retour  la connexion"})]})})},yR=()=>{const[t,e]=_.useState(""),[r,s]=_.useState(""),[o,l]=_.useState(!1),c=xt(),d=async f=>{if(f.preventDefault(),!t||!r){ne.error("Veuillez remplir les deux champs");return}if(t!==r){ne.error("Les mots de passe ne correspondent pas");return}l(!0);try{const{error:p}=await oe.auth.updateUser({password:t});if(p)throw p;ne.success("Mot de passe mis  jour ! Vous pouvez vous connecter."),c("/login")}catch(p){const g=p instanceof Error?p.message:"Erreur lors de la mise  jour";ne.error(g)}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-grey-50 to-grey-100 p-4",children:a.jsxs("form",{onSubmit:d,className:"bg-white rounded-2xl shadow-xl p-6 max-w-md w-full space-y-5",children:[a.jsx("h1",{className:"text-2xl font-bold text-grey-900 mb-2",children:"Nouveau mot de passe"}),a.jsx("p",{className:"text-grey-600 mb-4 text-sm",children:"Choisissez un nouveau mot de passe pour votre compte."}),a.jsx("input",{type:"password",className:"input-field w-full",placeholder:"Nouveau mot de passe",value:t,onChange:f=>e(f.target.value),required:!0}),a.jsx("input",{type:"password",className:"input-field w-full",placeholder:"Confirmer le mot de passe",value:r,onChange:f=>s(f.target.value),required:!0}),a.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:o,children:o?"Mise  jour...":"Mettre  jour le mot de passe"}),a.jsx("button",{type:"button",className:"w-full text-primary mt-2 text-sm hover:underline",onClick:()=>c("/login"),children:"Retour  la connexion"})]})})},bR=()=>{const{user:t,updateUserProfile:e,refreshUserProfile:r}=Et(),s=xt(),[o,l]=_.useState(!1),{register:c,handleSubmit:d,formState:{errors:f}}=zi(),p=async g=>{l(!0);try{try{const y=oe.auth;typeof y.getSessionFromUrl=="function"&&await y.getSessionFromUrl({storeSession:!0})}catch(y){console.warn("getSessionFromUrl unavailable or failed:",y)}if(!t)throw new Error("Vous devez tre connect pour complter votre profil");const{error:x}=await e({email:t.email||"",full_name:g.full_name,phone:g.phone,district:g.district});if(x)throw x;await r(),ne.success("Profil complt avec succs !"),s("/")}catch(x){console.error("Profile completion error:",x),ne.error(x instanceof Error?x.message:"Erreur lors de la cration du profil")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-md",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"Complter votre profil"}),a.jsx("p",{className:"text-grey-600 text-center mb-6",children:"Ces informations sont ncessaires pour utiliser DaloaMarket"}),a.jsxs("form",{onSubmit:d(p),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"full_name",className:"input-label",children:"Nom complet"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"full_name",type:"text",className:`input-field pl-10 ${f.full_name?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Votre nom complet",...c("full_name",{required:"Le nom complet est requis",minLength:{value:3,message:"Le nom doit contenir au moins 3 caractres"}}),disabled:o}),a.jsx(zr,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.full_name&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.full_name.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"input-label",children:"Numro de tlphone"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"phone",type:"tel",className:`input-field pl-10 ${f.phone?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"+225 XX XX XX XX XX",...c("phone",{required:"Le numro de tlphone est requis",validate:g=>ww(g)||"Veuillez entrer un numro de tlphone ivoirien valide"}),disabled:o}),a.jsx(zs,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.phone&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.phone.message]}),a.jsx("p",{className:"text-xs text-grey-500 mt-1",children:"Format: +225 XX XX XX XX XX ou 07 XX XX XX XX"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"district",className:"input-label",children:"Quartier  Daloa"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:"district",className:`input-field pl-10 ${f.district?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,...c("district",{required:"Le quartier est requis"}),disabled:o,children:[a.jsx("option",{value:"",children:"Slectionnez votre quartier"}),yc.map(g=>a.jsx("option",{value:g,children:g},g))]}),a.jsx(is,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.district&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.district.message]})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center",disabled:o,children:o?a.jsx(rt,{size:"small",className:"text-white"}):"Complter mon profil"})]})]})})})},sc=({listing:t,onPress:e,sellerName:r,sellerRating:s})=>{const o=t.photos&&t.photos.length>0?t.photos[0]:"https://images.pexels.com/photos/4386321/pexels-photo-4386321.jpeg?auto=compress&cs=tinysrgb&w=400",l=t.boosted_until&&new Date(t.boosted_until)>new Date,c=pb(),[d,f]=_.useState(!1),p=()=>a.jsxs("article",{className:"group bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-sm overflow-hidden border border-grey-100",role:"article",children:[a.jsxs("div",{className:"relative aspect-[4/3] md:aspect-square overflow-hidden bg-grey-100",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-grey-200 to-grey-100 ${d?"opacity-0":"opacity-100"} ${c?"":"animate-pulse"} transition-opacity duration-300`,"aria-hidden":"true"}),a.jsx("img",{src:o,alt:t.title,loading:"lazy",decoding:"async",onLoad:()=>f(!0),className:`w-full h-full object-cover ${d?"opacity-100":"opacity-0"} group-hover:scale-105 transition-all duration-300 will-change-transform`}),l&&a.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-primary to-primary-600 text-white text-xs font-bold px-2 py-0.5 rounded-full flex items-center shadow-md",children:[a.jsx(pw,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Sponsoris"}),a.jsx("span",{className:"sm:hidden",children:"Boost"})]}),t.status==="sold"&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:a.jsx("span",{className:"bg-error-600 text-white px-3 py-1 rounded-full font-bold text-xs",children:"VENDU"})}),t.photos&&t.photos.length>1&&a.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-0.5 rounded-full",children:t.photos.length}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx(Uf,{listingId:t.id,stopPropagation:!0})})]}),a.jsxs("div",{className:"p-3 sm:p-3 lg:p-4 space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"font-semibold text-grey-900 line-clamp-2 text-sm md:text-base leading-tight group-hover:text-primary transition-colors",children:t.title}),a.jsx("p",{className:"text-lg sm:text-xl font-bold text-primary",children:Zn(t.price)})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-grey-600",children:[a.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx(is,{className:"h-3 w-3 mr-1 text-grey-400 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t.district})]}),a.jsxs("div",{className:"flex items-center ml-2 flex-shrink-0",children:[a.jsx(Vf,{className:"h-3 w-3 mr-1 text-grey-400"}),a.jsx("span",{className:"text-xs",children:es(t.created_at)})]})]}),r&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-grey-100",children:[a.jsx("span",{className:"text-xs text-grey-800 font-semibold truncate flex-1",title:`Voir l'annonce de ${r}`,children:r}),s&&a.jsxs("div",{className:"flex items-center ml-2 flex-shrink-0",children:[a.jsx(Jr,{className:"h-3 w-3 text-primary"}),a.jsx("span",{className:"text-xs font-medium ml-0.5",children:s.toFixed(1)})]}),a.jsx("div",{className:"ml-3 flex-shrink-0",children:a.jsxs("span",{className:"inline-flex items-center justify-center w-11 h-11 rounded-full bg-primary text-white shadow-md",children:[a.jsx(zf,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Voir l'annonce"})]})})]})]})]}),g="w-full block text-left rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40";return e?a.jsx("button",{type:"button",onClick:e,className:`${g} active:scale-98`,"aria-label":`Ouvrir l'annonce ${t.title}`,children:a.jsx(Qe.div,{whileHover:c?void 0:{y:-6,scale:1.02},whileTap:c?void 0:{scale:.985},transition:{type:"spring",stiffness:260,damping:20},children:a.jsx(p,{})})}):a.jsx(we,{to:`/listings/${t.id}`,className:`${g} ${c?"":"hover:shadow-lg"}`,"aria-label":`Voir ${t.title}  ${Zn(t.price)}`,children:a.jsx(Qe.div,{whileHover:c?void 0:{y:-6,scale:1.02},whileTap:c?void 0:{scale:.985},transition:{type:"spring",stiffness:260,damping:20},children:a.jsx(p,{})})})},wR=()=>{const{user:t,userProfile:e,signOut:r}=Et(),[s,o]=_.useState("listings"),[l,c]=_.useState([]),[d,f]=_.useState([]),[p,g]=_.useState([]),[x,y]=_.useState(!0),[b,S]=_.useState(null),[N,j]=_.useState(null),[A,C]=_.useState(null);_.useEffect(()=>{if(!t)return;let R=!0;return(async()=>{y(!0);const z=[];try{const[H,Z,re]=await Promise.all([oe.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}),oe.from("reviews").select(`
              *,
              reviewer:users!reviews_reviewer_id_fkey (
                full_name
              ),
              listing:listings!reviews_listing_id_fkey (
                title
              )
            `).eq("reviewed_id",t.id).order("created_at",{ascending:!1}),oe.from("favorites").select("listing_id").eq("user_id",t.id).order("created_at",{ascending:!1})]);if(H.error?(console.error("Error fetching listings:",H.error),z.push("annonces")):R&&c(H.data||[]),Z.error?(console.error("Error fetching reviews:",Z.error),z.push("avis")):R&&f(Z.data||[]),re.error)console.error("Error fetching favorites:",re.error),z.push("favoris");else if(R){const ge=(re.data||[]).map(ee=>ee.listing_id).filter(ee=>!!ee);if(ge.length===0)g([]);else{const{data:ee,error:he}=await oe.from("listings").select("*").in("id",ge);if(he)console.error("Error fetching favorite listings:",he),z.push("favoris");else{const le=new Map((ee??[]).map(_e=>[_e.id,_e])),ye=ge.map(_e=>le.get(_e)).filter(_e=>!!_e);g(ye)}}}z.length&&R&&ne.error(`Erreur lors du chargement: ${z.join(", ")}`)}catch(H){console.error("Error fetching user data:",H),R&&ne.error("Erreur lors du chargement de vos donnes")}finally{R&&y(!1)}})(),()=>{R=!1}},[t]),_.useEffect(()=>{if(!t)return;(async()=>{const{data:D,error:z}=await oe.from("user_credits").select("credits").eq("user_id",t.id).single();S(z?null:(D==null?void 0:D.credits)??0)})()},[t]);const k=async()=>{try{await r(),ne.success("Dconnexion russie")}catch(R){console.error("Sign out error:",R),ne.error("Erreur lors de la dconnexion")}};async function L(R){j(R);try{const{error:D}=await oe.from("listings").delete().eq("id",R);if(D)throw D;ne.success("Annonce supprime"),c(z=>z.filter(H=>H.id!==R))}catch{ne.error("Erreur lors de la suppression")}finally{j(null),C(null)}}return x?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})}):e?a.jsx("div",{className:"min-h-screen bg-grey-50 py-4 sm:py-6 lg:py-8",children:a.jsxs("div",{className:"container-custom max-w-6xl",children:[t&&a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"bg-white rounded-lg lg:rounded-xl shadow-md px-3 sm:px-4 py-2 flex items-center gap-1.5 sm:gap-2 text-primary font-semibold",children:[a.jsx("span",{className:"text-sm sm:text-base",children:"Crdits:"}),a.jsx("span",{className:"text-base sm:text-lg",children:b!==null?b:a.jsx(rt,{size:"small"})}),a.jsx(we,{to:"/acheter-credits",className:"ml-2 btn-secondary py-1 px-2 text-xs sm:text-sm",children:"Acheter"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-md lg:shadow-lg p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col items-center text-center mb-4 sm:mb-6",children:[a.jsx("div",{className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-24 lg:w-24 rounded-full bg-primary-100 flex items-center justify-center mb-3 sm:mb-4",children:a.jsx(zr,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-primary"})}),a.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:e.full_name||"Utilisateur"}),a.jsx("p",{className:"text-grey-600 mt-1 text-sm sm:text-base",children:t==null?void 0:t.email}),a.jsx(we,{to:"/settings",className:"btn-secondary mt-2 sm:mt-3 mb-2 w-full max-w-xs text-sm sm:text-base",children:"Modifier mon profil"}),e.rating&&a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Jr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary fill-current"}),a.jsx("span",{className:"ml-1 font-medium text-sm sm:text-base",children:e.rating.toFixed(1)}),a.jsxs("span",{className:"text-grey-500 ml-1 text-sm",children:["(",d.length," avis)"]})]}),a.jsxs("p",{className:"text-xs sm:text-sm text-grey-500 mt-2",children:["Membre depuis ",es(e.created_at)]})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-grey-500"}),a.jsx("span",{className:"text-sm sm:text-base",children:FA(e.phone||"")}),e.phone&&a.jsxs("a",{href:`https://wa.me/${(()=>{const R=e.phone.replace(/[^\d]/g,"");return R.startsWith("225")?R:R.length===10&&R.startsWith("0")?"225"+R:R.length===8?"2250"+R:(R.length>10&&!R.startsWith("225"),R)})()}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 px-2 py-1 bg-green-500 hover:bg-green-600 text-white rounded flex items-center gap-1 text-xs sm:text-sm transition",title:"Contacter sur WhatsApp",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 14.487c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.198.297-.767.967-.94 1.165-.173.198-.347.223-.644.075-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.52-.075-.149-.669-1.612-.916-2.21-.242-.58-.487-.501-.67-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.21 5.077 4.377.71.306 1.263.489 1.695.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.288.173-1.413-.074-.124-.272-.198-.57-.347z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12c0-4.97-4.03-9-9-9s-9 4.03-9 9c0 1.591.418 3.086 1.144 4.375L3 21l4.755-1.244A8.963 8.963 0 0012 21c4.97 0 9-4.03 9-9z"})]}),"WhatsApp"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(is,{className:"h-4 w-4 sm:h-5 sm:w-5 text-grey-500 mr-3"}),a.jsx("span",{className:"text-sm sm:text-base",children:e.district||"Non renseign"})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:[a.jsxs(we,{to:"/settings",className:"btn-outline flex items-center justify-center text-sm sm:text-base",children:[a.jsx(hw,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Paramtres"]}),a.jsxs("button",{onClick:k,className:"btn-outline text-error-600 border-error-600 hover:bg-error-50 flex items-center justify-center text-sm sm:text-base",children:[a.jsx(dw,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Dconnexion"]})]})]})}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-md lg:shadow-lg mb-4 sm:mb-6 overflow-hidden",children:a.jsxs("div",{className:"flex border-b border-grey-200",children:[a.jsx("button",{onClick:()=>o("listings"),className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 text-center font-medium text-sm sm:text-base ${s==="listings"?"text-primary border-b-2 border-primary":"text-grey-600 hover:text-grey-900"}`,children:"Mes annonces"}),a.jsx("button",{onClick:()=>o("reviews"),className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 text-center font-medium text-sm sm:text-base ${s==="reviews"?"text-primary border-b-2 border-primary":"text-grey-600 hover:text-grey-900"}`,children:"Avis reus"}),a.jsxs("button",{onClick:()=>o("favorites"),className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 text-center font-medium text-sm sm:text-base ${s==="favorites"?"text-primary border-b-2 border-primary":"text-grey-600 hover:text-grey-900"}`,children:[a.jsx(tc,{className:"inline h-4 w-4 mr-1"})," Favoris"]})]})}),s==="listings"&&(l.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3 md:gap-4",children:l.map(R=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"scale-90 sm:scale-95 lg:scale-100 origin-center",children:a.jsx(sc,{listing:R})}),a.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[R.status==="pending"&&a.jsx("span",{className:"text-xs bg-warning-100 text-warning-700 px-1.5 py-0.5 rounded font-medium",children:"En attente"}),R.status==="sold"&&a.jsx("span",{className:"text-xs bg-success-100 text-success-700 px-1.5 py-0.5 rounded font-medium",children:"Vendu"})]})]},R.id))}):a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-md lg:shadow-lg p-6 sm:p-8 text-center",children:[a.jsx(Ya,{className:"h-12 w-12 sm:h-16 sm:w-16 text-grey-400 mx-auto mb-3 sm:mb-4"}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Aucune annonce"}),a.jsx("p",{className:"text-grey-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"Vous n'avez pas encore publi d'annonces."}),a.jsx(we,{to:"/create-listing",className:"btn-primary text-sm sm:text-base",children:"Publier une annonce"})]})),s==="reviews"&&a.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-md lg:shadow-lg p-4 sm:p-6",children:d.length>0?a.jsx("div",{className:"space-y-3 sm:space-y-4",children:d.map(R=>a.jsxs("div",{className:"p-3 sm:p-4 border-b border-grey-200 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(zr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary mr-2 sm:mr-3"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-grey-800 text-sm sm:text-base",children:R.reviewer.full_name}),a.jsx("p",{className:"text-xs sm:text-sm text-grey-500",children:es(R.created_at)})]})]}),R.listing&&a.jsx("span",{className:"text-primary text-xs sm:text-sm font-medium",children:R.listing.title})]}),a.jsx("div",{className:"text-grey-700 text-sm sm:text-base",children:R.comment||"Aucun commentaire."})]},R.id))}):a.jsxs("div",{className:"text-center text-grey-500 py-8",children:[a.jsx(Jr,{className:"h-12 w-12 sm:h-16 sm:w-16 text-grey-400 mx-auto mb-3 sm:mb-4"}),a.jsx("p",{className:"text-sm sm:text-base",children:"Aucun avis reu pour le moment."})]})}),s==="favorites"&&a.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl lg:rounded-2xl shadow-md lg:shadow-lg p-4 sm:p-6",children:p.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3 md:gap-4",children:p.map(R=>a.jsx(sc,{listing:R},R.id))}):a.jsxs("div",{className:"text-center text-grey-500 py-8",children:[a.jsx(tc,{className:"h-12 w-12 sm:h-16 sm:w-16 text-grey-400 mx-auto mb-3 sm:mb-4"}),a.jsx("p",{className:"text-sm sm:text-base",children:"Aucun favori pour le moment."})]})})]})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-grey-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-xl p-4 sm:p-6 max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4",children:"Supprimer l'annonce ?"}),a.jsx("p",{className:"text-grey-700 mb-4 sm:mb-6 text-sm sm:text-base",children:"Cette action est irrversible. Voulez-vous vraiment supprimer cette annonce ?"}),a.jsxs("div",{className:"flex justify-center gap-3 sm:gap-4",children:[a.jsx("button",{className:"btn-outline text-sm sm:text-base",onClick:()=>C(null),disabled:!!N,children:"Annuler"}),a.jsx("button",{className:"btn-primary bg-error-600 hover:bg-error-700 border-error-600 text-sm sm:text-base",onClick:()=>L(A),disabled:!!N,children:"Confirmer la suppression"})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profil incomplet"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Vous devez complter votre profil pour accder  cette page."}),a.jsx(we,{to:"/complete-profile",className:"btn-primary",children:"Complter mon profil"})]})})})},jR=()=>{const{sellerId:t}=uc(),[e,r]=_.useState(null),[s,o]=_.useState([]),[l,c]=_.useState([]),[d,f]=_.useState(!0),[p,g]=_.useState(null);if(_.useEffect(()=>{console.log("SellerProfilePage sellerId:",t);let j;const A=async()=>{f(!0),g(null),j=setTimeout(()=>{f(!1),g("Chargement trop long. Vrifiez votre connexion ou contactez le support.")},1e4);const{data:C,error:k}=await oe.from("users").select("id, full_name, created_at").eq("id",t).single();if(clearTimeout(j),k){g("Erreur lors du chargement du vendeur : "+k.message),console.error("Erreur vendeur:",k),f(!1);return}if(!C){g("Vendeur introuvable."),f(!1);return}const{data:L}=await oe.from("listings").select("*").eq("user_id",t).order("created_at",{ascending:!1}),{data:R}=await oe.from("reviews").select("id, rating, comment, created_at, reviewer:users!reviews_reviewer_id_fkey(full_name)").eq("reviewed_id",t).order("created_at",{ascending:!1});r(C),o(L||[]),c(R||[]),f(!1)};if(!t){g("Aucun vendeur slectionn."),f(!1);return}return A(),()=>clearTimeout(j)},[t]),d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-grey-50",children:a.jsx(rt,{size:"large"})});if(p)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-grey-50",children:a.jsxs("div",{className:"bg-white p-8 rounded-card shadow-card text-center",children:[a.jsx(ze,{className:"mx-auto mb-2 text-error-500",size:32}),a.jsx("p",{children:p})]})});const x=l.map(j=>j.rating),y=x.length?(x.reduce((j,A)=>j+A,0)/x.length).toFixed(1):"",b=l.filter(j=>j.rating>=3),S=l.filter(j=>j.rating<3),N=()=>{const j=encodeURIComponent("Signalement vendeur DaloaMarket"),A=encodeURIComponent(`Je souhaite signaler le vendeur avec l'ID : ${e.id}
Nom : ${e.full_name}`);window.location.href=`mailto:support@daloamarket.shop?subject=${j}&body=${A}`};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsxs("div",{className:"container-custom max-w-3xl",children:[a.jsx("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-grey-100 flex items-center justify-center border border-grey-200 shadow",children:a.jsx(zr,{className:"h-12 w-12 text-grey-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.full_name,a.jsx(zr,{className:"text-primary-500",size:22})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"text-yellow-500 flex items-center",children:[a.jsx(Jr,{className:"inline-block mr-1",size:18}),y]}),a.jsxs("span",{className:"text-grey-500 text-sm",children:["(",x.length," avis)"]})]}),a.jsx("button",{onClick:N,className:"btn-outline text-error-600 mt-2",children:"Signaler ce vendeur"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Meilleurs avis"}),b.length===0?a.jsx("p",{className:"text-grey-500 text-sm",children:"Aucun avis positif pour ce vendeur."}):a.jsx("ul",{className:"space-y-4",children:b.map(j=>{var A;return a.jsxs("li",{className:"bg-grey-50 rounded p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[[...Array(j.rating)].map((C,k)=>a.jsx(Jr,{className:"text-yellow-500",size:16},k)),[...Array(5-j.rating)].map((C,k)=>a.jsx(Jr,{className:"text-grey-300",size:16},k)),a.jsx("span",{className:"ml-2 text-xs text-grey-400",children:new Date(j.created_at).toLocaleDateString()}),((A=j.reviewer)==null?void 0:A.full_name)&&a.jsxs("span",{className:"ml-2 text-xs text-grey-500",children:["par ",j.reviewer.full_name]})]}),a.jsx("div",{className:"text-sm text-grey-800",children:j.comment})]},j.id)})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Pires avis"}),S.length===0?a.jsx("p",{className:"text-grey-500 text-sm",children:"Aucun mauvais avis pour ce vendeur."}):a.jsx("ul",{className:"space-y-4",children:S.map(j=>{var A;return a.jsxs("li",{className:"bg-grey-50 rounded p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[[...Array(j.rating)].map((C,k)=>a.jsx(Jr,{className:"text-yellow-500",size:16},k)),[...Array(5-j.rating)].map((C,k)=>a.jsx(Jr,{className:"text-grey-300",size:16},k)),a.jsx("span",{className:"ml-2 text-xs text-grey-400",children:new Date(j.created_at).toLocaleDateString()}),((A=j.reviewer)==null?void 0:A.full_name)&&a.jsxs("span",{className:"ml-2 text-xs text-grey-500",children:["par ",j.reviewer.full_name]})]}),a.jsx("div",{className:"text-sm text-grey-800",children:j.comment})]},j.id)})})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Annonces de ce vendeur"}),s.length===0?a.jsx("p",{className:"text-grey-500 text-sm",children:"Aucune annonce publie par ce vendeur."}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(j=>a.jsx(sc,{listing:j},j.id))})]})]})})};var Fd={exports:{}},zd,ey;function _R(){if(ey)return zd;ey=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zd=t,zd}var Vd,ty;function kR(){if(ty)return Vd;ty=1;var t=_R();function e(){}function r(){}return r.resetWarningCache=e,Vd=function(){function s(c,d,f,p,g,x){if(x!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Vd}var ry;function SR(){return ry||(ry=1,Fd.exports=kR()()),Fd.exports}var NR=SR();const We=lc(NR),ER=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ti(t,e,r){const s=CR(t),{webkitRelativePath:o}=t,l=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${t.name}`;return typeof s.path!="string"&&ny(s,"path",l),ny(s,"relativePath",l),s}function CR(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const s=e.split(".").pop().toLowerCase(),o=ER.get(s);o&&Object.defineProperty(t,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return t}function ny(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!1,enumerable:!0})}const PR=[".DS_Store","Thumbs.db"];function TR(t){return ue(this,void 0,void 0,function*(){return ic(t)&&AR(t.dataTransfer)?LR(t.dataTransfer,t.type):RR(t)?OR(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?DR(t):[]})}function AR(t){return ic(t)}function RR(t){return ic(t)&&ic(t.target)}function ic(t){return typeof t=="object"&&t!==null}function OR(t){return Dh(t.target.files).map(e=>Ti(e))}function DR(t){return ue(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>Ti(r))})}function LR(t,e){return ue(this,void 0,void 0,function*(){if(t.items){const r=Dh(t.items).filter(o=>o.kind==="file");if(e!=="drop")return r;const s=yield Promise.all(r.map(IR));return sy(Pw(s))}return sy(Dh(t.files).map(r=>Ti(r)))})}function sy(t){return t.filter(e=>PR.indexOf(e.name)===-1)}function Dh(t){if(t===null)return[];const e=[];for(let r=0;r<t.length;r++){const s=t[r];e.push(s)}return e}function IR(t){if(typeof t.webkitGetAsEntry!="function")return iy(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Tw(e):iy(t,e)}function Pw(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?Pw(r):[r]],[])}function iy(t,e){return ue(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const l=yield t.getAsFileSystemHandle();if(l===null)throw new Error(`${t} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,Ti(c)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return Ti(s,(r=e==null?void 0:e.fullPath)!==null&&r!==void 0?r:void 0)})}function MR(t){return ue(this,void 0,void 0,function*(){return t.isDirectory?Tw(t):FR(t)})}function Tw(t){const e=t.createReader();return new Promise((r,s)=>{const o=[];function l(){e.readEntries(c=>ue(this,void 0,void 0,function*(){if(c.length){const d=Promise.all(c.map(MR));o.push(d),l()}else try{const d=yield Promise.all(o);r(d)}catch(d){s(d)}}),c=>{s(c)})}l()})}function FR(t){return ue(this,void 0,void 0,function*(){return new Promise((e,r)=>{t.file(s=>{const o=Ti(s,t.fullPath);e(o)},s=>{r(s)})})})}var Ol={},ay;function zR(){return ay||(ay=1,Ol.__esModule=!0,Ol.default=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(",");if(r.length===0)return!0;var s=t.name||"",o=(t.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return r.some(function(c){var d=c.trim().toLowerCase();return d.charAt(0)==="."?s.toLowerCase().endsWith(d):d.endsWith("/*")?l===d.replace(/\/.*$/,""):o===d})}return!0}),Ol}var VR=zR();const Ud=lc(VR);function oy(t){return BR(t)||$R(t)||Rw(t)||UR()}function UR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $R(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BR(t){if(Array.isArray(t))return Lh(t)}function ly(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function cy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ly(Object(r),!0).forEach(function(s){Aw(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Aw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eo(t,e){return HR(t)||WR(t,e)||Rw(t,e)||qR()}function qR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rw(t,e){if(t){if(typeof t=="string")return Lh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lh(t,e)}}function Lh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function WR(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,d;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(e&&s.length===e));o=!0);}catch(f){l=!0,d=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw d}}return s}}function HR(t){if(Array.isArray(t))return t}var KR=typeof Ud=="function"?Ud:Ud.default,GR="file-invalid-type",XR="file-too-large",JR="file-too-small",QR="too-many-files",YR=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.split(","),s=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:GR,message:"File type must be ".concat(s)}},uy=function(e){return{code:XR,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},dy=function(e){return{code:JR,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},ZR={code:QR,message:"Too many files"};function Ow(t,e){var r=t.type==="application/x-moz-file"||KR(t,e);return[r,r?null:YR(e)]}function Dw(t,e,r){if(As(t.size))if(As(e)&&As(r)){if(t.size>r)return[!1,uy(r)];if(t.size<e)return[!1,dy(e)]}else{if(As(e)&&t.size<e)return[!1,dy(e)];if(As(r)&&t.size>r)return[!1,uy(r)]}return[!0,null]}function As(t){return t!=null}function e4(t){var e=t.files,r=t.accept,s=t.minSize,o=t.maxSize,l=t.multiple,c=t.maxFiles,d=t.validator;return!l&&e.length>1||l&&c>=1&&e.length>c?!1:e.every(function(f){var p=Ow(f,r),g=eo(p,1),x=g[0],y=Dw(f,s,o),b=eo(y,1),S=b[0],N=d?d(f):null;return x&&S&&!N})}function ac(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Dl(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function hy(t){t.preventDefault()}function t4(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function r4(t){return t.indexOf("Edge/")!==-1}function n4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return t4(t)||r4(t)}function Gr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(s){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return e.some(function(d){return!ac(s)&&d&&d.apply(void 0,[s].concat(l)),ac(s)})}}function s4(){return"showOpenFilePicker"in window}function i4(t){if(As(t)){var e=Object.entries(t).filter(function(r){var s=eo(r,2),o=s[0],l=s[1],c=!0;return Lw(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(Iw))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(r,s){var o=eo(s,2),l=o[0],c=o[1];return cy(cy({},r),{},Aw({},l,c))},{});return[{description:"Files",accept:e}]}return t}function a4(t){if(As(t))return Object.entries(t).reduce(function(e,r){var s=eo(r,2),o=s[0],l=s[1];return[].concat(oy(e),[o],oy(l))},[]).filter(function(e){return Lw(e)||Iw(e)}).join(",")}function o4(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function l4(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Lw(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Iw(t){return/^.*\.[\w]+$/.test(t)}var c4=["children"],u4=["open"],d4=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],h4=["refKey","onChange","onClick"];function f4(t){return g4(t)||m4(t)||Mw(t)||p4()}function p4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g4(t){if(Array.isArray(t))return Ih(t)}function $d(t,e){return y4(t)||v4(t,e)||Mw(t,e)||x4()}function x4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mw(t,e){if(t){if(typeof t=="string")return Ih(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ih(t,e)}}function Ih(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function v4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s=[],o=!0,l=!1,c,d;try{for(r=r.call(t);!(o=(c=r.next()).done)&&(s.push(c.value),!(e&&s.length===e));o=!0);}catch(f){l=!0,d=f}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw d}}return s}}function y4(t){if(Array.isArray(t))return t}function fy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(r),!0).forEach(function(s){Mh(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Mh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oc(t,e){if(t==null)return{};var r=b4(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function b4(t,e){if(t==null)return{};var r={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}var Gf=_.forwardRef(function(t,e){var r=t.children,s=oc(t,c4),o=zw(s),l=o.open,c=oc(o,u4);return _.useImperativeHandle(e,function(){return{open:l}},[l]),ct.createElement(_.Fragment,null,r(it(it({},c),{},{open:l})))});Gf.displayName="Dropzone";var Fw={disabled:!1,getFilesFromEvent:TR,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Gf.defaultProps=Fw;Gf.propTypes={children:We.func,accept:We.objectOf(We.arrayOf(We.string)),multiple:We.bool,preventDropOnDocument:We.bool,noClick:We.bool,noKeyboard:We.bool,noDrag:We.bool,noDragEventsBubbling:We.bool,minSize:We.number,maxSize:We.number,maxFiles:We.number,disabled:We.bool,getFilesFromEvent:We.func,onFileDialogCancel:We.func,onFileDialogOpen:We.func,useFsAccessApi:We.bool,autoFocus:We.bool,onDragEnter:We.func,onDragLeave:We.func,onDragOver:We.func,onDrop:We.func,onDropAccepted:We.func,onDropRejected:We.func,onError:We.func,validator:We.func};var Fh={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function zw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=it(it({},Fw),t),r=e.accept,s=e.disabled,o=e.getFilesFromEvent,l=e.maxSize,c=e.minSize,d=e.multiple,f=e.maxFiles,p=e.onDragEnter,g=e.onDragLeave,x=e.onDragOver,y=e.onDrop,b=e.onDropAccepted,S=e.onDropRejected,N=e.onFileDialogCancel,j=e.onFileDialogOpen,A=e.useFsAccessApi,C=e.autoFocus,k=e.preventDropOnDocument,L=e.noClick,R=e.noKeyboard,D=e.noDrag,z=e.noDragEventsBubbling,H=e.onError,Z=e.validator,re=_.useMemo(function(){return a4(r)},[r]),ge=_.useMemo(function(){return i4(r)},[r]),ee=_.useMemo(function(){return typeof j=="function"?j:py},[j]),he=_.useMemo(function(){return typeof N=="function"?N:py},[N]),le=_.useRef(null),ye=_.useRef(null),_e=_.useReducer(w4,Fh),fe=$d(_e,2),X=fe[0],M=fe[1],P=X.isFocused,E=X.isFileDialogActive,V=_.useRef(typeof window<"u"&&window.isSecureContext&&A&&s4()),ie=function(){!V.current&&E&&setTimeout(function(){if(ye.current){var K=ye.current.files;K.length||(M({type:"closeDialog"}),he())}},300)};_.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[ye,E,he,V]);var xe=_.useRef([]),Ae=function(K){le.current&&le.current.contains(K.target)||(K.preventDefault(),xe.current=[])};_.useEffect(function(){return k&&(document.addEventListener("dragover",hy,!1),document.addEventListener("drop",Ae,!1)),function(){k&&(document.removeEventListener("dragover",hy),document.removeEventListener("drop",Ae))}},[le,k]),_.useEffect(function(){return!s&&C&&le.current&&le.current.focus(),function(){}},[le,C,s]);var Se=_.useCallback(function(q){H?H(q):console.error(q)},[H]),De=_.useCallback(function(q){q.preventDefault(),q.persist(),O(q),xe.current=[].concat(f4(xe.current),[q.target]),Dl(q)&&Promise.resolve(o(q)).then(function(K){if(!(ac(q)&&!z)){var se=K.length,Ne=se>0&&e4({files:K,accept:re,minSize:c,maxSize:l,multiple:d,maxFiles:f,validator:Z}),Oe=se>0&&!Ne;M({isDragAccept:Ne,isDragReject:Oe,isDragActive:!0,type:"setDraggedFiles"}),p&&p(q)}}).catch(function(K){return Se(K)})},[o,p,Se,z,re,c,l,d,f,Z]),je=_.useCallback(function(q){q.preventDefault(),q.persist(),O(q);var K=Dl(q);if(K&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return K&&x&&x(q),!1},[x,z]),Le=_.useCallback(function(q){q.preventDefault(),q.persist(),O(q);var K=xe.current.filter(function(Ne){return le.current&&le.current.contains(Ne)}),se=K.indexOf(q.target);se!==-1&&K.splice(se,1),xe.current=K,!(K.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Dl(q)&&g&&g(q))},[le,g,z]),Ye=_.useCallback(function(q,K){var se=[],Ne=[];q.forEach(function(Oe){var dt=Ow(Oe,re),Ot=$d(dt,2),Ct=Ot[0],ls=Ot[1],Vr=Dw(Oe,c,l),Sr=$d(Vr,2),cs=Sr[0],Ur=Sr[1],rn=Z?Z(Oe):null;if(Ct&&cs&&!rn)se.push(Oe);else{var $r=[ls,Ur];rn&&($r=$r.concat(rn)),Ne.push({file:Oe,errors:$r.filter(function(Vi){return Vi})})}}),(!d&&se.length>1||d&&f>=1&&se.length>f)&&(se.forEach(function(Oe){Ne.push({file:Oe,errors:[ZR]})}),se.splice(0)),M({acceptedFiles:se,fileRejections:Ne,isDragReject:Ne.length>0,type:"setFiles"}),y&&y(se,Ne,K),Ne.length>0&&S&&S(Ne,K),se.length>0&&b&&b(se,K)},[M,d,re,c,l,f,y,b,S,Z]),vt=_.useCallback(function(q){q.preventDefault(),q.persist(),O(q),xe.current=[],Dl(q)&&Promise.resolve(o(q)).then(function(K){ac(q)&&!z||Ye(K,q)}).catch(function(K){return Se(K)}),M({type:"reset"})},[o,Ye,Se,z]),Wt=_.useCallback(function(){if(V.current){M({type:"openDialog"}),ee();var q={multiple:d,types:ge};window.showOpenFilePicker(q).then(function(K){return o(K)}).then(function(K){Ye(K,null),M({type:"closeDialog"})}).catch(function(K){o4(K)?(he(K),M({type:"closeDialog"})):l4(K)?(V.current=!1,ye.current?(ye.current.value=null,ye.current.click()):Se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Se(K)});return}ye.current&&(M({type:"openDialog"}),ee(),ye.current.value=null,ye.current.click())},[M,ee,he,A,Ye,Se,ge,d]),en=_.useCallback(function(q){!le.current||!le.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),Wt())},[le,Wt]),tn=_.useCallback(function(){M({type:"focus"})},[]),bn=_.useCallback(function(){M({type:"blur"})},[]),as=_.useCallback(function(){L||(n4()?setTimeout(Wt,0):Wt())},[L,Wt]),hr=function(K){return s?null:K},os=function(K){return R?null:hr(K)},kr=function(K){return D?null:hr(K)},O=function(K){z&&K.stopPropagation()},$=_.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=q.refKey,se=K===void 0?"ref":K,Ne=q.role,Oe=q.onKeyDown,dt=q.onFocus,Ot=q.onBlur,Ct=q.onClick,ls=q.onDragEnter,Vr=q.onDragOver,Sr=q.onDragLeave,cs=q.onDrop,Ur=oc(q,d4);return it(it(Mh({onKeyDown:os(Gr(Oe,en)),onFocus:os(Gr(dt,tn)),onBlur:os(Gr(Ot,bn)),onClick:hr(Gr(Ct,as)),onDragEnter:kr(Gr(ls,De)),onDragOver:kr(Gr(Vr,je)),onDragLeave:kr(Gr(Sr,Le)),onDrop:kr(Gr(cs,vt)),role:typeof Ne=="string"&&Ne!==""?Ne:"presentation"},se,le),!s&&!R?{tabIndex:0}:{}),Ur)}},[le,en,tn,bn,as,De,je,Le,vt,R,D,s]),G=_.useCallback(function(q){q.stopPropagation()},[]),ae=_.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=q.refKey,se=K===void 0?"ref":K,Ne=q.onChange,Oe=q.onClick,dt=oc(q,h4),Ot=Mh({accept:re,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:hr(Gr(Ne,vt)),onClick:hr(Gr(Oe,G)),tabIndex:-1},se,ye);return it(it({},Ot),dt)}},[ye,r,d,vt,s]);return it(it({},X),{},{isFocused:P&&!s,getRootProps:$,getInputProps:ae,rootRef:le,inputRef:ye,open:hr(Wt)})}function w4(t,e){switch(e.type){case"focus":return it(it({},t),{},{isFocused:!0});case"blur":return it(it({},t),{},{isFocused:!1});case"openDialog":return it(it({},Fh),{},{isFileDialogActive:!0});case"closeDialog":return it(it({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return it(it({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return it(it({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return it({},Fh);default:return t}}function py(){}const j4=()=>{const{user:t}=Ff(),e=xt(),r=qt(),[s,o]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(null),[p,g]=_.useState([]),[x,y]=_.useState([]),[b,S]=_.useState(!1),[N,j]=_.useState(!0),[A,C]=_.useState(null),[k,L]=_.useState(null),[R,D]=_.useState(!1),[,z]=_.useState(!1),{register:H,handleSubmit:Z,formState:{errors:re},setValue:ge}=zi();_.useEffect(()=>{(async()=>{if(!(t!=null&&t.id)){j(!1);return}try{const{data:E,error:V}=await oe.from("users").select("id").eq("id",t.id).single();if(V)throw V;S(!!E)}catch(E){console.error("Error verifying user:",E),S(!1)}finally{j(!1)}})()},[t]),_.useEffect(()=>{(async()=>{if(!(t!=null&&t.id)){C(null);return}const{data:E,error:V}=await oe.from("users").select("first_listing_at").eq("id",t.id).single();if(V){C(null);return}C(!(E!=null&&E.first_listing_at))})()},[t]),_.useEffect(()=>{(async()=>{if(!(t!=null&&t.id)){L(null);return}const{data:E,error:V}=await oe.from("user_credits").select("credits").eq("user_id",t.id).single();L(V?null:(E==null?void 0:E.credits)??0)})()},[t]);const ee=async()=>{if(!(t!=null&&t.id))return!1;const{error:P}=await oe.rpc("decrement_user_credit",{user_id_input:t.id});return P?!1:(L(E=>E!==null?E-1:null),!0)},{getRootProps:he,getInputProps:le}=zw({accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxSize:5*1024*1024,maxFiles:5,onDrop:(P,E)=>{if(E.length>0){const V=E.map(ie=>ie.errors[0].code==="file-too-large"?"Image trop volumineuse (max 5MB)":ie.errors[0].message);f(V[0]);return}if(P.length+p.length>5){f("Maximum 5 photos autorises");return}f(null),g(V=>[...V,...P])}}),ye=P=>{g(E=>E.filter((V,ie)=>ie!==P))},_e=P=>{y(E=>E.filter((V,ie)=>ie!==P))},fe=async()=>{if(p.length===0&&x.length===0)throw new Error("Veuillez ajouter au moins une photo");c(!0);const P=[];x.length>0&&P.push(...x);try{for(let E=0;E<p.length;E++){const V=p[E],ie=V.name.split(".").pop(),xe=`${Date.now()}-${Math.random().toString(36).substring(7)}.${ie}`,Ae=`${t.id}/${xe}`,{error:Se}=await oe.storage.from("listings").upload(Ae,V);if(Se)throw Se;const{data:{publicUrl:De}}=oe.storage.from("listings").getPublicUrl(Ae);P.push(De)}return P}catch(E){throw c(!1),E}finally{c(!1)}},X=async(P,E,V="active")=>{if(!(t!=null&&t.id)||!b)throw new Error("Votre compte n'est pas correctement configur");const{data:ie,error:xe}=await oe.from("listings").insert({user_id:t.id,title:P.title.trim(),description:P.description.trim(),price:P.price,category:P.category,condition:P.condition,district:P.district,photos:E,status:V}).select().single();if(xe)throw xe;return ie},M=async P=>{if(p.length===0&&x.length===0){f("Veuillez ajouter au moins une photo");return}f(null),o(!0);try{const E=await fe();if(A){const V=await X(P,E,"active");ne.success("Votre premire annonce a t publie gratuitement !"),e(`/listings/${V.id}`);return}if(k&&k>0){if(!await ee()){ne.error("Erreur lors de la consommation du crdit."),o(!1);return}const ie=await X(P,E,"active");ne.success("Annonce publie ! 1 crdit consomm."),e(`/listings/${ie.id}`);return}await X(P,E,"pending"),D(!0)}catch(E){console.error("Error creating listing:",E),ne.error("Erreur lors de la cration de l'annonce")}finally{o(!1)}};return _.useEffect(()=>{const E=new URLSearchParams(r.search).get("id");E&&(z(!0),(async()=>{const{data:V,error:ie}=await oe.from("listings").select("*").eq("id",E).single();if(ie||!V){ne.error("Impossible de pr-remplir l'annonce"),z(!1);return}ge("title",V.title||""),ge("description",V.description||""),ge("price",typeof V.price=="number"?V.price:0),ge("category",V.category||""),ge("condition",V.condition||""),ge("district",V.district||""),Array.isArray(V.photos)&&V.photos.length>0&&(g([]),y(V.photos)),z(!1)})())},[r.search,ge]),N?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})}):b?R?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:[a.jsx("div",{className:"lg:hidden bg-white shadow-sm sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center px-4 py-3",children:[a.jsx("button",{onClick:()=>e("/profile"),className:"p-2 -ml-2 rounded-xl hover:bg-grey-100 transition-colors",children:a.jsx(Xn,{className:"h-5 w-5 text-grey-600"})}),a.jsx("h1",{className:"ml-3 text-lg font-semibold text-grey-900",children:"Annonce cre"})]})}),a.jsx("div",{className:"container-custom py-4 lg:py-8",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-6 lg:p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center mx-auto mb-4 lg:mb-6",children:a.jsx(Vl,{className:"h-8 w-8 lg:h-10 lg:w-10 text-green-600"})}),a.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-3 lg:mb-4",children:"Annonce cre avec succs !"}),a.jsx("p",{className:"text-grey-600 mb-6 lg:mb-8 text-base lg:text-lg leading-relaxed",children:"Votre annonce a t cre mais n'est pas encore visible. Pour la publier, vous devez soit acheter des crdits, soit payer 200 FCFA."}),a.jsxs("div",{className:"space-y-4 mb-6 lg:mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-orange-50 rounded-xl p-4 lg:p-6 border border-primary-200",children:[a.jsx("h3",{className:"font-semibold text-primary-800 mb-2 lg:mb-3",children:"Option 1 : Acheter des crdits"}),a.jsx("p",{className:"text-primary-700 text-sm lg:text-base mb-3 lg:mb-4",children:"Achetez un pack de crdits pour publier plusieurs annonces"}),a.jsx("button",{onClick:()=>e("/acheter-credits"),className:"btn-primary w-full",children:"Acheter des crdits"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-primary-50 rounded-xl p-4 lg:p-6 border border-orange-200",children:[a.jsx("h3",{className:"font-semibold text-orange-800 mb-2 lg:mb-3",children:"Option 2 : Paiement mobile (200 FCFA)"}),a.jsx("p",{className:"text-orange-700 text-sm lg:text-base mb-3 lg:mb-4",children:"Payez par mobile money pour publier cette annonce immdiatement."}),a.jsxs("p",{className:"text-sm lg:text-base text-grey-700 mb-2",children:[a.jsx("strong",{children:"MTN :"})," +225 05 55 86 39 53"]}),a.jsxs("p",{className:"text-sm lg:text-base text-grey-700",children:[a.jsx("strong",{children:"Nom :"})," Oulobo Elmas Tresor"]})]})]}),a.jsx("p",{className:"text-xs lg:text-sm text-blue-600 mb-3 lg:mb-4",children:"Aprs le paiement, envoyez la capture d'cran via WhatsApp au mme numro avec votre email pour identification."}),a.jsx("a",{href:"https://wa.me/2250788000831?text=Bonjour,%20j'ai%20effectu%20le%20paiement%20de%20200%20FCFA%20pour%20publier%20mon%20annonce.%20Voici%20ma%20capture%20d'cran%20et%20mon%20email%20:",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-600 text-white font-semibold py-2.5 lg:py-3 px-4 lg:px-6 rounded-lg lg:rounded-xl hover:bg-green-700 transition-all duration-200 text-sm lg:text-base inline-block",children:"Envoyer via WhatsApp"}),a.jsxs("div",{className:"space-y-3 mt-6",children:[a.jsx("button",{onClick:()=>e("/profile"),className:"w-full border-2 border-grey-300 text-grey-700 font-semibold py-2.5 lg:py-3 px-4 lg:px-6 rounded-lg lg:rounded-xl hover:border-grey-400 hover:bg-grey-50 transition-all duration-200 text-sm lg:text-base",children:"Voir mes annonces"}),a.jsx("button",{onClick:()=>e("/"),className:"w-full text-grey-600 hover:text-grey-900 transition-colors text-sm lg:text-base",children:"Retour  l'accueil"})]}),a.jsx("div",{className:"mt-6 lg:mt-8 p-3 lg:p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex items-start gap-2 lg:gap-3",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-xs lg:text-sm text-yellow-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Traitement manuel"}),a.jsx("p",{children:"Votre annonce sera publie dans les 24h aprs rception du paiement."})]})]})})]})})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:[a.jsx("div",{className:"lg:hidden bg-white shadow-sm sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center px-4 py-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 rounded-xl hover:bg-grey-100 transition-colors",children:a.jsx(Xn,{className:"h-5 w-5 text-grey-600"})}),a.jsx("h1",{className:"ml-3 text-lg font-semibold text-grey-900",children:"Publier une annonce"})]})}),a.jsx("div",{className:"container-custom py-4 lg:py-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"hidden lg:block mb-8",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-grey-600 hover:text-grey-900 transition-colors mb-4",children:[a.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Retour"]}),a.jsx("h1",{className:"text-3xl font-bold text-grey-900",children:"Publier une annonce"})]}),a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden border border-primary-100",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-400 px-4 lg:px-8 py-6 lg:py-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-extrabold text-white drop-shadow mb-2 sm:mb-0",children:"Publier une annonce"}),t&&a.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[a.jsxs("span",{className:"bg-white/20 text-white px-3 lg:px-4 py-1.5 lg:py-2 rounded-full font-semibold text-sm lg:text-lg shadow",children:["Crdits : ",a.jsx("span",{className:"font-bold",children:k===null?"...":k})]}),a.jsx("button",{type:"button",className:"btn-outline border-white text-white hover:bg-white/10 hover:text-white text-sm lg:text-base py-1.5 lg:py-2 px-3 lg:px-4",onClick:()=>e("/acheter-credits"),children:"Acheter des crdits"})]})]}),a.jsxs("form",{onSubmit:Z(M),className:"space-y-6 lg:space-y-10 px-4 lg:px-8 py-6 lg:py-10",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:["Photos ",a.jsx("span",{className:"text-grey-500 font-normal",children:"(max 5)"})]}),a.jsxs("div",{...he(),className:`border-2 border-dashed rounded-xl lg:rounded-2xl p-6 lg:p-8 text-center cursor-pointer transition-colors bg-grey-50 hover:bg-primary-50/40 ${d?"border-error-500 bg-error-50":"border-primary-200"}`,children:[a.jsx("input",{...le()}),a.jsx(fw,{className:"h-10 w-10 lg:h-12 lg:w-12 text-primary mx-auto mb-3"}),a.jsx("p",{className:"text-grey-700 text-base lg:text-lg font-medium",children:"Glissez-dposez vos photos ici, ou cliquez pour slectionner"}),a.jsx("p",{className:"text-sm lg:text-base text-grey-500 mt-1",children:"Formats accepts : JPG, PNG, WEBP (max 5MB)"})]}),a.jsx("div",{className:"mt-4 lg:mt-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 lg:grid lg:grid-cols-3 md:grid-cols-5 lg:gap-4",children:[x&&x.length>0&&x.map((P,E)=>a.jsxs("div",{className:"relative min-w-[96px] max-w-[120px] aspect-square rounded-xl overflow-hidden group shadow border border-grey-200 flex-shrink-0",children:[a.jsx("img",{src:P,alt:`Photo ${E+1}`,className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:()=>_e(E),className:"absolute top-1 right-1 bg-white/80 hover:bg-error-500 hover:text-white text-error-500 rounded-full p-1 shadow transition-colors z-10 group-hover:opacity-100 opacity-80",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 lg:h-5 lg:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},E)),p.map((P,E)=>a.jsxs("div",{className:"relative min-w-[96px] max-w-[120px] aspect-square rounded-xl overflow-hidden group shadow border border-grey-200 flex-shrink-0",children:[a.jsx("img",{src:URL.createObjectURL(P),alt:`Preview ${E+1}`,className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:()=>ye(E),className:"absolute top-1 right-1 bg-white/80 hover:bg-error-500 hover:text-white text-error-500 rounded-full p-1 shadow transition-colors z-10 group-hover:opacity-100 opacity-80",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 lg:h-5 lg:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},E))]})}),d&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),d]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-8",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"Titre de l'annonce"}),a.jsx("input",{id:"title",type:"text",className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm ${re.title?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Ex: Manette PS4 en trs bon tat",...H("title",{required:"Le titre est requis",minLength:{value:5,message:"Le titre doit contenir au moins 5 caractres"},maxLength:{value:100,message:"Le titre ne doit pas dpasser 100 caractres"}}),disabled:s}),re.title&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.title.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"Prix (FCFA)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"price",type:"number",className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm pr-16 lg:pr-20 ${re.price?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Ex: 15000",...H("price",{required:"Le prix est requis",min:{value:200,message:"Le prix minimum est de 200 FCFA"},max:{value:1e7,message:"Le prix maximum est de 10 000 000 FCFA"}}),disabled:s}),a.jsx("span",{className:"absolute right-3 lg:right-4 top-3 text-grey-500 font-bold text-base lg:text-lg",children:"FCFA"})]}),re.price&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.price.message]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"Description"}),a.jsx("textarea",{id:"description",rows:4,className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm ${re.description?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Dcrivez votre article en dtail (tat, caractristiques, raison de la vente...)",...H("description",{required:"La description est requise",minLength:{value:20,message:"La description doit contenir au moins 20 caractres"}}),disabled:s}),re.description&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.description.message]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-8",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"Catgorie"}),a.jsxs("select",{id:"category",className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm ${re.category?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,...H("category",{required:"La catgorie est requise"}),disabled:s,children:[a.jsx("option",{value:"",children:"Slectionnez une catgorie"}),Za.map(P=>a.jsx("option",{value:P.id,children:P.label},P.id))]}),re.category&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.category.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"tat"}),a.jsxs("select",{id:"condition",className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm ${re.condition?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,...H("condition",{required:"L'tat est requis"}),disabled:s,children:[a.jsx("option",{value:"",children:"Slectionnez l'tat"}),Ah.map(P=>a.jsx("option",{value:P.id,children:P.label},P.id))]}),re.condition&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.condition.message]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"district",className:"input-label text-base lg:text-lg font-semibold mb-2 block",children:"Quartier  Daloa"}),a.jsxs("select",{id:"district",className:`input-field text-base lg:text-lg px-4 lg:px-5 py-3 rounded-lg lg:rounded-xl shadow-sm ${re.district?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,...H("district",{required:"Le quartier est requis"}),disabled:s,children:[a.jsx("option",{value:"",children:"Slectionnez votre quartier"}),yc.map(P=>a.jsx("option",{value:P,children:P},P))]}),re.district&&a.jsxs("p",{className:"input-error flex items-center mt-2 text-sm lg:text-base",children:[a.jsx(ze,{className:"h-4 w-4 lg:h-5 lg:w-5 mr-2"}),re.district.message]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl lg:rounded-2xl p-4 lg:p-8 border border-primary-200 shadow-sm",children:[a.jsx("h3",{className:"text-lg lg:text-xl font-bold mb-4 lg:mb-6 text-primary",children:"Cot de publication"}),A?a.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vl,{className:"h-6 w-6 text-green-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-green-800 text-base lg:text-lg",children:"Premire annonce gratuite !"}),a.jsx("p",{className:"text-green-700 text-sm lg:text-base",children:"Votre premire annonce sera publie gratuitement."})]})]})}):k&&k>0?a.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(uw,{className:"h-6 w-6 text-blue-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-blue-800 text-base lg:text-lg",children:"1 crdit sera consomm"}),a.jsxs("p",{className:"text-blue-700 text-sm lg:text-base mb-3 lg:mb-4",children:["Vous avez ",k," crdit",k>1?"s":""," disponible",k>1?"s":"","."]})]})]})}):a.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ze,{className:"h-6 w-6 text-orange-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-orange-800 text-base lg:text-lg",children:"Paiement requis"}),a.jsx("p",{className:"text-orange-700 text-sm lg:text-base",children:"Vous devrez payer 200 FCFA ou acheter des crdits pour publier cette annonce."})]})]})})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary-100 to-primary-50 rounded-lg lg:rounded-xl p-4 lg:p-6 border border-primary-200 shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Vl,{className:"h-5 w-5 lg:h-6 lg:w-6 text-success mt-0.5 flex-shrink-0"}),a.jsxs("p",{className:"text-sm lg:text-base text-grey-800",children:["En publiant cette annonce, vous acceptez les",a.jsx("a",{href:"/terms",className:"text-primary font-semibold underline hover:text-primary-700 transition ml-1",target:"_blank",rel:"noopener noreferrer",children:"conditions d'utilisation"}),"de DaloaMarket et confirmez que votre article est conforme  nos rgles."]})]})}),a.jsx("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center text-base lg:text-lg py-3 lg:py-4",disabled:s||l||A===null,children:s?a.jsx(rt,{size:"small",className:"text-white"}):A?"Publier gratuitement":k&&k>0?"Publier (1 crdit)":"Crer l'annonce"})]})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-3xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8 text-center",children:[a.jsx(ze,{className:"h-12 w-12 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Compte non configur"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Votre compte n'est pas correctement configur. Veuillez vous reconnecter pour rsoudre ce problme."}),a.jsx("button",{onClick:()=>e("/login"),className:"btn-primary",children:"Se reconnecter"})]})})})},_4=({listingId:t,reviewedId:e,onSuccess:r})=>{const{user:s}=Ff(),[o,l]=_.useState(0),[c,d]=_.useState(""),[f,p]=_.useState(!1),[g,x]=_.useState(null),[y,b]=_.useState(!1),[S,N]=_.useState(null),[j,A]=_.useState([]),[C,k]=_.useState(!0);if(_.useEffect(()=>{(async()=>{if(!s)return;const{data:D,error:z}=await oe.from("reviews").select("id").eq("reviewer_id",s.id).eq("listing_id",t).maybeSingle();if(z){N(!1);return}N(!!D)})()},[s,t]),_.useEffect(()=>{(async()=>{k(!0);const{data:D,error:z}=await oe.from("reviews").select("*, reviewer:reviewer_id (full_name)").eq("listing_id",t).order("created_at",{ascending:!1});!z&&D&&A(D),k(!1)})()},[t,y]),!s)return null;const L=async R=>{if(R.preventDefault(),x(null),!o){x("Merci de donner une note.");return}p(!0);try{const{error:D}=await oe.from("reviews").insert({reviewer_id:s.id,reviewed_id:e,listing_id:t,rating:o,comment:c});if(D)throw D;b(!0),r&&r()}catch(D){const z=D instanceof Error?D.message:"Erreur lors de lenvoi de lavis.";x(z)}finally{p(!1)}};return S===null?a.jsx("div",{className:"text-grey-500 text-sm mt-6",children:"Chargement..."}):S?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg text-blue-700 mt-6",children:"Vous avez dj laiss un avis pour cette annonce."}),a.jsx(Bd,{reviews:j,loading:C})]}):y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-green-50 rounded-lg text-green-700",children:"Merci pour votre avis !"}),a.jsx(Bd,{reviews:j,loading:C})]}):a.jsxs("div",{children:[a.jsxs("form",{onSubmit:L,className:"space-y-3 mt-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block font-semibold mb-1",children:"Note"}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(R=>a.jsx("button",{type:"button",className:R<=o?"text-yellow-400":"text-grey-300",onClick:()=>l(R),"aria-label":`Donner ${R} toile${R>1?"s":""}`,children:""},R))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-semibold mb-1",children:"Commentaire (optionnel)"}),a.jsx("textarea",{className:"input-field w-full",rows:3,value:c,onChange:R=>d(R.target.value),placeholder:"Votre retour sur la transaction..."})]}),g&&a.jsx("div",{className:"text-error-500 text-sm",children:g}),a.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:f,children:f?"Envoi...":"Laisser un avis"})]}),a.jsx(Bd,{reviews:j,loading:C})]})},Bd=({reviews:t,loading:e})=>e?a.jsx("div",{className:"text-grey-500 text-sm mt-4",children:"Chargement des avis..."}):t.length?a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h3",{className:"font-semibold text-base mb-2",children:"Avis sur cette annonce"}),t.map(r=>{var s;return a.jsxs("div",{className:"bg-grey-50 rounded-lg p-3 border border-grey-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-bold text-primary",children:((s=r.reviewer)==null?void 0:s.full_name)||"Utilisateur"}),a.jsx("span",{className:"flex gap-0.5 ml-2",children:[1,2,3,4,5].map(o=>a.jsx("span",{className:o<=r.rating?"text-yellow-400":"text-grey-300",children:""},o))}),a.jsx("span",{className:"text-xs text-grey-500 ml-2",children:new Date(r.created_at).toLocaleDateString()})]}),r.comment&&a.jsx("div",{className:"text-grey-800 text-sm",children:r.comment})]},r.id)})]}):a.jsx("div",{className:"text-grey-400 text-sm mt-4",children:"Aucun avis pour cette annonce."}),k4=()=>{const{id:t}=uc(),{user:e}=Et(),r=xt(),[s,o]=_.useState(null),[l,c]=_.useState(!0),[d,f]=_.useState(0),[p,g]=_.useState(!1),[x,y]=_.useState(""),[b,S]=_.useState(!1),[N,j]=_.useState(!1),[A,C]=_.useState(!1),[k,L]=_.useState(null),[R,D]=_.useState(!1),[z,H]=_.useState(!1),[Z,re]=_.useState(!1),[ge,ee]=_.useState([]);_.useEffect(()=>{(async()=>{try{if(!t)return;const{data:E,error:V}=await oe.from("listings").select(`
            *,
            seller:users!listings_user_id_fkey (*)
          `).eq("id",t).single();if(V)throw V;if(o(E),E){const{data:ie,error:xe}=await oe.from("listings").select("*").eq("category",E.category).eq("status","active").neq("id",E.id).limit(4);!xe&&ie&&ee(ie)}}catch(E){console.error("Error fetching listing:",E),ne.error("Impossible de charger cette annonce")}finally{c(!1)}})()},[t]);const he=()=>{s!=null&&s.photos&&f(P=>P===s.photos.length-1?0:P+1)},le=()=>{s!=null&&s.photos&&f(P=>P===0?s.photos.length-1:P-1)},ye=async()=>{if(!x.trim()){ne.error("Veuillez indiquer une raison");return}S(!0);try{await new Promise(P=>setTimeout(P,1e3)),ne.success("Annonce signale avec succs"),g(!1),y("")}catch(P){console.error("Error reporting listing:",P),ne.error("Erreur lors du signalement")}finally{S(!1)}};async function _e(){if(s){j(!0);try{const{error:P}=await oe.from("listings").update({status:"sold"}).eq("id",s.id);if(P)throw P;ne.success("Annonce marque comme vendue"),o({...s,status:"sold"})}catch{ne.error("Erreur lors du marquage comme vendue")}finally{j(!1)}}}async function fe(){if(!(!s||k===null)){D(!0);try{const{error:P}=await oe.from("listings").update({price:k}).eq("id",s.id);if(P)throw P;ne.success("Prix modifi avec succs"),o({...s,price:k}),C(!1)}catch{ne.error("Erreur lors de la modification du prix")}finally{D(!1)}}}async function X(){if(s){re(!0);try{const{error:P}=await oe.from("listings").delete().eq("id",s.id);if(P)throw P;ne.success("Annonce supprime"),r("/profile")}catch{ne.error("Erreur lors de la suppression")}finally{re(!1),H(!1)}}}const M=()=>{if(!e){ne.error("Vous devez tre connect pour contacter le vendeur"),r("/login",{state:{from:`/listings/${t}`}});return}if((s==null?void 0:s.seller.id)===e.id){ne.error("Vous ne pouvez pas contacter votre propre annonce");return}r(`/messages/${s==null?void 0:s.id}/${s==null?void 0:s.seller.id}`)};return l?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})}):s?s&&s.status!=="active"&&(!e||e.id!==s.user_id)?a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Annonce non disponible"}),a.jsxs("p",{className:"text-grey-600 mb-6",children:["Cette annonce n'est pas accessible. Elle a peut-tre t dj vendue, supprime, ou vous n'avez pas l'autorisation pour la consulter.",a.jsx("br",{}),a.jsxs("span",{className:"block mt-2 text-sm text-grey-500",children:["Si vous pensez qu'il s'agit d'une erreur, contactez le ",a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"text-grey-800 hover:text-primary transition-colors",children:"support"})," ou vrifiez l'tat de l'annonce dans l'espace personnel du vendeur."]})]}),a.jsx(we,{to:"/",className:"btn-primary",children:"Retour  l'accueil"})]})})}):a.jsxs("div",{className:"min-h-screen bg-grey-50 py-8",children:[a.jsx("div",{className:"container-custom",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden mb-6",children:[a.jsx("div",{className:"relative aspect-video",children:s.photos&&s.photos.length>0?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:s.photos[d],alt:s.title,className:"w-full h-full object-contain"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(Uf,{listingId:s.id})}),s.photos.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:le,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow-md hover:bg-opacity-100 transition-all","aria-label":"Image prcdente",children:a.jsx(UT,{className:"h-6 w-6 text-grey-800"})}),a.jsx("button",{onClick:he,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow-md hover:bg-opacity-100 transition-all","aria-label":"Image suivante",children:a.jsx($T,{className:"h-6 w-6 text-grey-800"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.photos.map((P,E)=>a.jsx("button",{onClick:()=>f(E),className:`h-2 w-2 rounded-full ${E===d?"bg-primary":"bg-white bg-opacity-60"}`,"aria-label":`Voir image ${E+1}`},E))})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-grey-100",children:a.jsx("p",{className:"text-grey-500",children:"Aucune image disponible"})})}),s.photos&&s.photos.length>1&&a.jsx("div",{className:"p-4 flex space-x-2 overflow-x-auto",children:s.photos.map((P,E)=>a.jsx("button",{onClick:()=>f(E),className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 ${E===d?"border-primary":"border-transparent"}`,children:a.jsx("img",{src:P,alt:`Thumbnail ${E+1}`,className:"w-full h-full object-cover"})},E))})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-grey-900 mb-2",children:s.title}),a.jsx("p",{className:"text-3xl font-bold text-primary mb-4",children:Zn(s.price)}),a.jsxs("div",{className:"flex flex-wrap gap-y-2 mb-6",children:[a.jsxs("div",{className:"flex items-center mr-6",children:[a.jsx(is,{className:"h-5 w-5 text-grey-500 mr-1"}),a.jsx("span",{className:"text-grey-700",children:s.district})]}),a.jsxs("div",{className:"flex items-center mr-6",children:[a.jsx(zT,{className:"h-5 w-5 text-grey-500 mr-1"}),a.jsx("span",{className:"text-grey-700",children:es(s.created_at)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-grey-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-grey-500",children:"Catgorie"}),a.jsx("p",{className:"font-medium",children:VA(s.category)})]}),a.jsxs("div",{className:"bg-grey-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-grey-500",children:"tat"}),a.jsx("p",{className:"font-medium",children:zA(s.condition)})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Description"}),a.jsx("p",{className:"text-grey-700 whitespace-pre-line",children:s.description})]}),(e==null?void 0:e.id)&&e.id!==s.seller.id&&a.jsx(_4,{listingId:s.id,reviewedId:s.seller.id}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>g(!0),className:"text-grey-500 flex items-center text-sm hover:text-error-600 transition-colors",children:[a.jsx(zv,{className:"h-4 w-4 mr-1"}),"Signaler l'annonce"]})}),(e==null?void 0:e.id)&&s&&e.id===s.seller.id&&(s.status==="active"||s.status==="pending")&&a.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[s.status==="active"&&a.jsx("button",{className:"btn-outline btn-xs text-success-700 border-success-700 hover:bg-success-50",onClick:_e,disabled:N,children:N?"Traitement...":"Marquer comme vendu"}),s.status==="active"&&(A?a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",min:200,step:100,value:k??s.price,onChange:P=>L(Number(P.target.value)),className:"input-field w-28 border-primary-300 focus:border-primary-500 rounded-lg",disabled:R}),a.jsx("button",{className:"btn-primary btn-xs",onClick:fe,disabled:R,children:R?"Mise  jour...":"Valider"}),a.jsx("button",{className:"btn-outline btn-xs",onClick:()=>C(!1),disabled:R,children:"Annuler"})]}):a.jsx("button",{className:"btn-outline btn-xs hover:bg-primary-50 border-primary-200 text-primary",onClick:()=>{C(!0),L(s.price)},children:"Modifier le prix"})),a.jsx("button",{className:"btn-outline btn-xs text-error-700 border-error-700 hover:bg-error-50",onClick:()=>H(!0),disabled:Z,children:Z?"Suppression...":"Supprimer"})]}),z&&a.jsx("div",{className:"fixed inset-0 bg-grey-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Supprimer l'annonce ?"}),a.jsx("p",{className:"text-grey-700 mb-6",children:"Cette action est irrversible. Voulez-vous vraiment supprimer cette annonce ?"}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("button",{className:"btn-outline",onClick:()=>H(!1),disabled:Z,children:"Annuler"}),a.jsx("button",{className:"btn-primary bg-error-600 hover:bg-error-700 border-error-600",onClick:X,disabled:Z,children:"Confirmer la suppression"})]})]})}),(e==null?void 0:e.id)&&s&&e.id===s.seller.id&&s.status==="pending"&&a.jsxs("div",{className:"my-6 flex flex-col items-center",children:[a.jsx("div",{className:"mb-4 text-lg text-warning-700 font-semibold",children:"Cette annonce est en attente de paiement. Elle ne sera pas visible tant que le paiement n'est pas effectu."}),a.jsxs("button",{className:"btn-primary w-full max-w-md text-center py-3 text-lg font-semibold rounded-xl shadow-card border border-warning-200 bg-warning-500 hover:bg-warning-600 text-white transition mb-2",onClick:()=>r(`/paiement-annonce/${s.id}`),children:[a.jsx("span",{role:"img","aria-label":"paiement",children:""})," Payer maintenant pour publier"]}),a.jsx("div",{className:"mt-2 text-base text-grey-600 text-center",children:"Toutes les informations de l'annonce seront pr-remplies, y compris le boost si slectionn."})]})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Vendeur"}),a.jsx("div",{className:"flex items-center mb-4",children:a.jsxs(we,{to:`/profile/seller/${s.seller.id}`,className:"flex items-center group",children:[s.seller.avatar_url?a.jsx("img",{src:s.seller.avatar_url,alt:s.seller.full_name,className:"h-12 w-12 rounded-full object-cover border border-grey-200 shadow"}):a.jsx("div",{className:"h-12 w-12 rounded-full bg-grey-100 flex items-center justify-center",children:a.jsx(zr,{className:"h-6 w-6 text-grey-500"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"font-medium text-primary group-hover:underline cursor-pointer",children:s.seller.full_name}),s.seller.rating&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jr,{className:"h-4 w-4 text-primary fill-current"}),a.jsx("span",{className:"text-sm ml-1",children:s.seller.rating.toFixed(1)})]})]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-grey-500",children:"Quartier"}),a.jsx("p",{className:"font-medium",children:s.seller.district})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-grey-500",children:"Membre depuis"}),a.jsx("p",{className:"font-medium",children:es(s.seller.created_at)})]}),a.jsxs("button",{onClick:M,className:"btn-primary w-full flex items-center justify-center mb-2",disabled:s.seller.id===(e==null?void 0:e.id),children:[a.jsx(lo,{className:"h-5 w-5 mr-2"}),"Contacter le vendeur (chat)"]}),s.seller.phone&&a.jsxs("a",{href:`https://wa.me/${(()=>{const P=s.seller.phone.replace(/[^\d]/g,"");return P.startsWith("225")?P:P.length===10&&P.startsWith("0")?"225"+P:P.length===8?"2250"+P:(P.length>10&&!P.startsWith("225"),P)})()}`,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition mb-2",title:"Contacter sur WhatsApp",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 14.487c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.198.297-.767.967-.94 1.165-.173.198-.347.223-.644.075-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.52-.075-.149-.669-1.612-.916-2.21-.242-.58-.487-.501-.67-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.21 5.077 4.377.71.306 1.263.489 1.695.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.288.173-1.413-.074-.124-.272-.198-.57-.347z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12c0-4.97-4.03-9-9-9s-9 4.03-9 9c0 1.591.418 3.086 1.144 4.375L3 21l4.755-1.244A8.963 8.963 0 0012 21c4.97 0 9-4.03 9-9z"})]}),"Contacter sur WhatsApp"]}),s.seller.id===(e==null?void 0:e.id)&&a.jsx("p",{className:"text-sm text-grey-500 text-center mt-2",children:"C'est votre annonce"})]}),ge.length>0&&a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:ge.map(P=>a.jsxs(we,{to:`/listings/${P.id}`,className:"flex flex-col items-center hover:bg-grey-50 p-2 rounded-lg transition-colors border border-grey-100",children:[a.jsx("div",{className:"h-24 w-full rounded-md overflow-hidden flex-shrink-0 mb-2 flex items-center justify-center bg-grey-50",children:a.jsx("img",{src:P.photos[0]||"https://via.placeholder.com/96",alt:P.title,className:"h-24 w-auto max-w-full object-cover"})}),a.jsxs("div",{className:"w-full text-center",children:[a.jsx("p",{className:"font-medium line-clamp-1 text-sm mb-1",children:P.title}),a.jsx("p",{className:"text-primary font-bold text-base",children:Zn(P.price)})]})]},P.id))})]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-grey-900 bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 max-w-md w-full",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Signaler l'annonce"}),a.jsx("p",{className:"text-grey-600 mb-4",children:"Veuillez indiquer la raison pour laquelle vous signalez cette annonce."}),a.jsxs("select",{value:x,onChange:P=>y(P.target.value),className:"input-field mb-4",disabled:b,children:[a.jsx("option",{value:"",children:"Slectionnez une raison"}),a.jsx("option",{value:"fake",children:"Annonce frauduleuse"}),a.jsx("option",{value:"inappropriate",children:"Contenu inappropri"}),a.jsx("option",{value:"duplicate",children:"Annonce en double"}),a.jsx("option",{value:"wrong_category",children:"Mauvaise catgorie"}),a.jsx("option",{value:"other",children:"Autre raison"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>g(!1),className:"btn-outline",disabled:b,children:"Annuler"}),a.jsx("button",{onClick:ye,className:"btn-primary flex items-center",disabled:b||!x,children:b?a.jsx(rt,{size:"small",className:"text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(zv,{className:"h-4 w-4 mr-2"}),"Signaler"]})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Annonce introuvable"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Cette annonce n'existe pas ou a t supprime."}),a.jsx(we,{to:"/",className:"btn-primary",children:"Retour  l'accueil"})]})})})},S4=({initialQuery:t="",className:e="",selectedCategory:r})=>{const[s,o]=_.useState(t),l=xt(),c=qt(),d=new URLSearchParams(c.search),f=(r??d.get("category")??"")+"",p=g=>{g.preventDefault(),s.trim()&&l(`/search?q=${encodeURIComponent(s.trim())}`)};return a.jsxs("div",{className:`relative ${e}`,children:[a.jsx("form",{onSubmit:p,className:"relative group",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Que recherchez-vous ?",className:"w-full py-3 sm:py-3.5 lg:py-4 pl-10 sm:pl-12 lg:pl-14 pr-24 sm:pr-28 lg:pr-32 text-sm sm:text-base lg:text-lg rounded-xl lg:rounded-2xl border-2 border-grey-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white shadow-md group-hover:shadow-lg transition-all",value:s,onChange:g=>o(g.target.value)}),a.jsx(Fa,{className:"absolute left-3 sm:left-4 lg:left-5 top-3 sm:top-3.5 lg:top-4.5 h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-grey-400"}),a.jsx("button",{type:"submit",className:"absolute right-2 sm:right-2.5 lg:right-3 top-1.5 sm:top-2 lg:top-2 bg-primary text-white py-1.5 sm:py-2 lg:py-2.5 px-3 sm:px-4 lg:px-6 rounded-lg lg:rounded-xl hover:bg-primary-600 transition-colors font-semibold shadow-md hover:shadow-lg text-xs sm:text-sm lg:text-base",children:"Rechercher"})]})}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-3 sm:mt-4 justify-center",children:Za.map(g=>{const x=f===g.id;return a.jsx("button",{onClick:()=>{const y=new URLSearchParams(c.search);y.get("category")===g.id?(y.delete("category"),l(`/search?${y.toString()}`,{replace:!0})):(y.set("category",g.id),l(`/search?${y.toString()}`,{replace:!0}))},className:"px-2.5 sm:px-3 lg:px-4 py-1.5 sm:py-2 border rounded-full text-xs sm:text-sm font-medium transition-all "+(x?"bg-primary text-white border-primary-500 shadow-md":"bg-white border-grey-200 text-grey-700 hover:bg-primary-50 hover:border-primary-200 hover:text-primary"),children:g.label},g.id)})})]})},N4=()=>{const t=qt(),e=xt(),r=new URLSearchParams(t.search),[s,o]=_.useState([]),[l,c]=_.useState(!0),[d,f]=_.useState(0),[p,g]=_.useState(1),[x,y]=_.useState(!1),[b,S]=_.useState("created_at"),[N,j]=_.useState("desc"),[A,C]=_.useState(!1),k={category:r.get("category")||"",condition:r.get("condition")||"",district:r.get("district")||"",minPrice:r.get("minPrice")||"",maxPrice:r.get("maxPrice")||""},L=r.get("q")||"",R=12,{category:D,condition:z,district:H,minPrice:Z,maxPrice:re}=k,ge=_.useCallback(async M=>{c(!0);try{let P=oe.from("listings").select(`
          *,
          users:user_id (
            full_name,
            rating
          )
        `,{count:"exact"}).eq("status","active").order(b,{ascending:N==="asc"});L&&(P=P.or(`title.ilike.%${L}%,description.ilike.%${L}%`)),D&&(P=P.eq("category",D)),z&&(P=P.eq("condition",z)),H&&(P=P.eq("district",H)),Z&&(P=P.gte("price",parseInt(Z))),re&&(P=P.lte("price",parseInt(re)));const E=(M-1)*R,V=E+R-1;P=P.range(E,V);const{data:ie,error:xe,count:Ae}=await P;if(xe)throw xe;const Se=ie.map(De=>{var je,Le;return{...De,seller_name:((je=De.users)==null?void 0:je.full_name)||"Utilisateur",seller_rating:((Le=De.users)==null?void 0:Le.rating)||null}});o(M===1?Se:De=>[...De,...Se]),Ae!==null&&(f(Ae),y(E+Se.length<Ae))}catch(P){console.error("Error fetching listings:",P)}finally{c(!1)}},[b,N,L,D,z,H,Z,re]);_.useEffect(()=>{g(1),ge(1)},[t.search,b,N,ge]);const ee=()=>{const M=p+1;g(M),ge(M)},he=M=>{M==="price_asc"?(S("price"),j("asc")):M==="price_desc"?(S("price"),j("desc")):(S("created_at"),j("desc"))},le=M=>{const{name:P,value:E}=M.target,V=new URLSearchParams(t.search);E?V.set(P,E):V.delete(P),e(`/search?${V.toString()}`)},ye=()=>{C(!1)},_e=()=>{e(L?`/search?q=${L}`:"/search"),C(!1)},fe=M=>{const P=Za.find(E=>E.id===M);return P?P.label:""},X=M=>{const P=Ah.find(E=>E.id===M);return P?P.label:""};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:[a.jsxs("div",{className:"container-custom py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx(S4,{initialQuery:L,selectedCategory:k.category})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("button",{onClick:()=>C(!0),className:"btn-outline flex items-center gap-2 px-4 py-2",children:[a.jsx(qT,{className:"h-4 w-4"}),"Filtres",(k.category||k.condition||k.district||k.minPrice||k.maxPrice)&&a.jsx("span",{className:"bg-primary text-white text-xs rounded-full px-2 py-0.5 ml-1",children:[k.category,k.condition,k.district,k.minPrice||k.maxPrice].filter(Boolean).length})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.category&&a.jsxs("div",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm flex items-center",children:[fe(k.category),a.jsx("button",{onClick:()=>{const M={...k,category:""};setFilters(M);const P=new URLSearchParams(t.search);P.delete("category"),e(`/search?${P.toString()}`)},className:"ml-2 hover:bg-primary-200 rounded-full p-0.5",children:a.jsx(Sa,{className:"h-3 w-3"})})]}),k.condition&&a.jsxs("div",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm flex items-center",children:[X(k.condition),a.jsx("button",{onClick:()=>{const M={...k,condition:""};setFilters(M);const P=new URLSearchParams(t.search);P.delete("condition"),e(`/search?${P.toString()}`)},className:"ml-2 hover:bg-primary-200 rounded-full p-0.5",children:a.jsx(Sa,{className:"h-3 w-3"})})]}),k.district&&a.jsxs("div",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm flex items-center",children:[k.district,a.jsx("button",{onClick:()=>{const M={...k,district:""};setFilters(M);const P=new URLSearchParams(t.search);P.delete("district"),e(`/search?${P.toString()}`)},className:"ml-2 hover:bg-primary-200 rounded-full p-0.5",children:a.jsx(Sa,{className:"h-3 w-3"})})]}),(k.minPrice||k.maxPrice)&&a.jsxs("div",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm flex items-center",children:["Prix: ",k.minPrice?Zn(parseInt(k.minPrice)):"0"," - ",k.maxPrice?Zn(parseInt(k.maxPrice)):"",a.jsx("button",{onClick:()=>{const M={...k,minPrice:"",maxPrice:""};setFilters(M);const P=new URLSearchParams(t.search);P.delete("minPrice"),P.delete("maxPrice"),e(`/search?${P.toString()}`)},className:"ml-2 hover:bg-primary-200 rounded-full p-0.5",children:a.jsx(Sa,{className:"h-3 w-3"})})]})]}),(k.category||k.condition||k.district||k.minPrice||k.maxPrice)&&a.jsx("button",{onClick:_e,className:"text-grey-600 text-sm hover:text-grey-900 transition-colors underline",children:"Tout effacer"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-grey-600 text-sm",children:"Trier par:"}),a.jsxs("select",{className:"input-field py-2 text-sm min-w-0",value:b==="created_at"?"newest":b==="price"&&N==="asc"?"price_asc":"price_desc",onChange:M=>he(M.target.value),children:[a.jsx("option",{value:"newest",children:"Plus rcent"}),a.jsx("option",{value:"price_asc",children:"Prix croissant"}),a.jsx("option",{value:"price_desc",children:"Prix dcroissant"})]})]})})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-grey-600 text-lg",children:[a.jsx("span",{className:"font-semibold text-grey-900",children:d})," rsultat",d!==1?"s":"",L&&a.jsxs("span",{children:[" pour ",a.jsxs("span",{className:"font-semibold text-primary",children:['"',L,'"']})]})]})}),l&&p===1?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx(rt,{size:"large"})}):s.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:s.map(M=>a.jsx(sc,{listing:M,sellerName:M.seller_name,sellerRating:M.seller_rating},M.id))}),x&&a.jsx("div",{className:"mt-12 text-center",children:a.jsxs("button",{onClick:ee,className:"btn-outline flex items-center mx-auto px-8 py-3 text-lg",disabled:l,children:[l?a.jsx(rt,{size:"small",className:"mr-2"}):a.jsx(Vf,{className:"h-5 w-5 mr-2"}),"Charger plus d'annonces"]})})]}):a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center max-w-2xl mx-auto",children:[a.jsx(ze,{className:"h-20 w-20 text-grey-400 mx-auto mb-6"}),a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Aucune annonce trouve"}),a.jsx("p",{className:"text-grey-600 mb-8 text-lg",children:"Aucune annonce ne correspond  votre recherche. Essayez de modifier vos filtres ou votre recherche."}),a.jsx("button",{onClick:_e,className:"btn-primary text-lg px-8 py-4",children:"Rinitialiser les filtres"})]})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Filtres"}),a.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-xl text-grey-500 hover:text-grey-700 hover:bg-grey-100 transition-colors",children:a.jsx(Sa,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"input-label text-base font-semibold",children:"Catgorie"}),a.jsxs("select",{id:"category",name:"category",className:"input-field",value:k.category,onChange:le,children:[a.jsx("option",{value:"",children:"Toutes les catgories"}),Za.map(M=>a.jsx("option",{value:M.id,children:M.label},M.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"input-label text-base font-semibold",children:"tat"}),a.jsxs("select",{id:"condition",name:"condition",className:"input-field",value:k.condition,onChange:le,children:[a.jsx("option",{value:"",children:"Tous les tats"}),Ah.map(M=>a.jsx("option",{value:M.id,children:M.label},M.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"district",className:"input-label text-base font-semibold",children:"Quartier"}),a.jsxs("select",{id:"district",name:"district",className:"input-field",value:k.district,onChange:le,children:[a.jsx("option",{value:"",children:"Tous les quartiers"}),yc.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"input-label text-base font-semibold",children:"Prix (FCFA)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx("input",{type:"number",name:"minPrice",placeholder:"Prix min",className:"input-field",value:k.minPrice,onChange:le,min:"0"})}),a.jsx("div",{children:a.jsx("input",{type:"number",name:"maxPrice",placeholder:"Prix max",className:"input-field",value:k.maxPrice,onChange:le,min:"0"})})]})]})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[a.jsx("button",{onClick:_e,className:"btn-outline flex-1 py-3",children:"Rinitialiser"}),a.jsx("button",{onClick:ye,className:"btn-primary flex-1 py-3",children:"Appliquer"})]})]})})]})},E4=()=>{const{user:t}=Et(),[e,r]=_.useState([]),[s,o]=_.useState(!0);return _.useEffect(()=>{if(!t)return;const l=async()=>{try{const{data:d,error:f}=await oe.from("messages").select(`
            *,
            listing:listings!messages_listing_id_fkey (
              id,
              title,
              photos,
              user_id
            ),
            sender:users!messages_sender_id_fkey (
              full_name
            ),
            receiver:users!messages_receiver_id_fkey (
              full_name
            )
          `).or(`sender_id.eq.${t.id},receiver_id.eq.${t.id}`).order("created_at",{ascending:!1});if(f)throw f;const p=new Map;d==null||d.forEach(x=>{const y=x.sender_id===t.id,b=y?x.receiver_id:x.sender_id,S=y?x.receiver.full_name:x.sender.full_name,N=`${x.listing_id}_${b}`;if(!p.has(N))p.set(N,{listing_id:x.listing_id,listing_title:x.listing.title,listing_photo:x.listing.photos[0]||"",other_user_id:b,other_user_name:S,last_message:x.content,last_message_date:x.created_at,unread_count:!y&&!x.read?1:0});else if(!y&&!x.read){const j=p.get(N);j.unread_count+=1}});const g=Array.from(p.values()).sort((x,y)=>new Date(y.last_message_date).getTime()-new Date(x.last_message_date).getTime());r(g)}catch(d){console.error("Error fetching conversations:",d),ne.error("Erreur lors du chargement des conversations")}finally{o(!1)}};l();const c=oe.channel("messages-changes").on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`sender_id=eq.${t.id},receiver_id=eq.${t.id}`},()=>{l()}).subscribe();return()=>{c.unsubscribe()}},[t]),s?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsxs("div",{className:"container-custom max-w-4xl",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Messages"}),e.length>0?a.jsx("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:a.jsx("div",{className:"divide-y divide-grey-200",children:e.map(l=>a.jsx(we,{to:`/messages/${l.listing_id}/${l.other_user_id}`,className:"block p-4 hover:bg-grey-50 transition-colors",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-16 w-16 rounded-md overflow-hidden flex-shrink-0",children:a.jsx("img",{src:l.listing_photo||"https://via.placeholder.com/64",alt:l.listing_title,className:"h-full w-full object-cover"})}),a.jsxs("div",{className:"ml-4 flex-grow",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"font-medium text-grey-900 line-clamp-1",children:l.listing_title}),a.jsx("span",{className:"text-xs text-grey-500",children:es(l.last_message_date)})]}),a.jsx("p",{className:"text-sm text-grey-600 mt-1",children:l.other_user_name}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("p",{className:"text-sm text-grey-500 line-clamp-1",children:l.last_message}),l.unread_count>0&&a.jsx("span",{className:"bg-primary text-white text-xs font-medium px-2 py-0.5 rounded-full",children:l.unread_count})]})]})]})},`${l.listing_id}_${l.other_user_id}`))})}):a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(lo,{className:"h-16 w-16 text-grey-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Aucun message"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Vous n'avez pas encore de conversations. Parcourez les annonces et contactez les vendeurs pour commencer  discuter."}),a.jsx(we,{to:"/search",className:"btn-primary",children:"Parcourir les annonces"})]})]})})},C4=()=>{const{listingId:t,userId:e}=uc(),{user:r}=Et(),s=xt(),o=t||"",l=e||"";_.useEffect(()=>{(!o||!l)&&(ne.error("Paramtres de conversation invalides."),s("/messages")),r&&r.id===l&&(ne.error("Vous ne pouvez pas discuter avec vous-mme."),s("/messages"))},[o,l,r,s]);const[c,d]=_.useState([]),[f,p]=_.useState(""),[g,x]=_.useState(!0),[y,b]=_.useState(!1),[S,N]=_.useState(null),[j,A]=_.useState(null),C=_.useRef(null),k=async()=>{if(!(!r||!o||!l))try{const{data:D,error:z}=await oe.from("messages").select(`
          *,
          sender:users!messages_sender_id_fkey (
            full_name
          ),
          receiver:users!messages_receiver_id_fkey (
            full_name
          )
        `).eq("listing_id",o).or(`and(sender_id.eq.${r.id},receiver_id.eq.${l}),and(sender_id.eq.${l},receiver_id.eq.${r.id})`).order("created_at",{ascending:!0});if(z)throw z;d(D||[])}catch(D){console.error("Error fetching messages:",D)}},L=async()=>{try{const{data:D,error:z}=await oe.from("listings").select("id, title, photos, price, user_id").eq("id",o).single();if(z)throw z;N({id:D.id,title:D.title,photo:D.photos[0]||"",price:D.price,seller_id:D.user_id});const{data:H,error:Z}=await oe.from("users").select("id, full_name").eq("id",l).single();if(Z)throw Z;A({id:H.id,full_name:H.full_name}),await k()}catch(D){console.error("Error fetching data:",D),ne.error("Erreur lors du chargement de la conversation"),s("/messages")}finally{x(!1)}};_.useEffect(()=>{if(!r||!o||!l)return;(async()=>{try{await L()}catch(H){console.error("Error fetching data:",H),ne.error("Erreur lors du chargement de la conversation"),s("/messages")}finally{x(!1)}})();const z=oe.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`listing_id=eq.${o}`},()=>{k()}).subscribe();return()=>{z.unsubscribe()}},[r,o,l,s]),_.useEffect(()=>{var H,Z;const D=(H=C.current)==null?void 0:H.parentElement;if(!D)return;D.scrollHeight-D.scrollTop-D.clientHeight<50&&((Z=C.current)==null||Z.scrollIntoView({behavior:"smooth"})),c.length>0&&r&&(async()=>await oe.from("messages").update({read:!0}).eq("listing_id",o).eq("receiver_id",r.id).eq("read",!1))()},[c,o,r]);const R=async D=>{if(D.preventDefault(),!(!f.trim()||!r||!o||!l)){b(!0);try{const{error:z}=await oe.from("messages").insert({listing_id:o,sender_id:r.id,receiver_id:l,content:f.trim(),read:!1});if(z)throw z;p(""),await k()}catch(z){console.error("Error sending message:",z),ne.error("Erreur lors de l'envoi du message")}finally{b(!1)}}};return g?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})}):!S||!j?a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Conversation introuvable"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Cette conversation n'existe pas, a t supprime, ou les paramtres sont invalides."}),a.jsx(we,{to:"/messages",className:"btn-primary",children:"Retour aux messages"})]})})}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-grey-200 flex items-center",children:[a.jsx(we,{to:"/messages",className:"mr-3 text-grey-500 hover:text-grey-700",children:a.jsx(Xn,{className:"h-5 w-5"})}),a.jsx("div",{className:"h-12 w-12 rounded-md overflow-hidden flex-shrink-0",children:a.jsx("img",{src:S.photo||"https://via.placeholder.com/48",alt:S.title,className:"h-full w-full object-cover"})}),a.jsxs("div",{className:"ml-3 flex-grow",children:[a.jsx(we,{to:`/listings/${S.id}`,className:"font-medium text-grey-900 hover:underline line-clamp-1",children:S.title}),a.jsx("p",{className:"text-sm text-grey-600",children:j.full_name})]})]}),a.jsx("div",{className:"p-4 h-[60vh] overflow-y-auto bg-grey-50",children:c.length>0?a.jsxs("div",{className:"space-y-4",children:[c.map(D=>{const z=D.sender_id===(r==null?void 0:r.id);return a.jsxs("div",{className:`flex ${z?"justify-end":"justify-start"}`,children:[!z&&a.jsx("div",{className:"h-8 w-8 rounded-full bg-grey-200 flex items-center justify-center mr-2 flex-shrink-0",children:a.jsx(zr,{className:"h-4 w-4 text-grey-500"})}),a.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${z?"bg-primary text-white rounded-tr-none":"bg-white border border-grey-200 rounded-tl-none"}`,children:[a.jsx("p",{className:"break-words",children:D.content}),a.jsx("p",{className:`text-xs mt-1 ${z?"text-primary-100":"text-grey-500"}`,children:es(D.created_at)})]})]},D.id)}),a.jsx("div",{ref:C})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"bg-grey-100 rounded-full p-4 mb-4",children:a.jsx(lo,{className:"h-8 w-8 text-grey-400"})}),a.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Commencez la conversation"}),a.jsxs("p",{className:"text-grey-600 max-w-md",children:["Envoyez un message  ",j.full_name,'  propos de "',S.title,'"']})]})}),a.jsx("div",{className:"p-4 border-t border-grey-200",children:a.jsxs("form",{onSubmit:R,className:"flex items-center",children:[a.jsx("input",{type:"text",value:f,onChange:D=>p(D.target.value),placeholder:"crivez votre message...",className:"input-field flex-grow",disabled:y}),a.jsx("button",{type:"submit",className:"btn-primary ml-2 flex items-center justify-center",disabled:!f.trim()||y,children:y?a.jsx(rt,{size:"small",className:"text-white"}):a.jsx(Ph,{className:"h-5 w-5"})})]})})]})})})},P4=()=>{const t=qt(),e=new URLSearchParams(t.search),r=e.get("listing_id"),s=e.get("type"),o=e.get("user_id"),l=e.get("token"),c=xt(),[d,f]=_.useState(!0),[p,g]=_.useState(null),[x,y]=_.useState("Votre paiement a t trait avec succs !");return _.useEffect(()=>{(async()=>{var S,N,j,A,C,k;try{if(await new Promise(L=>setTimeout(L,2e3)),s==="fusionpay"&&l)try{let L="/api/fusionpay-check-status";(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(L="/.netlify/functions/fusionpay-check-status");const D=await(await fetch(`${L}?token=${encodeURIComponent(l)}`)).json();(D==null?void 0:D.statut)===!0&&((S=D==null?void 0:D.data)==null?void 0:S.statut)==="paid"||((N=D==null?void 0:D.data)==null?void 0:N.statut)==="paid"?y("Votre paiement a t confirm."):((j=D==null?void 0:D.data)==null?void 0:j.statut)==="pending"?y("Paiement en cours de traitement..."):(((A=D==null?void 0:D.data)==null?void 0:A.statut)==="failed"||((C=D==null?void 0:D.data)==null?void 0:C.statut)==="failure"||((k=D==null?void 0:D.data)==null?void 0:k.statut)==="no paid")&&y("Le paiement n'a pas abouti.")}catch{}if(r){const{data:L,error:R}=await oe.from("listings").select("status").eq("id",r).single();!R&&L&&(L.status==="active"?y("Votre annonce a t publie avec succs !"):y("Paiement reu. Votre annonce sera publie sous peu."))}else s==="pack"?(y("Vos crdits ont t ajouts  votre compte !"),localStorage.setItem("credit_purchase_pending","true")):s==="boost"&&y("Votre boost a t appliqu avec succs !");if(o){const{data:L,error:R}=await oe.from("transactions").select("*").eq("user_id",o).eq("status","completed").order("created_at",{ascending:!1}).limit(1);!R&&L&&L.length>0&&g(L[0].id)}}catch(L){console.error("Error updating transaction:",L)}finally{f(!1)}})()},[r,s,o,l]),d?a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(rt,{size:"large"}),a.jsx("p",{className:"mt-4 text-grey-600",children:"Traitement de votre paiement..."})]})}):a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-2xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx("div",{className:"h-20 w-20 bg-success-50 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Ul,{className:"h-12 w-12 text-success"})}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Paiement russi !"}),a.jsx("p",{className:"text-grey-600 mb-6",children:x}),p&&a.jsxs("p",{className:"text-sm text-grey-500 mb-6",children:["Rfrence de transaction: ",p]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r&&a.jsx(we,{to:`/listings/${r}`,className:"btn-primary",children:"Voir mon annonce"}),s==="pack"&&a.jsx(we,{to:"/profile",className:"btn-primary",children:"Voir mes crdits"}),a.jsx("button",{onClick:()=>c("/"),className:"btn-secondary",children:"Retour  l'accueil"})]}),a.jsx("div",{className:"mt-8 p-4 bg-primary-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-primary-700",children:[" ",a.jsx("strong",{children:"Merci d'utiliser DaloaMarket !"}),a.jsx("br",{}),"Votre paiement a t trait de manire scurise."]})})]})})})},T4=()=>{const t=xt(),e=qt(),s=new URLSearchParams(e.search).get("type"),o=()=>{switch(s){case"pack":return()=>t("/acheter-credits");case"annonce":return()=>t("/create-listing");case"boost":return()=>t("/profile");default:return()=>t("/")}},l=()=>{switch(s){case"pack":return"Ressayer l'achat de crdits";case"annonce":return"Crer une nouvelle annonce";case"boost":return"Retour au profil";default:return"Retour  l'accueil"}};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-2xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx("div",{className:"h-20 w-20 bg-error-50 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ze,{className:"h-12 w-12 text-error"})}),a.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Paiement annul"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Votre paiement a t annul ou n'a pas pu tre trait. Aucun montant n'a t dbit de votre compte."}),a.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 text-left",children:[a.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Que s'est-il pass ?"}),a.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[a.jsx("li",{children:" Le paiement a t annul par l'utilisateur"}),a.jsx("li",{children:" Problme de connexion avec PayDunya"}),a.jsx("li",{children:" Solde insuffisant sur votre compte mobile money"}),a.jsx("li",{children:" Timeout de la session de paiement"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx("button",{onClick:o(),className:"btn-primary",children:l()}),a.jsx(we,{to:"/help",className:"btn-outline",children:"Contacter le support"})]}),a.jsx("div",{className:"mt-8 p-4 bg-grey-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-grey-600",children:[a.jsx("strong",{children:"Besoin d'aide ?"}),a.jsx("br",{}),"Si vous rencontrez des difficults rcurrentes, n'hsitez pas  nous contacter via la page d'aide."]})})]})})})},A4=({listingId:t,userEmail:e,userPhone:r,userFullName:s,onSuccess:o})=>{const[l,c]=_.useState(s||""),[d,f]=_.useState(e||""),[p,g]=_.useState(r||""),[x,y]=_.useState(null),[b,S]=_.useState(null),[N,j]=_.useState(!1),[A,C]=_.useState(!1),k=D=>{if(D.target.files&&D.target.files[0]){const z=D.target.files[0];y(z);const H=new FileReader;H.onloadend=()=>S(H.result),H.readAsDataURL(z)}},L=async D=>{if(D.preventDefault(),!l||!d||!p||!x){ne.error("Tous les champs sont obligatoires.");return}j(!0);try{const H=await(ee=>new Promise((he,le)=>{const ye=new FileReader;ye.readAsDataURL(ee),ye.onload=()=>he(ye.result),ye.onerror=_e=>le(_e)}))(x);let Z="/api/send-listing-payment";(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(Z="/.netlify/functions/send-listing-payment");let re,ge;try{re=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listingId:t,fullName:l,email:d,phone:p,screenshotBase64:H,screenshotFilename:x.name})}),ge=await re.json()}catch{ne.error(`Erreur rseau ou API. Vrifiez que la Netlify Function est bien dploye.
Dtail: rponse non JSON reue.`),j(!1);return}if(!re.ok)throw new Error(ge.error||"Erreur lors de l'envoi");ne.success("Demande envoye, nous validerons votre paiement rapidement !"),o&&o()}catch(z){const H=z instanceof Error?z.message:"Erreur lors de l'envoi.";ne.error(H)}finally{j(!1)}},R=async()=>{if(!l||!p){ne.error("Nom complet et tlphone sont requis");return}C(!0);try{let D="/api/fusionpay-create-payment";(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(D="/.netlify/functions/fusionpay-create-payment");const z=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({listingId:t,listingTitle:"Publication annonce",userId:void 0,fullName:l,phone:p,amount:200})}),H=await z.json();if(!z.ok)throw new Error(H.error||"Erreur dmarrage paiement");H!=null&&H.url?window.location.href=H.url:ne.error("URL de paiement introuvable")}catch(D){const z=D instanceof Error?D.message:"Erreur dmarrage paiement";ne.error(z)}finally{C(!1)}};return a.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-2xl p-8 border border-primary-100 animate-fade-in",children:[a.jsxs("h2",{className:"text-2xl font-bold text-center mb-6 text-primary flex items-center justify-center gap-2",children:[a.jsx("span",{role:"img","aria-label":"paiement",children:""})," Paiement de l'annonce"]}),a.jsxs("div",{className:"space-y-3 mb-8",children:[a.jsx("button",{type:"button",onClick:R,className:"w-full py-3 text-lg font-semibold rounded-xl shadow-card border border-green-200 bg-green-600 hover:bg-green-700 text-white transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:A,children:A?"Dmarrage du paiement":"Payer maintenant (Mobile Money)"}),a.jsx("p",{className:"text-xs text-center text-grey-500",children:"Vous serez redirig vers la page de paiement scurise."})]}),a.jsxs("form",{onSubmit:L,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 font-semibold text-grey-800",children:"Nom complet"}),a.jsx("input",{type:"text",className:"input-field w-full rounded-lg border-2 border-primary-100 focus:border-primary-400 transition",value:l,onChange:D=>c(D.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 font-semibold text-grey-800",children:"Tlphone"}),a.jsx("input",{type:"tel",className:"input-field w-full rounded-lg border-2 border-primary-100 focus:border-primary-400 transition",value:p,onChange:D=>g(D.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 font-semibold text-grey-800",children:"Email"}),a.jsx("input",{type:"email",className:"input-field w-full rounded-lg border-2 border-primary-100 focus:border-primary-400 transition",value:d,onChange:D=>f(D.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-2 font-semibold text-grey-800",children:["Preuve de paiement ",a.jsx("span",{className:"text-xs text-grey-500",children:"(screenshot)"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:k,required:!0,className:"block w-full text-sm text-grey-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary hover:file:bg-primary-100"}),b&&a.jsxs("div",{className:"mt-3 flex flex-col items-center",children:[a.jsx("img",{src:b,alt:"Aperu",className:"rounded-lg shadow-md max-h-40 border border-primary-200"}),a.jsx("span",{className:"text-xs text-grey-500 mt-1",children:"Aperu de la preuve"})]})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center py-3 text-lg font-semibold rounded-xl shadow-card border border-primary-200 bg-primary hover:bg-primary-600 text-white transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:N,children:N?a.jsx(rt,{size:"small",className:"text-white"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{role:"img","aria-label":"envoyer",children:""})," Envoyer une preuve manuelle"]})}),N&&a.jsx("div",{className:"flex justify-center mt-2",children:a.jsx("span",{className:"text-primary-600 text-sm animate-pulse",children:"Envoi en cours..."})})]})]})},R4=()=>{var f;const{id:t}=uc(),{user:e,userProfile:r}=Et(),s=xt(),[o,l]=_.useState(!0),[c,d]=_.useState(null);return _.useEffect(()=>{(async()=>{l(!0);try{if(!t)return;const{data:g,error:x}=await oe.from("listings").select("*").eq("id",t).single();if(x)throw x;d(g)}catch{ne.error("Impossible de charger l'annonce"),s("/")}finally{l(!1)}})()},[t,s]),o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-grey-50",children:a.jsx(rt,{size:"large"})}):c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-warning-50 to-white flex items-center justify-center py-8 px-2",children:a.jsxs("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl p-8 border border-warning-200",children:[a.jsx("h1",{className:"text-2xl font-bold text-warning-700 mb-2 text-center",children:"Paiement de l'annonce"}),a.jsxs("p",{className:"text-base text-grey-700 mb-6 text-center",children:["Merci de rgler les frais de publication (200 FCFA) pour activer votre annonce.",a.jsx("br",{}),"Un membre de l'quipe validera la publication sous 24h."]}),a.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[a.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden mb-2 border-2 border-warning-200 flex items-center justify-center bg-grey-50",children:a.jsx("img",{src:((f=c.photos)==null?void 0:f[0])||"https://via.placeholder.com/96",alt:c.title,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"text-lg font-semibold text-grey-900 mb-1",children:c.title}),a.jsx("div",{className:"text-warning-700 font-bold",children:"200 FCFA"})]}),a.jsx(A4,{listingId:c.id,userEmail:(e==null?void 0:e.email)||"",userPhone:(r==null?void 0:r.phone)||"",userFullName:(r==null?void 0:r.full_name)||"",onSuccess:()=>{ne.success("Preuve envoye, nous validerons votre annonce rapidement !"),s(`/listings/${c.id}`)}}),a.jsxs("div",{className:"mt-6 text-center text-grey-500 text-xs",children:["Besoin d'aide ? Contactez-nous sur WhatsApp ou par email.",a.jsx("br",{}),a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"underline",children:"support@daloamarket.shop"})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-grey-50",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Annonce introuvable"}),a.jsx("button",{className:"btn-primary",onClick:()=>s("/"),children:"Retour  l'accueil"})]})})},O4=()=>a.jsx("div",{className:"min-h-screen bg-grey-50 py-12",children:a.jsx("div",{className:"container-custom max-w-2xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Page non trouve"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"La page que vous recherchez n'existe pas ou a t dplace."}),a.jsx(we,{to:"/",className:"btn-primary",children:"Retour  l'accueil"})]})})}),D4=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-grey-50",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-error-600",children:"Compte suspendu"}),a.jsx("p",{className:"text-grey-700",children:"Votre compte a t suspendu. Contactez le support si vous pensez qu'il s'agit d'une erreur."})]})}),L4=()=>{const[t,e]=_.useState([]),[r,s]=_.useState({}),[o,l]=_.useState({});_.useEffect(()=>{t.length>0&&s(t.reduce((M,P)=>(M[P.id]={credits:P.credits,role:P.role},M),{}))},[t]);const{userProfile:c}=Et();_.useEffect(()=>{console.log("DEBUG SUPABASE:",oe)},[]);const[d,f]=_.useState(!0),[p,g]=_.useState(null),[x,y]=_.useState([]),[b,S]=_.useState(!0),[N,j]=_.useState(null),[A,C]=_.useState([]),[k,L]=_.useState(!0),[R,D]=_.useState(null),[z,H]=_.useState([]),[Z,re]=_.useState(!0),[ge,ee]=_.useState(null);_.useEffect(()=>{if(!c||c.role!=="admin")return;(async()=>{f(!0),g(null);try{const{data:P,error:E}=await oe.from("users").select("id, email, full_name, role, banned, user_credits(credits)");if(E)throw E;const V=(P||[]).map(ie=>{var xe;return{id:ie.id,email:ie.email,full_name:ie.full_name,role:ie.role,banned:ie.banned,credits:((xe=ie.user_credits)==null?void 0:xe.credits)??0}});e(V)}catch(P){g(P.message||"Erreur lors du chargement des utilisateurs")}finally{f(!1)}})()},[c]),_.useEffect(()=>{if(!c||c.role!=="admin")return;(async()=>{S(!0),j(null);try{const{data:P,error:E}=await oe.from("listings").select("id, title, user_id, price, status, created_at").order("created_at",{ascending:!1});if(E)throw E;y(P||[])}catch(P){j(P.message||"Erreur lors du chargement des annonces")}finally{S(!1)}})()},[c]),_.useEffect(()=>{if(!c||c.role!=="admin")return;(async()=>{L(!0),D(null);try{const{data:P,error:E}=await oe.from("user_credits").select("user_id, credits, total_earned, total_spent");if(E)throw E;C(P||[])}catch(P){D(P.message||"Erreur lors du chargement des crdits")}finally{L(!1)}})()},[c]),_.useEffect(()=>{if(!c||c.role!=="admin")return;(async()=>{re(!0),ee(null);try{const{data:P,error:E}=await oe.from("transactions").select("id, user_id, amount, type, status, created_at").order("created_at",{ascending:!1});if(E)throw E;H(P||[])}catch(P){ee(P.message||"Erreur lors du chargement des transactions")}finally{re(!1)}})()},[c]);const he=async(M,P)=>{await oe.from("users").update({banned:!P}).eq("id",M),e(E=>E.map(V=>V.id===M?{...V,banned:!P}:V))},le=async(M,P)=>{await oe.from("user_credits").update({credits:P}).eq("user_id",M),e(E=>E.map(V=>V.id===M?{...V,credits:P}:V))},ye=async(M,P)=>{await oe.from("users").update({role:P}).eq("id",M),e(E=>E.map(V=>V.id===M?{...V,role:P}:V))},_e=async M=>{window.confirm("Supprimer cette annonce ?")&&(await oe.from("listings").delete().eq("id",M),y(P=>P.filter(E=>E.id!==M)))},fe=async M=>{await oe.from("listings").update({status:"disabled"}).eq("id",M),y(P=>P.map(E=>E.id===M?{...E,status:"disabled"}:E))},X=async M=>{await oe.from("listings").update({status:"sold"}).eq("id",M),y(P=>P.map(E=>E.id===M?{...E,status:"sold"}:E))};return!c||c.role!=="admin"?a.jsx(Rs,{to:"/",replace:!0}):a.jsxs("div",{className:"min-h-screen bg-grey-50 py-10",children:[a.jsxs("div",{className:"container-custom max-w-5xl bg-white rounded-card shadow-card p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tableau de bord Admin"}),a.jsx("p",{className:"mb-4 text-grey-700",children:"Grez les utilisateurs, bannissements et crdits."}),p&&a.jsx("div",{className:"text-error-600 mb-4",children:p}),d?a.jsx("div",{children:"Chargement..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-grey-100",children:[a.jsx("th",{className:"p-2",children:"ID (court)"}),a.jsx("th",{className:"p-2",children:"Email"}),a.jsx("th",{className:"p-2",children:"Nom"}),a.jsx("th",{className:"p-2",children:"Rle"}),a.jsx("th",{className:"p-2",children:"Banni"}),a.jsx("th",{className:"p-2",children:"Crdits"}),a.jsx("th",{className:"p-2",children:"Ajouter un pack"}),a.jsx("th",{className:"p-2",children:"Actions"}),a.jsx("th",{className:"p-2",children:"Sauvegarder"})]})}),a.jsx("tbody",{children:t.map(M=>{var Se,De;const P=M.id.slice(0,6)+"..."+M.id.slice(-4),E=[{label:"+3 crdits (500 FCFA)",value:3,price:500},{label:"+10 crdits (1500 FCFA)",value:10,price:1500},{label:"+30 crdits (3500 FCFA)",value:30,price:3500}],V=r[M.id]||{credits:M.credits,role:M.role},ie=je=>{s(Le=>({...Le,[M.id]:{...V,credits:V.credits+je}}))},xe=je=>{s(Le=>({...Le,[M.id]:{...V,role:je}}))},Ae=async()=>{l(je=>({...je,[M.id]:{success:void 0,error:void 0}}));try{await le(M.id,V.credits),await ye(M.id,V.role),f(!0),g(null);const{data:je,error:Le}=await oe.from("users").select("id, email, full_name, role, banned, user_credits(credits)");if(Le)throw Le;const Ye=(je||[]).map(vt=>{var Wt;return{id:vt.id,email:vt.email,full_name:vt.full_name,role:vt.role,banned:vt.banned,credits:((Wt=vt.user_credits)==null?void 0:Wt.credits)??0}});e(Ye),l(vt=>({...vt,[M.id]:{success:!0}}))}catch(je){g(je.message||"Erreur lors du rechargement"),l(Le=>({...Le,[M.id]:{error:je.message||"Erreur lors de la sauvegarde"}}))}finally{f(!1),setTimeout(()=>{l(je=>({...je,[M.id]:{}}))},2500)}};return a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2 font-mono text-xs",children:P}),a.jsx("td",{className:"p-2",children:M.email}),a.jsx("td",{className:"p-2",children:M.full_name}),a.jsx("td",{className:"p-2",children:a.jsxs("select",{className:"px-2 py-1 rounded border bg-white text-grey-800",value:V.role,onChange:je=>xe(je.target.value),"aria-label":"Changer le rle",children:[a.jsx("option",{value:"user",children:"Utilisateur"}),a.jsx("option",{value:"moderator",children:"Modrateur"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsx("td",{className:"p-2",children:M.banned?"Oui":"Non"}),a.jsx("td",{className:"p-2",children:V.credits}),a.jsx("td",{className:"p-2 flex flex-col gap-1",children:E.map(je=>a.jsx("button",{className:"px-2 py-1 rounded bg-blue-100 text-blue-800 border border-blue-300 hover:bg-blue-200",onClick:()=>ie(je.value),children:je.label},je.value))}),a.jsx("td",{className:"p-2 flex gap-2 flex-wrap",children:a.jsx("button",{className:`px-2 py-1 rounded ${M.banned?"bg-green-500":"bg-red-500"} text-white`,onClick:()=>he(M.id,M.banned),children:M.banned?"Dbannir":"Bannir"})}),a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[a.jsx("button",{className:"px-2 py-1 rounded bg-green-600 text-white hover:bg-green-700",onClick:Ae,children:"Sauvegarder"}),((Se=o[M.id])==null?void 0:Se.success)&&a.jsx("span",{className:"text-green-600 text-xs",children:"Modifications enregistres !"}),((De=o[M.id])==null?void 0:De.error)&&a.jsx("span",{className:"text-red-600 text-xs",children:o[M.id].error})]})})]},M.id)})})]})})]}),a.jsxs("div",{className:"container-custom max-w-5xl bg-white rounded-card shadow-card p-8 mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des annonces"}),N&&a.jsx("div",{className:"text-error-600 mb-4",children:N}),b?a.jsx("div",{children:"Chargement des annonces..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-grey-100",children:[a.jsx("th",{className:"p-2",children:"Titre"}),a.jsx("th",{className:"p-2",children:"ID utilisateur"}),a.jsx("th",{className:"p-2",children:"Prix"}),a.jsx("th",{className:"p-2",children:"Statut"}),a.jsx("th",{className:"p-2",children:"Cre le"}),a.jsx("th",{className:"p-2",children:"Actions"})]})}),a.jsx("tbody",{children:x.map(M=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:M.title}),a.jsx("td",{className:"p-2",children:M.user_id}),a.jsxs("td",{className:"p-2",children:[M.price," FCFA"]}),a.jsx("td",{className:"p-2",children:M.status}),a.jsx("td",{className:"p-2",children:new Date(M.created_at).toLocaleString()}),a.jsxs("td",{className:"p-2 flex gap-2 flex-wrap",children:[a.jsx("button",{className:"px-2 py-1 rounded bg-red-500 text-white",onClick:()=>_e(M.id),children:"Supprimer"}),a.jsx("button",{className:"px-2 py-1 rounded bg-yellow-500 text-white",onClick:()=>fe(M.id),disabled:M.status==="disabled",children:"Dsactiver"}),a.jsx("button",{className:"px-2 py-1 rounded bg-green-600 text-white",onClick:()=>X(M.id),disabled:M.status==="sold",children:"Marquer comme vendue"})]})]},M.id))})]})})]}),a.jsxs("div",{className:"container-custom max-w-5xl bg-white rounded-card shadow-card p-8 mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Crdits & Gains utilisateurs"}),R&&a.jsx("div",{className:"text-error-600 mb-4",children:R}),k?a.jsx("div",{children:"Chargement des crdits..."}):a.jsx("div",{className:"overflow-x-auto mb-8",children:a.jsxs("table",{className:"min-w-full border text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-grey-100",children:[a.jsx("th",{className:"p-2",children:"ID utilisateur"}),a.jsx("th",{className:"p-2",children:"Crdits"}),a.jsx("th",{className:"p-2",children:"Total gagn"}),a.jsx("th",{className:"p-2",children:"Total dpens"})]})}),a.jsx("tbody",{children:A.map(M=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:M.user_id}),a.jsx("td",{className:"p-2",children:M.credits}),a.jsxs("td",{className:"p-2",children:[M.total_earned," FCFA"]}),a.jsxs("td",{className:"p-2",children:[M.total_spent," FCFA"]})]},M.user_id))})]})}),a.jsx("h3",{className:"text-xl font-bold mb-2 mt-8",children:"Historique des transactions"}),ge&&a.jsx("div",{className:"text-error-600 mb-4",children:ge}),Z?a.jsx("div",{children:"Chargement des transactions..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-grey-100",children:[a.jsx("th",{className:"p-2",children:"ID"}),a.jsx("th",{className:"p-2",children:"Utilisateur"}),a.jsx("th",{className:"p-2",children:"Montant"}),a.jsx("th",{className:"p-2",children:"Type"}),a.jsx("th",{className:"p-2",children:"Statut"}),a.jsx("th",{className:"p-2",children:"Date"})]})}),a.jsx("tbody",{children:z.map(M=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:M.id}),a.jsx("td",{className:"p-2",children:M.user_id}),a.jsxs("td",{className:"p-2",children:[M.amount," FCFA"]}),a.jsx("td",{className:"p-2",children:M.type}),a.jsx("td",{className:"p-2",children:M.status}),a.jsx("td",{className:"p-2",children:new Date(M.created_at).toLocaleString()})]},M.id))})]})})]})]})},I4=()=>{const[t,e]=ct.useState(null),r=o=>{e(t===o?null:o)},s=[{question:"Comment fonctionne le paiement des annonces ?",answer:"Le paiement se fait manuellement aprs la cration de votre annonce. Vous recevrez les instructions  l'cran. Il n'y a plus de paiement automatique ni de boost."},{question:" quoi servent les crdits ?",answer:"Les crdits servent uniquement  publier des annonces. Il n'y a plus de boost ni d'autres options payantes."},{question:"Comment acheter des crdits ?",answer:"Rendez-vous sur la page 'Acheter des crdits' et suivez les instructions. Le paiement est manuel."},{question:"Puis-je booster mon annonce ?",answer:"Non, la fonctionnalit de boost a t retire. Toutes les annonces sont affiches de faon quitable."}];return a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-3xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border-l-4 border-orange-500 text-orange-800 rounded",children:[" DaloaMarket est en ",a.jsx("strong",{children:"phase de test (version bta)"}),". Certaines fonctionnalits peuvent voluer rapidement. Merci pour votre comprhension et vos retours !"]}),a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Questions frquentes"}),a.jsx("div",{className:"space-y-4",children:s.map((o,l)=>a.jsxs("div",{className:"border border-grey-200 rounded-lg overflow-hidden transition-shadow duration-300 hover:shadow-lg",children:[a.jsxs("button",{onClick:()=>r(l),className:"w-full flex justify-between items-center p-4 text-left font-medium focus:outline-none","aria-label":`Toggle FAQ ${l+1}: ${o.question}`,children:[a.jsx("span",{children:o.question}),t===l?a.jsx(BT,{className:"h-5 w-5 text-grey-500"}):a.jsx(VT,{className:"h-5 w-5 text-grey-500"})]}),t===l&&a.jsx("div",{className:"p-4 pt-0 text-grey-600 border-t border-grey-200",children:o.answer})]},l))}),a.jsxs("div",{className:"mt-8 p-4 bg-primary-50 rounded-lg",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Vous avez d'autres questions ?"}),a.jsx("p",{className:"text-grey-600 mb-4",children:"N'hsitez pas  nous contacter si vous ne trouvez pas la rponse  votre question."}),a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"btn-primary inline-block transition-all duration-300 ease-in-out transform hover:scale-105",children:"Contacter le support"})]}),a.jsxs("div",{className:"mt-8 text-sm text-grey-600 text-center",children:["Besoin d'informations sur le projet ou son crateur ? ",a.jsx("a",{href:"/about",className:"text-primary underline",children:"Voir la page  propos"})]})]})})})},M4=()=>a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Conditions d'utilisation"}),a.jsxs("div",{className:"prose max-w-none text-grey-700",children:[a.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border-l-4 border-orange-500 text-orange-800 rounded",children:[" Daloa Market est actuellement en ",a.jsx("strong",{children:"phase de test (version bta)"}),".",a.jsx("br",{}),"Cette plateforme volue rapidement grce  vos retours. Certaines fonctionnalits ou conditions peuvent changer sans pravis.",a.jsx("br",{}),a.jsx("strong",{children:"Aucune structure juridique formelle nest encore cre."})," Lactivit reste  petite chelle et sadapte selon les retours des utilisateurs."]}),a.jsx("p",{children:"Bienvenue sur DaloaMarket. En utilisant notre plateforme, vous acceptez les prsentes conditions d'utilisation. Veuillez les lire attentivement."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"1. Acceptation des conditions"}),a.jsx("p",{children:"En accdant  DaloaMarket, vous acceptez d'tre li par ces conditions d'utilisation, toutes les lois et rglementations applicables, et vous acceptez que vous tes responsable du respect des lois locales applicables. Si vous n'acceptez pas ces conditions, vous ne devez pas utiliser ce site."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"2. Inscription et compte"}),a.jsx("p",{children:"Pour utiliser certaines fonctionnalits de DaloaMarket, vous devez crer un compte. Vous tes responsable de maintenir la confidentialit de votre compte et mot de passe et de restreindre l'accs  votre ordinateur. Vous acceptez d'assumer la responsabilit de toutes les activits qui se produisent sous votre compte."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"3. Publication d'annonces"}),a.jsxs("p",{children:["Pour publier une annonce sur DaloaMarket, vous devez disposer d'un crdit ou payer l'annonce  l'unit (200 FCFA) par paiement manuel. Il n'y a plus de systme de boost ou de mise en avant payante.",a.jsx("br",{}),"En publiant une annonce, vous garantissez que :"]}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Vous tes le propritaire lgitime de l'article ou autoris  le vendre"}),a.jsx("li",{children:"L'article est lgal  vendre en Cte d'Ivoire"}),a.jsx("li",{children:"Les informations fournies sont exactes et compltes"}),a.jsx("li",{children:"Les photos tlcharges reprsentent fidlement l'article vendu"}),a.jsx("li",{children:"Vous respectez toutes les lois et rglementations applicables"})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"4. Articles interdits"}),a.jsx("p",{children:"Les articles suivants sont interdits sur DaloaMarket :"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Produits illgaux ou contrefaits"}),a.jsx("li",{children:"Armes, explosifs et matriel dangereux"}),a.jsx("li",{children:"Drogues, mdicaments sur ordonnance et substances contrles"}),a.jsx("li",{children:"Produits  caractre pornographique"}),a.jsx("li",{children:"Animaux vivants"}),a.jsx("li",{children:"Services illgaux ou contraires  l'thique"}),a.jsx("li",{children:"Tout autre article interdit par la loi ivoirienne"})]}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"5. Crdits, frais et paiements"}),a.jsx("h2",{children:"1. Fonctionnement gnral"}),a.jsx("p",{children:"DaloaMarket est une plateforme de mise en relation entre particuliers pour l'achat et la vente d'articles d'occasion  Daloa. Les utilisateurs peuvent publier des annonces en utilisant des crdits. Le paiement de la publication se fait manuellement aprs cration de l'annonce. Il n'y a plus de boost ni de paiement automatique."}),a.jsx("h2",{children:"2. Crdits"}),a.jsx("p",{children:"Les crdits servent uniquement  publier des annonces. Ils sont achets manuellement via les moyens de paiement proposs (Mobile Money, etc.). Aucun crdit n'est rembours en cas de suppression d'annonce."}),a.jsx("h2",{children:"3. Paiement"}),a.jsx("p",{children:"Le paiement des crdits et des annonces se fait uniquement de faon manuelle. Aucune transaction automatique n'est effectue par la plateforme. Les transactions entre acheteurs et vendeurs se font en personne, sans intervention de DaloaMarket."}),a.jsx("h2",{children:"4. Suppression des boosts"}),a.jsx("p",{children:"La fonctionnalit de boost d'annonce a t retire. Toutes les annonces sont affiches de faon quitable."}),a.jsx("h2",{children:"5. Responsabilit"}),a.jsx("p",{children:"DaloaMarket n'est pas responsable des transactions entre utilisateurs. Les utilisateurs doivent rester vigilants lors des changes."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"6. Transactions entre utilisateurs"}),a.jsx("p",{children:"DaloaMarket est une plateforme qui met en relation acheteurs et vendeurs. Nous ne sommes pas partie aux transactions entre utilisateurs et n'assumons aucune responsabilit pour les problmes pouvant survenir lors de ces transactions. Nous recommandons aux utilisateurs de prendre les prcautions ncessaires lors des rencontres en personne et des changes d'argent."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"7. Proprit intellectuelle"}),a.jsx("p",{children:"Le contenu de DaloaMarket, y compris les textes, graphiques, logos, images, ainsi que leur compilation, est la proprit de DaloaMarket et est protg par les lois sur le droit d'auteur et la proprit intellectuelle. Vous ne pouvez pas reproduire, dupliquer, copier, vendre, revendre ou exploiter une partie du service sans autorisation expresse crite."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"8. Limitation de responsabilit"}),a.jsx("p",{children:"DaloaMarket ne garantit pas que le service sera ininterrompu, opportun, scuris ou sans erreur. DaloaMarket ne sera pas responsable des dommages directs, indirects, accessoires, spciaux ou conscutifs rsultant de l'utilisation ou de l'impossibilit d'utiliser le service."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"9. Modifications des conditions"}),a.jsx("p",{children:"DaloaMarket se rserve le droit de modifier ces conditions d'utilisation  tout moment. Les modifications entrent en vigueur ds leur publication sur le site. Il est de votre responsabilit de consulter rgulirement ces conditions."}),a.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3",children:"10. Loi applicable"}),a.jsx("p",{children:"Ces conditions sont rgies par les lois de la Rpublique de Cte d'Ivoire. Tout litige relatif  l'utilisation de DaloaMarket sera soumis  la comptence exclusive des tribunaux d'Abidjan."}),a.jsx("p",{className:"mt-8",children:"Date de dernire mise  jour : 11 Aot 2025"})]})]})})}),F4=()=>a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-4xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Politique de confidentialit"}),a.jsxs("div",{className:"prose max-w-none text-grey-700",children:[a.jsx("h2",{children:"Collecte des donnes"}),a.jsx("p",{children:"Nous collectons uniquement les informations ncessaires  la cration de votre compte et  la publication d'annonces (nom, email, tlphone, quartier)."}),a.jsx("h2",{children:"Utilisation des donnes"}),a.jsx("p",{children:"Vos donnes sont utilises uniquement pour le fonctionnement de la plateforme. Aucun partage  des tiers, aucun usage commercial externe."}),a.jsx("h2",{children:"Paiement"}),a.jsx("p",{children:"Les paiements sont raliss manuellement. Aucune donne bancaire n'est collecte ni stocke par DaloaMarket."}),a.jsx("h2",{children:"Suppression des donnes"}),a.jsx("p",{children:"Vous pouvez demander la suppression de votre compte et de vos donnes  tout moment via le support."})]})]})})}),z4=()=>{const{user:t,userProfile:e,updateUserProfile:r}=Et(),s=xt(),[o,l]=_.useState(!1),{register:c,handleSubmit:d,formState:{errors:f,isDirty:p}}=zi({defaultValues:{full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",district:(e==null?void 0:e.district)||""}}),g=async x=>{l(!0);try{const{error:y}=await r({full_name:x.full_name,phone:x.phone,district:x.district});if(y)throw y;ne.success("Profil mis  jour avec succs"),s("/profile")}catch(y){console.error("Profile update error:",y),ne.error(y.message||"Erreur lors de la mise  jour du profil")}finally{l(!1)}};return e?a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsx("div",{className:"container-custom max-w-2xl",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 md:p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Paramtres du compte"}),a.jsxs("form",{onSubmit:d(g),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),a.jsx("input",{id:"email",type:"email",className:"input-field bg-grey-50",value:(t==null?void 0:t.email)||"",disabled:!0}),a.jsx("p",{className:"text-xs text-grey-500 mt-1",children:"L'email ne peut pas tre modifi"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"full_name",className:"input-label",children:"Nom complet"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"full_name",type:"text",className:`input-field pl-10 ${f.full_name?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Votre nom complet",...c("full_name",{required:"Le nom complet est requis",minLength:{value:3,message:"Le nom doit contenir au moins 3 caractres"}}),disabled:o}),a.jsx(zr,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.full_name&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.full_name.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"input-label",children:"Numro de tlphone"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"phone",type:"tel",className:`input-field pl-10 ${f.phone?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"+225 XX XX XX XX XX",...c("phone",{required:"Le numro de tlphone est requis",validate:x=>ww(x)||"Veuillez entrer un numro de tlphone ivoirien valide"}),disabled:o}),a.jsx(zs,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.phone&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.phone.message]}),a.jsx("p",{className:"text-xs text-grey-500 mt-1",children:"Format: +225 XX XX XX XX XX ou 07 XX XX XX XX"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"district",className:"input-label",children:"Quartier  Daloa"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:"district",className:`input-field pl-10 ${f.district?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,...c("district",{required:"Le quartier est requis"}),disabled:o,children:[a.jsx("option",{value:"",children:"Slectionnez votre quartier"}),yc.map(x=>a.jsx("option",{value:x,children:x},x))]}),a.jsx(is,{className:"absolute left-3 top-3.5 h-5 w-5 text-grey-400"})]}),f.district&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),f.district.message]})]}),a.jsxs("div",{className:"flex justify-end pt-4",children:[a.jsx("button",{type:"button",onClick:()=>s("/profile"),className:"btn-outline mr-3",disabled:o,children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:o||!p,children:o?a.jsx(rt,{size:"small",className:"text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(JT,{className:"h-5 w-5 mr-2"}),"Enregistrer"]})})]})]})]})})}):a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx(rt,{size:"large"})})},V4=()=>{const[t,e]=_.useState(!1),[r,s]=_.useState(!1),{register:o,handleSubmit:l,reset:c,formState:{errors:d}}=zi(),f=async()=>{e(!0);try{await new Promise(p=>setTimeout(p,1500)),ne.success("Message envoy avec succs"),s(!0),c()}catch(p){console.error("Error sending message:",p),ne.error("Erreur lors de l'envoi du message")}finally{e(!1)}};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-8",children:a.jsxs("div",{className:"container-custom max-w-6xl",children:[a.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Aide & Support"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contactez-nous"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(oo,{className:"h-5 w-5 text-primary mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email"}),a.jsx("a",{href:"mailto:support@daloamarket.shop",className:"text-grey-600 hover:text-primary",children:"support@daloamarket.shop"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(zs,{className:"h-5 w-5 text-primary mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Tlphones"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("a",{href:"tel:+2250788000831",className:"text-grey-600 hover:text-primary block",children:"+225 07 88 00 08 31 (Orange/Wave)"}),a.jsx("a",{href:"tel:+2250555863953",className:"text-grey-600 hover:text-primary block",children:"+225 05 55 86 39 53 (MTN)"})]})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(is,{className:"h-5 w-5 text-primary mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Adresse"}),a.jsxs("p",{className:"text-grey-600",children:["Quartier Lobia",a.jsx("br",{}),"Daloa, Cte d'Ivoire"]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Liens utiles"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(we,{to:"/faq",className:"text-grey-600 hover:text-primary transition-colors",children:"Questions frquentes"})}),a.jsx("li",{children:a.jsx(we,{to:"/terms",className:"text-grey-600 hover:text-primary transition-colors",children:"Conditions d'utilisation"})}),a.jsx("li",{children:a.jsx(we,{to:"/privacy",className:"text-grey-600 hover:text-primary transition-colors",children:"Politique de confidentialit"})})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-card shadow-card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Envoyez-nous un message"}),a.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border-l-4 border-orange-500 text-orange-800 rounded",children:[" Daloa Market est actuellement en ",a.jsx("strong",{children:"phase de test (version bta)"}),".",a.jsx("br",{}),"Cette plateforme volue rapidement grce  vos retours. Certaines fonctionnalits ou conditions peuvent changer sans pravis.",a.jsx("br",{}),a.jsx("strong",{children:"Aucune structure juridique formelle n'est encore cre."})," L'activit reste  petite chelle et s'adapte selon les retours des utilisateurs."]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"h-16 w-16 bg-success-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ph,{className:"h-8 w-8 text-success"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Message envoy !"}),a.jsx("p",{className:"text-grey-600 mb-6",children:"Merci de nous avoir contacts. Nous vous rpondrons dans les plus brefs dlais."}),a.jsx("button",{onClick:()=>s(!1),className:"btn-primary",children:"Envoyer un autre message"})]}):a.jsxs("form",{onSubmit:l(f),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"input-label",children:"Nom complet"}),a.jsx("input",{id:"name",type:"text",className:`input-field ${d.name?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Votre nom",...o("name",{required:"Le nom est requis"}),disabled:t}),d.name&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),d.name.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),a.jsx("input",{id:"email",type:"email",className:`input-field ${d.email?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"votre@email.com",...o("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Adresse email invalide"}}),disabled:t}),d.email&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),d.email.message]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"input-label",children:"Sujet"}),a.jsx("input",{id:"subject",type:"text",className:`input-field ${d.subject?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Sujet de votre message",...o("subject",{required:"Le sujet est requis"}),disabled:t}),d.subject&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),d.subject.message]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"input-label",children:"Message"}),a.jsx("textarea",{id:"message",rows:6,className:`input-field ${d.message?"border-error-500 focus:ring-error-500 focus:border-error-500":""}`,placeholder:"Votre message...",...o("message",{required:"Le message est requis",minLength:{value:10,message:"Le message doit contenir au moins 10 caractres"}}),disabled:t}),d.message&&a.jsxs("p",{className:"input-error flex items-center mt-1",children:[a.jsx(ze,{className:"h-4 w-4 mr-1"}),d.message.message]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:t,children:t?a.jsx(rt,{size:"small",className:"text-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Ph,{className:"h-5 w-5 mr-2"}),"Envoyer le message"]})})})]})]})})]})]})})},U4=()=>{const e=qt().hash,r=new URLSearchParams(e.replace("#","")),s=r.get("error"),o=r.get("error_description"),[l,c]=ct.useState(!1),[d,f]=ct.useState(!1),[p,g]=ct.useState(!1),[x,y]=ct.useState(150),b=xt(),{refreshUserProfile:S}=Et();ct.useEffect(()=>{(async()=>{var j,A,C;try{const k=oe.auth;if(typeof k.getSessionFromUrl=="function"){const R=await k.getSessionFromUrl({storeSession:!0});if((A=(j=R==null?void 0:R.data)==null?void 0:j.session)!=null&&A.user){await S(),b("/complete-profile");return}}const{data:L}=await oe.auth.getSession();(C=L.session)!=null&&C.user&&(await S(),b("/complete-profile"))}catch(k){console.warn("No session available after email confirmation or error parsing URL session:",k)}})()},[b,S]),ct.useEffect(()=>{if(s){c(!1),y(150);const j=setInterval(()=>{y(A=>A<=1?(clearInterval(j),c(!0),0):A-1)},1e3);return()=>clearInterval(j)}},[s]);const N=async()=>{f(!0),await new Promise(j=>setTimeout(j,1200)),f(!1),g(!0)};return a.jsx("div",{className:"min-h-screen bg-grey-50 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-card shadow-card p-8 max-w-md w-full text-center",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-16 w-16 text-error-500 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lien invalide ou expir"}),a.jsx("p",{className:"text-grey-700 mb-4",children:decodeURIComponent(o||"Le lien de confirmation est invalide ou a expir. Vous pouvez demander un nouveau lien ou vous inscrire  nouveau.")}),a.jsx(we,{to:"/login",className:"btn-primary w-full mb-3",children:"Retour  la connexion"}),l&&!p&&a.jsx("button",{className:"btn-outline w-full",onClick:N,disabled:d,children:d?"Envoi en cours...":"Renvoyer l'email de confirmation"}),p&&a.jsx("div",{className:"text-success-700 mt-2 text-sm",children:"Email de confirmation renvoy !"}),!l&&a.jsxs("div",{className:"text-grey-500 mt-2 text-xs",children:["Vous pourrez demander un nouvel email dans ",Math.floor(x/60),":",(x%60).toString().padStart(2,"0"),"."]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Vl,{className:"h-16 w-16 text-success mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Email confirm !"}),a.jsx("p",{className:"text-grey-700 mb-4",children:"Votre adresse email a bien t confirme. Vous pouvez maintenant vous connecter et profiter de DaloaMarket."}),a.jsx(we,{to:"/login",className:"btn-primary w-full",children:"Revenir sur DaloaMarket"})]})})})},my=[{id:"starter",name:"Starter",credits:3,price:500,description:"Pour publier vos premires annonces",popular:!1},{id:"regular",name:"Regular",credits:10,price:1500,description:"Le plus populaire pour publier plusieurs annonces",popular:!0},{id:"pro",name:"Pro",credits:30,price:3500,description:"Pour publier beaucoup dannonces",popular:!1}],gy=()=>{const{user:t}=Et(),e=xt(),[r,s]=_.useState("explanation"),[o,l]=_.useState(!1),[c,d]=_.useState({selectedPack:"",phoneNumber:"",email:(t==null?void 0:t.email)||"",fullName:"",screenshot:null}),f=y=>{var S;const b=(S=y.target.files)==null?void 0:S[0];if(b){if(b.size>5*1024*1024){ne.error("Le fichier ne doit pas dpasser 5MB");return}if(!b.type.startsWith("image/")){ne.error("Veuillez slectionner une image");return}d(N=>({...N,screenshot:b}))}},p=y=>new Promise((b,S)=>{const N=new FileReader;N.readAsDataURL(y),N.onload=()=>b(N.result),N.onerror=j=>S(j)}),g=async y=>{if(y.preventDefault(),!c.selectedPack||!c.phoneNumber||!c.email||!c.fullName||!c.screenshot){ne.error("Veuillez remplir tous les champs");return}l(!0);try{const b=await p(c.screenshot),S=await fetch("/.netlify/functions/send-credit-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedPack:c.selectedPack,phoneNumber:c.phoneNumber,email:c.email,fullName:c.fullName,screenshotBase64:b,screenshotFilename:c.screenshot.name})}),N=await S.json();if(!S.ok)throw new Error(N.error||"Erreur lors de l'envoi");ne.success("Demande envoye avec succs !"),s("success")}catch(b){console.error("Erreur:",b),ne.error(b instanceof Error?b.message:"Erreur lors de l'envoi")}finally{l(!1)}},x=my.find(y=>y.id===c.selectedPack);return r==="explanation"?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:[a.jsx("div",{className:"lg:hidden bg-white shadow-sm sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center px-4 py-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 rounded-xl hover:bg-grey-100 transition-colors",children:a.jsx(Xn,{className:"h-5 w-5 text-grey-600"})}),a.jsx("h1",{className:"ml-3 text-lg font-semibold text-grey-900",children:"Acheter des crdits"})]})}),a.jsxs("div",{className:"container-custom py-4 lg:py-8",children:[a.jsxs("div",{className:"hidden lg:block mb-8",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-grey-600 hover:text-grey-900 transition-colors mb-4",children:[a.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Retour"]}),a.jsx("h1",{className:"text-3xl font-bold text-grey-900",children:"Acheter des crdits"})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-lg lg:shadow-xl p-6 lg:p-8 mb-6",children:[a.jsxs("div",{className:"text-center mb-6 lg:mb-8",children:[a.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl lg:rounded-3xl flex items-center justify-center mx-auto mb-4 lg:mb-6",children:a.jsx(HT,{className:"h-8 w-8 lg:h-10 lg:w-10 text-orange-600"})}),a.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-3 lg:mb-4",children:"Processus d'achat avec envoi automatique"}),a.jsx("p",{className:"text-grey-600 text-base lg:text-lg leading-relaxed",children:"Effectuez votre paiement puis envoyez-nous la preuve. Votre demande sera traite automatiquement par email."})]}),a.jsxs("div",{className:"space-y-4 lg:space-y-6 mb-6 lg:mb-8",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-sm lg:text-base",children:"1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-grey-900 mb-1 lg:mb-2",children:"Choisissez votre pack"}),a.jsx("p",{className:"text-grey-600 text-sm lg:text-base",children:"Slectionnez le nombre de crdits souhait"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-sm lg:text-base",children:"2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-grey-900 mb-1 lg:mb-2",children:"Effectuez le paiement"}),a.jsx("p",{className:"text-grey-600 text-sm lg:text-base",children:"Envoyez le montant via :"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:"text-grey-700 font-medium text-sm lg:text-base",children:[a.jsx("strong",{children:"Orange Money/Wave :"})," +225 07 88 00 08 31"]}),a.jsxs("p",{className:"text-grey-700 font-medium text-sm lg:text-base",children:[a.jsx("strong",{children:"MTN Mobile Money :"})," +225 05 55 86 39 53"]})]})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-sm lg:text-base",children:"3"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-grey-900 mb-1 lg:mb-2",children:"Envoyez les preuves automatiquement"}),a.jsx("p",{className:"text-grey-600 text-sm lg:text-base",children:"Tlchargez votre capture d'cran et remplissez le formulaire. Un email sera envoy automatiquement  notre quipe."})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-orange-50 rounded-xl lg:rounded-2xl p-4 lg:p-6 mb-6 lg:mb-8",children:[a.jsxs("h3",{className:"font-semibold text-primary-800 mb-3 lg:mb-4 flex items-center",children:[a.jsx(zs,{className:"h-5 w-5 mr-2"}),"Informations de paiement"]}),a.jsxs("div",{className:"space-y-2 text-sm lg:text-base",children:[a.jsxs("p",{className:"text-primary-700",children:[a.jsx("strong",{children:"Orange Money/Wave :"})," +225 07 88 00 08 31"]}),a.jsxs("p",{className:"text-primary-700",children:[a.jsx("strong",{children:"MTN Mobile Money :"})," +225 05 55 86 39 53"]})]})]}),a.jsx("button",{onClick:()=>s("form"),className:"w-full bg-gradient-to-r from-primary to-orange-500 text-white font-semibold py-3 lg:py-4 px-6 rounded-xl lg:rounded-2xl hover:from-primary-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl text-base lg:text-lg",children:"Continuer vers l'achat"})]})})]})]}):r==="form"?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100",children:[a.jsx("div",{className:"lg:hidden bg-white shadow-sm sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center px-4 py-3",children:[a.jsx("button",{onClick:()=>s("explanation"),className:"p-2 -ml-2 rounded-xl hover:bg-grey-100 transition-colors",children:a.jsx(Xn,{className:"h-5 w-5 text-grey-600"})}),a.jsx("h1",{className:"ml-3 text-lg font-semibold text-grey-900",children:"Formulaire d'achat"})]})}),a.jsxs("div",{className:"container-custom py-4 lg:py-8",children:[a.jsxs("div",{className:"hidden lg:block mb-8",children:[a.jsxs("button",{onClick:()=>s("explanation"),className:"flex items-center text-grey-600 hover:text-grey-900 transition-colors mb-4",children:[a.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Retour"]}),a.jsx("h1",{className:"text-3xl font-bold text-grey-900",children:"Formulaire d'achat"})]}),a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-lg lg:shadow-xl p-6 lg:p-8 mb-6",children:[a.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-4 lg:mb-6",children:"Choisissez votre pack"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:my.map(y=>a.jsxs("div",{onClick:()=>d(b=>({...b,selectedPack:y.id})),className:`relative cursor-pointer rounded-xl lg:rounded-2xl border-2 p-4 lg:p-6 transition-all duration-200 transform hover:scale-105 ${c.selectedPack===y.id?"border-primary bg-primary-50 shadow-lg":"border-grey-200 bg-white hover:border-primary-200 hover:shadow-md"}`,children:[y.popular&&a.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-gradient-to-r from-primary to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"POPULAIRE"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-bold text-lg lg:text-xl text-grey-900 mb-2",children:y.name}),a.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-primary mb-2",children:y.credits}),a.jsx("div",{className:"text-sm text-grey-600 mb-2",children:"crdits"}),a.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-2",children:[y.price," FCFA"]}),a.jsx("div",{className:"text-xs lg:text-sm text-grey-500",children:y.description})]}),c.selectedPack===y.id&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(Ul,{className:"h-5 w-5 lg:h-6 lg:w-6 text-primary"})})]},y.id))})]}),c.selectedPack&&a.jsxs("form",{onSubmit:g,className:"bg-white rounded-2xl lg:rounded-3xl shadow-lg lg:shadow-xl p-6 lg:p-8",children:[a.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-4 lg:mb-6",children:"Informations de transaction"}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-orange-50 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-primary-800",children:"Pack slectionn"}),a.jsxs("p",{className:"text-primary-700",children:[x==null?void 0:x.name," - ",x==null?void 0:x.credits," crdits"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[x==null?void 0:x.price," FCFA"]})})]})}),a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm lg:text-base font-semibold text-grey-700 mb-2 lg:mb-3",children:"Capture d'cran de la transaction *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden",id:"screenshot-upload",required:!0}),a.jsx("label",{htmlFor:"screenshot-upload",className:`flex flex-col items-center justify-center w-full h-32 lg:h-40 border-2 border-dashed rounded-xl lg:rounded-2xl cursor-pointer transition-colors ${c.screenshot?"border-primary bg-primary-50":"border-grey-300 bg-grey-50 hover:border-primary hover:bg-primary-50"}`,children:c.screenshot?a.jsxs("div",{className:"text-center",children:[a.jsx(Ul,{className:"h-8 w-8 lg:h-10 lg:w-10 text-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm lg:text-base font-medium text-primary",children:c.screenshot.name}),a.jsx("p",{className:"text-xs lg:text-sm text-grey-600",children:"Cliquez pour changer"})]}):a.jsxs("div",{className:"text-center",children:[a.jsx(fw,{className:"h-8 w-8 lg:h-10 lg:w-10 text-grey-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm lg:text-base font-medium text-grey-600",children:"Tlcharger la capture"}),a.jsx("p",{className:"text-xs lg:text-sm text-grey-500",children:"PNG, JPG jusqu' 5MB"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm lg:text-base font-semibold text-grey-700 mb-2 lg:mb-3",children:"Numro qui a t dbit *"}),a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-grey-400"}),a.jsx("input",{type:"tel",id:"phone",value:c.phoneNumber,onChange:y=>d(b=>({...b,phoneNumber:y.target.value})),className:"w-full pl-10 pr-4 py-3 lg:py-4 border border-grey-300 rounded-xl lg:rounded-2xl focus:ring-2 focus:ring-primary focus:border-primary transition-colors text-base lg:text-lg",placeholder:"+225 XX XX XX XX XX",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm lg:text-base font-semibold text-grey-700 mb-2 lg:mb-3",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-grey-400"}),a.jsx("input",{type:"email",id:"email",value:c.email,onChange:y=>d(b=>({...b,email:y.target.value})),className:"w-full pl-10 pr-4 py-3 lg:py-4 border border-grey-300 rounded-xl lg:rounded-2xl focus:ring-2 focus:ring-primary focus:border-primary transition-colors text-base lg:text-lg",placeholder:"votre@email.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm lg:text-base font-semibold text-grey-700 mb-2 lg:mb-3",children:"Nom complet *"}),a.jsxs("div",{className:"relative",children:[a.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-grey-400"}),a.jsx("input",{type:"text",id:"fullName",value:c.fullName,onChange:y=>d(b=>({...b,fullName:y.target.value})),className:"w-full pl-10 pr-4 py-3 lg:py-4 border border-grey-300 rounded-xl lg:rounded-2xl focus:ring-2 focus:ring-primary focus:border-primary transition-colors text-base lg:text-lg",placeholder:"Votre nom complet",required:!0})]})]})]}),a.jsx("div",{className:"mt-6 lg:mt-8",children:a.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-primary to-orange-500 text-white font-semibold py-3 lg:py-4 px-6 rounded-xl lg:rounded-2xl hover:from-primary-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-base lg:text-lg flex items-center justify-center",children:o?a.jsxs(a.Fragment,{children:[a.jsx(rt,{size:"small",className:"text-white mr-2"}),"Envoi en cours..."]}):"Envoyer la demande"})}),a.jsx("div",{className:"mt-4 lg:mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ze,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm lg:text-base text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Traitement automatique"}),a.jsx("p",{children:"Votre demande sera envoye automatiquement par email  notre quipe. Vous recevrez une confirmation dans les 24h."})]})]})})]})]})]})]}):r==="success"?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-grey-50 to-grey-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-6 lg:p-8 max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center mx-auto mb-4 lg:mb-6",children:a.jsx(Ul,{className:"h-8 w-8 lg:h-10 lg:w-10 text-green-600"})}),a.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-grey-900 mb-3 lg:mb-4",children:"Demande envoye !"}),a.jsx("p",{className:"text-grey-600 mb-6 lg:mb-8 text-base lg:text-lg leading-relaxed",children:"Votre demande d'achat de crdits a t envoye automatiquement par email  notre quipe. Vous recevrez une confirmation dans les 24h."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>e("/profile"),className:"w-full bg-gradient-to-r from-primary to-orange-500 text-white font-semibold py-3 lg:py-4 px-6 rounded-xl lg:rounded-2xl hover:from-primary-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-[1.02] shadow-lg hover:shadow-xl text-base lg:text-lg",children:"Retour au profil"}),a.jsx("button",{onClick:()=>e("/"),className:"w-full border-2 border-grey-300 text-grey-700 font-semibold py-3 lg:py-4 px-6 rounded-xl lg:rounded-2xl hover:border-grey-400 hover:bg-grey-50 transition-all duration-200 text-base lg:text-lg",children:"Retour  l'accueil"})]})]})}):null},$4=()=>{const{user:t}=Et(),e=xt(),r=s=>{t||(s.preventDefault(),e("/login",{replace:!0,state:{from:"/acheter-credits"}}))};return a.jsx("div",{className:"min-h-screen bg-grey-50 py-10",children:a.jsxs("div",{className:"container-custom max-w-2xl bg-white rounded-card shadow-card p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Comment a marche ?"}),a.jsxs("ol",{className:"space-y-8 mt-8",children:[a.jsxs("li",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Crez votre annonce"}),a.jsx("p",{className:"text-grey-700",children:"Prenez des photos, dcrivez votre article, fixez votre prix et publiez. Le paiement de la publication se fait manuellement aprs cration. Vous pouvez ajouter plusieurs photos pour attirer plus dacheteurs."})]}),a.jsxs("li",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Discutez avec les acheteurs"}),a.jsx("p",{className:"text-grey-700",children:"Recevez des messages et rpondez via notre messagerie scurise. Pas de boost, pas de paiement automatique. Vous pouvez ngocier, poser des questions et convenir dun rendez-vous."})]}),a.jsxs("li",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Vendez en toute simplicit"}),a.jsx("p",{className:"text-grey-700",children:"Rencontrez lacheteur dans votre quartier en toute scurit. Le paiement se fait directement entre vous et lacheteur, sans intermdiaire."})]})]}),a.jsxs("div",{className:"mt-10",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"Conseils pour russir vos ventes"}),a.jsxs("ul",{className:"list-disc pl-6 text-grey-700 space-y-2",children:[a.jsx("li",{children:"Ajoutez des photos claires et rcentes de votre article."}),a.jsx("li",{children:"Dcrivez prcisment ltat, la marque, la taille, etc."}),a.jsx("li",{children:"Rpondez rapidement aux messages pour ne pas rater une vente."}),a.jsx("li",{children:"Privilgiez les lieux publics pour les rendez-vous."}),a.jsx("li",{children:"Ne partagez jamais vos informations sensibles."})]})]}),a.jsxs("div",{className:"mt-10",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"Questions frquentes"}),a.jsxs("ul",{className:"list-disc pl-6 text-grey-700 space-y-2",children:[a.jsxs("li",{children:["Comment acheter des crdits?"," ",a.jsxs("span",{className:"text-grey-500",children:[a.jsx(we,{to:"/acheter-credits",onClick:r,className:"text-primary underline hover:text-primary-700 font-medium",children:'Accder  la page "Acheter des crdits"'})," ","(dans votre profil)"]})]}),a.jsxs("li",{children:["Comment signaler un utilisateur?"," ",a.jsx("span",{className:"text-grey-500",children:'Utilisez le bouton "Signaler" sur le profil ou la conversation.'})]}),a.jsxs("li",{children:["Que faire en cas de problme?"," ",a.jsx("span",{className:"text-grey-500",children:a.jsx(we,{to:"/help",className:"text-primary underline hover:text-primary-700 font-medium",children:"Contactez le support via la page Aide"})})]})]})]})]})})};function B4(){const t=qt(),{user:e,userProfile:r,isProfileComplete:s}=Et();return r&&r.banned?a.jsx(Rs,{to:"/banned",replace:!0}):a.jsx(IN,{mode:"wait",children:a.jsxs(L_,{location:t,children:[a.jsx($e,{path:"/admin",element:a.jsx(L4,{})}),a.jsx($e,{path:"/",element:a.jsx(qe,{children:a.jsx(qA,{})})}),a.jsx($e,{path:"/login",element:e?a.jsx(Rs,{to:"/",replace:!0}):a.jsx(qe,{children:a.jsx(gR,{})})}),a.jsx($e,{path:"/register",element:e?a.jsx(Rs,{to:"/",replace:!0}):a.jsx(qe,{children:a.jsx(xR,{})})}),a.jsx($e,{path:"/auth/reset-password",element:a.jsx(qe,{children:a.jsx(vR,{})})}),a.jsx($e,{path:"/auth/update-password",element:a.jsx(qe,{children:a.jsx(yR,{})})}),a.jsx($e,{path:"/complete-profile",element:a.jsx(qe,{children:a.jsx(Un,{children:s?a.jsx(Rs,{to:"/",replace:!0}):a.jsx(bR,{})})})}),a.jsx($e,{path:"/email-confirmed",element:a.jsx(qe,{children:a.jsx(U4,{})})}),a.jsx($e,{path:"/create-listing",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(j4,{})})})}),a.jsx($e,{path:"/listings/:id",element:a.jsx(qe,{children:a.jsx(k4,{})})}),a.jsx($e,{path:"/search",element:a.jsx(qe,{children:a.jsx(N4,{})})}),a.jsx($e,{path:"/messages",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(E4,{})})})}),a.jsx($e,{path:"/acheter-credits",element:a.jsx(qe,{children:a.jsx(Un,{children:a.jsx(gy,{})})})}),a.jsx($e,{path:"/messages/:listingId/:userId",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(C4,{})})})}),a.jsx($e,{path:"/profile",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(wR,{})})})}),a.jsx($e,{path:"/profile/seller/:sellerId",element:a.jsx(qe,{children:a.jsx(jR,{})})}),a.jsx($e,{path:"/settings",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(z4,{})})})}),a.jsx($e,{path:"/paiement-annonce/:id",element:a.jsx(qe,{children:a.jsx(R4,{})})}),a.jsx($e,{path:"/payment/success",element:a.jsx(qe,{children:a.jsx(P4,{})})}),a.jsx($e,{path:"/payment/failure",element:a.jsx(qe,{children:a.jsx(T4,{})})}),a.jsx($e,{path:"/about",element:a.jsx(qe,{children:a.jsx(WA,{})})}),a.jsx($e,{path:"/faq",element:a.jsx(qe,{children:a.jsx(I4,{})})}),a.jsx($e,{path:"/terms",element:a.jsx(qe,{children:a.jsx(M4,{})})}),a.jsx($e,{path:"/privacy",element:a.jsx(qe,{children:a.jsx(F4,{})})}),a.jsx($e,{path:"/help",element:a.jsx(qe,{children:a.jsx(V4,{})})}),a.jsx($e,{path:"/how-it-works",element:a.jsx(qe,{children:a.jsx($4,{})})}),a.jsx($e,{path:"/acheter-credits",element:a.jsx(qe,{children:a.jsx(Un,{requireProfile:!0,children:a.jsx(gy,{})})})}),a.jsx($e,{path:"/banned",element:a.jsx(D4,{})}),a.jsx($e,{path:"*",element:a.jsx(qe,{children:a.jsx(O4,{})})})]},t.pathname)})}const xy=console.warn.bind(console);console.warn=(...t)=>{try{if(t&&t.length>0&&typeof t[0]=="string"){const e=t[0];if(e.includes("React Router Future Flag Warning")||e.includes("v7_startTransition")||e.includes("v7_relativeSplatPath"))return}}catch{xy(...t);return}xy(...t)};B1.createRoot(document.getElementById("root")).render(a.jsx(_.StrictMode,{children:a.jsx($_,{children:a.jsxs(IT,{children:[a.jsx(B4,{}),a.jsx(Ok,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#FFFFFF",color:"#1F2937",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},success:{iconTheme:{primary:"#10B981",secondary:"#FFFFFF"}},error:{iconTheme:{primary:"#EF4444",secondary:"#FFFFFF"}}}})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{try{t.update()}catch{}let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}).catch(()=>{})});
